<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>æ•°æ®ç»“æ„ä¹‹çº¿æ€§è¡¨ä¸­ç®€å•çš„é¡ºåºè¡¨</title>
      <link href="/2022/03/24/fa43e29c2fcd-q1jun/"/>
      <url>/2022/03/24/fa43e29c2fcd-q1jun/</url>
      
        <content type="html"><![CDATA[<h1 id="çº¿æ€§è¡¨-Linear-List"><a href="#çº¿æ€§è¡¨-Linear-List" class="headerlink" title="çº¿æ€§è¡¨(Linear List)"></a>çº¿æ€§è¡¨(Linear List)</h1><p>çº¿æ€§è¡¨æ˜¯å…·æœ‰<code>ç›¸åŒæ•°æ®ç±»å‹</code>ï¼Œæ¯ä¸ªæ•°æ®å…ƒç´ <code>æ‰€å ç©ºé—´ä¸€æ ·å¤§</code>çš„nä¸ªæ•°æ®å…ƒç´ çš„<code>æœ‰é™</code>åºåˆ—(æœ‰æ¬¡åº)ã€‚</p><p>L&#x3D;($a_1,a_2,â€¦,a_i,a_{i+1},â€¦,a_n$)</p><p>å…¶ä¸­$a_i$æ˜¯çº¿æ€§è¡¨ä¸­çš„â€œç¬¬iä¸ªâ€å…ƒç´ çº¿æ€§è¡¨ä¸­çš„<code>ä½åº</code></p><p>$a_1$æ˜¯è¡¨å¤´å…ƒç´ ï¼›$a_n$æ˜¯è¡¨å°¾å…ƒç´ ã€‚</p><p>é™¤ç¬¬ä¸€ä¸ªå…ƒç´ å¤–ï¼Œæ¯ä¸ªå…ƒç´ æœ‰ä¸”ä»…æœ‰ä¸€ä¸ª<code>ç›´æ¥å‰é©±</code>ï¼›é™¤æœ€åä¸€ä¸ªå…ƒç´ å¤–ï¼Œæ¯ä¸ªå…ƒç´ æœ‰ä¸”ä»…æœ‰ä¸€ä¸ª<code>ç›´æ¥åç»§</code>ã€‚</p><h2 id="0x01-çº¿æ€§è¡¨çš„å¸¸ç”¨å®ç°å‡½æ•°ï¼š"><a href="#0x01-çº¿æ€§è¡¨çš„å¸¸ç”¨å®ç°å‡½æ•°ï¼š" class="headerlink" title="0x01 çº¿æ€§è¡¨çš„å¸¸ç”¨å®ç°å‡½æ•°ï¼š"></a>0x01 çº¿æ€§è¡¨çš„å¸¸ç”¨å®ç°å‡½æ•°ï¼š</h2><p>InitList(&amp;L): åˆå§‹åŒ–è¡¨ã€‚æ„é€ ä¸€ä¸ªç©ºçš„çº¿æ€§è¡¨Lï¼Œåˆ†é…å†…å­˜ç©ºé—´ã€‚<br>DestroyList(&amp;L)ï¼šé”€æ¯æ“ä½œã€‚é”€æ¯çº¿æ€§è¡¨ï¼Œå¹¶é‡Šæ”¾çº¿æ€§è¡¨Læ‰€å ç”¨çš„å†…å­˜ç©ºé—´ã€‚</p><p>ListInsert(&amp;L,i,e)ï¼šæ’å…¥æ“ä½œã€‚åœ¨è¡¨Lä¸­çš„ç¬¬iä¸ªä½ç½®ä¸Šæ’å…¥æŒ‡å®šå…ƒç´ eã€‚<br>ListDelete(&amp;L,i,&amp;e)ï¼šåˆ é™¤æ“ä½œã€‚åˆ é™¤è¡¨Lä¸­ç¬¬iä¸ªä½ç½®çš„å…ƒç´ ï¼Œå¹¶ç”¨eè¿”å›åˆ é™¤å…ƒç´ çš„å€¼ã€‚</p><p>LocateElem(L,e)ï¼šæŒ‰å€¼æŸ¥æ‰¾æ“ä½œã€‚åœ¨è¡¨Lä¸­æŸ¥æ‰¾å…·æœ‰ç»™å®šå…³é”®å­—å€¼çš„å…ƒç´ ã€‚<br>GetElem(L,i)ï¼šæŒ‰ä½æŸ¥æ‰¾æ“ä½œã€‚è·å–è¡¨Lä¸­ç¬¬iä¸ªä½ç½®çš„å…ƒç´ çš„å€¼ã€‚</p><p>å…¶ä»–å¸¸ç”¨æ“ä½œï¼š Length(L)ï¼šæ±‚è¡¨é•¿ã€‚è¿”å›çº¿æ€§è¡¨Lçš„é•¿åº¦ï¼Œå³Lä¸­æ•°æ®å…ƒç´ çš„ä¸ªæ•°ã€‚<br>PrintList(L)ï¼šè¾“å‡ºæ“ä½œã€‚æŒ‰å‰åé¡ºåºè¾“å‡ºçº¿æ€§è¡¨Lçš„æ‰€æœ‰å…ƒç´ å€¼ã€‚<br>Empty(L)ï¼šåˆ¤ç©ºæ“ä½œã€‚è‹¥Lä¸ºç©ºè¡¨ï¼Œåˆ™è¿”å›trueï¼Œå¦åˆ™è¿”å›falseã€‚</p><h2 id="0x02-é¡ºåºè¡¨"><a href="#0x02-é¡ºåºè¡¨" class="headerlink" title="0x02 é¡ºåºè¡¨"></a>0x02 é¡ºåºè¡¨</h2><p>é¡ºåºè¡¨æ˜¯ç”¨<code>é¡ºåºå­˜å‚¨</code>çš„æ–¹å¼å®ç°çº¿æ€§è¡¨ã€‚</p><blockquote><p>é¡ºåºå­˜å‚¨ï¼š</p><p>æŠŠé€»è¾‘ä¸Šç›¸é‚»çš„å…ƒç´ å­˜å‚¨åœ¨ç‰©ç†ä½ç½®ä¸Šä¹Ÿç›¸é‚»çš„å­˜å‚¨å•å…ƒä¸­ï¼Œå…ƒç´ ä¹‹é—´çš„å…³ç³»ç”±å­˜å‚¨å•å…ƒçš„é‚»æ¥å…³ç³»æ¥ä½“ç°ã€‚</p></blockquote><p>é¡ºåºè¡¨çš„ç‰¹ç‚¹ï¼š</p><ol><li>éšæœºè®¿é—®ï¼Œå³å¯åœ¨O(1)çš„æ—¶é—´å†…æ‰¾åˆ°ç¬¬ i ä¸ªå…ƒç´ ã€‚</li><li>å­˜å‚¨å¯†åº¦é«˜ï¼Œæ¯ä¸ªèŠ‚ç‚¹ä¹‹å­˜å‚¨æ•°æ®å…ƒç´ ã€‚</li><li>æ‰©å±•å®¹é‡ä¸æ–¹ä¾¿(å³ä¾¿é‡‡ç”¨åŠ¨æ€åˆ†é…çš„æ–¹å¼å®ç°ï¼Œæ‹“å±•é•¿åº¦çš„æ—¶é—´å¤æ‚åº¦ä¹Ÿæ¯”è¾ƒé«˜)ã€‚</li><li>æ’å…¥ã€åˆ é™¤æ“ä½œä¸æ–¹ä¾¿ï¼Œéœ€è¦ç§»åŠ¨å¤§é‡å…ƒç´ ã€‚</li></ol><h3 id="0x0201-é¡ºåºè¡¨â€“é™æ€åˆ†é…"><a href="#0x0201-é¡ºåºè¡¨â€“é™æ€åˆ†é…" class="headerlink" title="0x0201 é¡ºåºè¡¨â€“é™æ€åˆ†é…"></a>0x0201 é¡ºåºè¡¨â€“é™æ€åˆ†é…</h3><p>é™æ€åˆ†é…æ–¹å¼ï¼š</p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> MaxSize 10<span class="comment">//å®šä¹‰æœ€å¤§é•¿åº¦</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span>&#123;</span></span><br><span class="line">  ElemType data[MaxSize];<span class="comment">//ç”¨é™æ€çš„â€œæ•°ç»„â€æ¥å­˜æ”¾æ•°æ®å…ƒç´ </span></span><br><span class="line">  <span class="type">int</span> length;<span class="comment">//é¡ºåºè¡¨çš„å½“å‰é•¿åº¦</span></span><br><span class="line">&#125;SqList;<span class="comment">//é¡ºåºè¡¨çš„ç±»å‹å®šä¹‰(é™æ€åˆ†é…æ–¹å¼)</span></span><br></pre></td></tr></table></figure><p>ä¸¾ä¸ªæ —å­ï¼š</p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> MaxSize 10 <span class="comment">//å®šä¹‰æœ€å¤§é•¿åº¦</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></span><br><span class="line">    <span class="type">int</span> data[MaxSize];</span><br><span class="line">    <span class="type">int</span> length;</span><br><span class="line">&#125;SqList;</span><br><span class="line"></span><br><span class="line"><span class="comment">/***</span></span><br><span class="line"><span class="comment"> * @description: åˆå§‹åŒ–é¡ºåºè¡¨ </span></span><br><span class="line"><span class="comment"> * @param &#123;SqList&amp;&#125; L</span></span><br><span class="line"><span class="comment"> * @return &#123;*&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">InitList</span><span class="params">(SqList&amp; L)</span> &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>;i &lt; MaxSize; i++) &#123;</span><br><span class="line">        L.data[i] = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    L.length = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">    SqList L; <span class="comment">//å£°æ˜ä¸€ä¸ªé¡ºåºè¡¨</span></span><br><span class="line">    InitList(L); <span class="comment">//åˆå§‹åŒ–é¡ºåºè¡¨</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>;i &lt; L.length; i++) &#123; <span class="comment">//æ‰“å°æ•´ä¸ª data æ•°ç»„</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;data[%d]=%d\n&quot;</span>, i, L.data[i]);</span><br><span class="line">    &#125;</span><br><span class="line">  <span class="comment">//æœ€å¥½ä½¿ç”¨ GetElem(L , i)è¿™ç§æ–¹å¼æ¥è®¿é—®é¡ºåºè¡¨çš„æ•°æ®å…ƒç´ </span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>é¡ºåºè¡¨çš„é™æ€åˆ†é…çš„å±€é™æ€§åœ¨äºé¡ºåºè¡¨çš„è¡¨é•¿åœ¨å¼€å§‹æ—¶å°±è¦ç¡®å®šï¼Œç„¶åå°±æ— æ³•æ›´æ”¹ï¼ˆå­˜å‚¨ç©ºé—´æ˜¯<code>é™æ€</code>çš„ï¼‰ã€‚</p></blockquote><h3 id="0x0202-é¡ºåºè¡¨â€“åŠ¨æ€åˆ†é…"><a href="#0x0202-é¡ºåºè¡¨â€“åŠ¨æ€åˆ†é…" class="headerlink" title="0x0202 é¡ºåºè¡¨â€“åŠ¨æ€åˆ†é…"></a>0x0202 é¡ºåºè¡¨â€“åŠ¨æ€åˆ†é…</h3><p>ä¸ºäº†åŠ¨æ€åˆ†é…å­˜å‚¨ç©ºé—´ï¼Œæé«˜å†…å­˜ç©ºé—´çš„ä½¿ç”¨æ•ˆç‡ï¼Œå¯ä»¥é‡‡ç”¨åŠ¨æ€åˆ†é…çš„åˆ†é…æ–¹å¼ã€‚</p><p>åŠ¨æ€åˆ†é…æ–¹å¼ï¼š</p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> InitSize 10 <span class="comment">//é¡ºåºè¡¨çš„åˆå§‹é•¿åº¦</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">sqlist_dynamic</span> //é¡ºåºè¡¨çš„ç±»å‹å®šä¹‰</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    ElemType* data; <span class="comment">//æŒ‡å‘åŠ¨æ€åˆ†é…æ•°ç»„çš„æŒ‡é’ˆ</span></span><br><span class="line">    <span class="type">int</span> MaxSize; <span class="comment">//é¡ºåºè¡¨çš„æœ€å¤§å®¹é‡</span></span><br><span class="line">    <span class="type">int</span> length; <span class="comment">//é¡ºåºè¡¨çš„å½“å‰é•¿åº¦</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>åŠ¨æ€åˆ†é…ï¼šåŠ¨æ€ç”³è¯·å’Œé‡Šæ”¾å†…å­˜ç©ºé—´ã€‚</p><ul><li>ç”³è¯·ï¼šmallocå‡½æ•°</li><li>é‡Šæ”¾ï¼šfreeå‡½æ•°</li></ul></blockquote><p>ä¸¾ä¸ªæ —å­ï¼š</p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> InitSize 10 <span class="comment">//é¡ºåºè¡¨çš„åˆå§‹é•¿åº¦</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span>//é¡ºåºè¡¨çš„ç±»å‹å®šä¹‰</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="type">int</span>* data; <span class="comment">//æŒ‡å‘åŠ¨æ€åˆ†é…æ•°ç»„çš„æŒ‡é’ˆ</span></span><br><span class="line">    <span class="type">int</span> MaxSize; <span class="comment">//é¡ºåºè¡¨çš„æœ€å¤§å®¹é‡</span></span><br><span class="line">    <span class="type">int</span> length; <span class="comment">//é¡ºåºè¡¨çš„å½“å‰é•¿åº¦</span></span><br><span class="line">&#125;Sqlist_dynamic;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*** </span></span><br><span class="line"><span class="comment"> * @description: åˆå§‹åŒ–é¡ºåºè¡¨ </span></span><br><span class="line"><span class="comment"> * @param &#123;Sqlist_dynamic&amp;&#125; L</span></span><br><span class="line"><span class="comment"> * @return &#123;*&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">InitList</span><span class="params">(Sqlist_dynamic&amp; L)</span> &#123;</span><br><span class="line">    <span class="comment">//ç”¨ malloc å‡½æ•°ç”³è¯·ä¸€ç‰‡è¿ç»­çš„å­˜å‚¨ç©ºé—´</span></span><br><span class="line">    L.data = (<span class="type">int</span>*)<span class="built_in">malloc</span>(InitSize * <span class="keyword">sizeof</span>(<span class="type">int</span>));</span><br><span class="line">    L.length = <span class="number">0</span>;</span><br><span class="line">    L.MaxSize = InitSize;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*** </span></span><br><span class="line"><span class="comment"> * @description: å¢åŠ åŠ¨æ€æ•°ç»„çš„é•¿åº¦ </span></span><br><span class="line"><span class="comment"> * @param &#123;Sqlist_dynamic&amp;&#125; L</span></span><br><span class="line"><span class="comment"> * @param &#123;int&#125; len</span></span><br><span class="line"><span class="comment"> * @return &#123;*&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">IncreaseSize</span><span class="params">(Sqlist_dynamic&amp; L, <span class="type">int</span> len)</span> &#123;</span><br><span class="line">    <span class="type">int</span>* p = L.data;</span><br><span class="line">    L.data = (<span class="type">int</span>*)<span class="built_in">malloc</span>((L.MaxSize + len) * <span class="keyword">sizeof</span>(<span class="type">int</span>));</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; L.length; i++) &#123;</span><br><span class="line">        L.data[i] = p[i]; <span class="comment">//å°†æ•°æ®å¤åˆ¶åˆ°æ–°åŒºåŸŸ</span></span><br><span class="line">    &#125;</span><br><span class="line">    L.MaxSize = L.MaxSize + len; <span class="comment">//é¡ºåºè¡¨æœ€å¤§é•¿åº¦ + len</span></span><br><span class="line">    <span class="built_in">free</span>(p); <span class="comment">//é‡Šæ”¾åŸæ¥çš„å†…å­˜ç©ºé—´</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">    Sqlist_dynamic L;</span><br><span class="line">    InitList(L);</span><br><span class="line">    <span class="comment">/* <span class="doctag">TODO:</span> éšæ„æ’å…¥å‡ ä¸ªå…ƒç´  */</span></span><br><span class="line">    IncreaseSize(L, <span class="number">5</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="0x0203-é¡ºåºè¡¨çš„æ’å…¥"><a href="#0x0203-é¡ºåºè¡¨çš„æ’å…¥" class="headerlink" title="0x0203 é¡ºåºè¡¨çš„æ’å…¥"></a>0x0203 é¡ºåºè¡¨çš„æ’å…¥</h3><h4 id="å®ç°ï¼š"><a href="#å®ç°ï¼š" class="headerlink" title="å®ç°ï¼š"></a>å®ç°ï¼š</h4><p>ä¸¾ç¬¬ä¸€ä¸ªæ —å­ğŸŒ°ï¼š</p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*** </span></span><br><span class="line"><span class="comment"> * @description: é¡ºåºè¡¨çš„æ’å…¥ï¼Œå°†å…ƒç´ eæ’å…¥iå¤„</span></span><br><span class="line"><span class="comment"> * @param &#123;SqList&amp;&#125; L</span></span><br><span class="line"><span class="comment"> * @param &#123;int&#125; i</span></span><br><span class="line"><span class="comment"> * @param &#123;int&#125; e</span></span><br><span class="line"><span class="comment"> * @return &#123;*&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">ListInsert</span><span class="params">(SqList&amp; L, <span class="type">int</span> i, <span class="type">int</span> e)</span> &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = L.length;j &gt;= i;j--) &#123; <span class="comment">//å°†ç¬¬iä¸ªå…ƒç´ åŠä¹‹åçš„å…ƒç´ åç§»</span></span><br><span class="line">        L.data[j] = L.data[j - <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    L.data[i - <span class="number">1</span>] = e; <span class="comment">//åœ¨ä½ç½®iå¤„æ”¾å…¥e</span></span><br><span class="line">    L.length++; <span class="comment">//é•¿åº¦åŠ 1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ­¤å¤„çœç•¥ï¼š</p><ul><li>åˆ¤æ–­iæ˜¯å¦åˆæ³•ï¼Œå³ <code>i</code> åœ¨<code>[1,length+1]</code>ã€‚</li><li>åˆ¤æ–­é¡ºåºè¡¨æ˜¯å¦å­˜æ»¡ï¼Œè‹¥å­˜æ»¡åˆ™æ— æ³•æ’å…¥æ•°æ®ã€‚</li><li>è¿”å›æ˜¯å¦æ“ä½œæˆåŠŸçš„æç¤ºã€‚</li></ul><p>ä¸¾ç¬¬äºŒä¸ªæ —å­ğŸŒ°ï¼ˆæ”¹è¿›åï¼‰ï¼š</p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*** </span></span><br><span class="line"><span class="comment"> * @description: é¡ºåºè¡¨çš„æ’å…¥ï¼Œå°†å…ƒç´ eæ’å…¥iå¤„</span></span><br><span class="line"><span class="comment"> * @param &#123;SqList&amp;&#125; L</span></span><br><span class="line"><span class="comment"> * @param &#123;int&#125; i</span></span><br><span class="line"><span class="comment"> * @param &#123;int&#125; e</span></span><br><span class="line"><span class="comment"> * @return &#123;bool&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="type">bool</span> <span class="title function_">ListInsert_better</span><span class="params">(SqList&amp; L, <span class="type">int</span> i, <span class="type">int</span> e)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (i&lt;<span class="number">1</span> || i&gt;L.length + <span class="number">1</span>) <span class="keyword">return</span> <span class="literal">false</span>; <span class="comment">//åˆ¤æ–­içš„èŒƒå›´æ˜¯å¦åˆæ³•</span></span><br><span class="line">    <span class="keyword">if</span> (L.length &gt;= MaxSize) <span class="keyword">return</span> <span class="literal">false</span>; <span class="comment">//åˆ¤æ–­å½“å‰ç©ºé—´æ˜¯å¦èƒ½æ”¾ä¸‹e</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = L.length; j &gt;= i; j--) &#123; <span class="comment">//å°†ç¬¬iä¸ªå…ƒç´ åŠä¹‹åçš„å…ƒç´ åç§»</span></span><br><span class="line">        L.data[j] = L.data[j - <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    L.data[i - <span class="number">1</span>] = e; <span class="comment">//åœ¨ä½ç½®iå¤„æ”¾å…¥e</span></span><br><span class="line">    L.length++; <span class="comment">//é•¿åº¦åŠ 1</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>; <span class="comment">//æ’å…¥æˆåŠŸï¼Œè¿”å›true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="æ—¶é—´å¤æ‚åº¦åˆ†æï¼š"><a href="#æ—¶é—´å¤æ‚åº¦åˆ†æï¼š" class="headerlink" title="æ—¶é—´å¤æ‚åº¦åˆ†æï¼š"></a>æ—¶é—´å¤æ‚åº¦åˆ†æï¼š</h4><p><strong>æœ€å¥½æƒ…å†µ</strong>ï¼šæ–°å…ƒç´ æ’å…¥åˆ°è¡¨å°¾ï¼Œä¸éœ€è¦ç§»åŠ¨å…ƒç´ ã€‚<br>i &#x3D; n + 1ï¼Œå¾ªç¯0æ¬¡ï¼›æœ€å¥½æ—¶é—´å¤æ‚åº¦ &#x3D; $O(1)$</p><p><strong>æœ€åæƒ…å†µ</strong>ï¼šæ–°å…ƒç´ æ’å…¥åˆ°è¡¨å¤´ï¼Œéœ€è¦å°†nä¸ªå…ƒç´ å…¨éƒ¨å‘åç§»åŠ¨<br>i &#x3D; 1ï¼Œå¾ªç¯næ¬¡ï¼›æœ€åæ—¶é—´å¤æ‚åº¦ &#x3D; $O(n)$</p><p><strong>å¹³å‡æƒ…å†µ</strong>ï¼šæ–°å…ƒç´ æ’å…¥åˆ°ä»»ä½•ä¸€ä¸ªä½ç½®çš„æ¦‚ç‡ç›¸åŒï¼Œå³ i &#x3D; 1,2,3,â€¦â€¦,length+1 çš„æ¦‚ç‡éƒ½æ˜¯$p &#x3D; 1&#x2F;(n+1)$<br>å½“i &#x3D; 1ï¼Œå¾ªç¯næ¬¡ï¼›å½“i &#x3D; 2æ—¶ï¼Œå¾ªç¯n - 1æ¬¡ï¼›å½“i &#x3D; 3æ—¶ï¼Œå¾ªç¯n - 2æ¬¡ï¼›â€¦â€¦å½“i &#x3D; n + 1æ—¶,å¾ªç¯0æ¬¡ã€‚<br>å¹³å‡å¾ªç¯æ¬¡æ•° &#x3D; $np+(n-1)p+(n-2)p+â€¦â€¦+1Â·p &#x3D; [\frac{n(n+1)}2]Â·[\frac{1}{n+1}]&#x3D;\frac{n}2$<br>$\therefore$ å¹³å‡æ—¶é—´å¤æ‚åº¦ &#x3D; $O(n)$</p><h3 id="0x0204-é¡ºåºè¡¨çš„åˆ é™¤"><a href="#0x0204-é¡ºåºè¡¨çš„åˆ é™¤" class="headerlink" title="0x0204 é¡ºåºè¡¨çš„åˆ é™¤"></a>0x0204 é¡ºåºè¡¨çš„åˆ é™¤</h3><h4 id="å®ç°ï¼š-1"><a href="#å®ç°ï¼š-1" class="headerlink" title="å®ç°ï¼š"></a>å®ç°ï¼š</h4><p>ä¸¾ä¸ªæ —å­ğŸŒ°ï¼š</p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*** </span></span><br><span class="line"><span class="comment"> * @description: åˆ é™¤æ“ä½œã€‚åˆ é™¤è¡¨Lä¸­ç¬¬iä¸ªä½ç½®çš„å…ƒç´ ï¼Œå¹¶ç”¨eè¿”å›åˆ é™¤å…ƒç´ çš„å€¼ã€‚</span></span><br><span class="line"><span class="comment"> * @param &#123;SqList&amp;&#125; L</span></span><br><span class="line"><span class="comment"> * @param &#123;int&#125; i</span></span><br><span class="line"><span class="comment"> * @param &#123;int&amp;&#125; e</span></span><br><span class="line"><span class="comment"> * @return &#123;bool&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="type">bool</span> <span class="title function_">ListDelete</span><span class="params">(SqList&amp; L, <span class="type">int</span> i, <span class="type">int</span>&amp; e)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (i&lt;<span class="number">1</span> || i&gt;L.length) <span class="keyword">return</span> <span class="literal">false</span>; <span class="comment">//åˆ¤æ–­içš„èŒƒå›´æ˜¯å¦æœ‰æ•ˆ</span></span><br><span class="line">    e = L.data[i - <span class="number">1</span>]; <span class="comment">//å°†è¢«åˆ é™¤çš„å…ƒç´ å€¼èµ‹å€¼ç»™e</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = i;j &lt; L.length;j++) &#123; <span class="comment">//å°†ç¬¬iä¸ªä½ç½®åçš„å…ƒç´ å‰ç§»</span></span><br><span class="line">        L.data[j - <span class="number">1</span>] = L.data[j];</span><br><span class="line">    &#125;</span><br><span class="line">    L.length--; <span class="comment">//çº¿æ€§è¡¨é•¿åº¦å‡1</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>; <span class="comment">//è¿”å›tureï¼Œåˆ é™¤æ“ä½œæˆåŠŸã€‚</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="æ—¶é—´å¤æ‚åº¦åˆ†æï¼š-1"><a href="#æ—¶é—´å¤æ‚åº¦åˆ†æï¼š-1" class="headerlink" title="æ—¶é—´å¤æ‚åº¦åˆ†æï¼š"></a>æ—¶é—´å¤æ‚åº¦åˆ†æï¼š</h4><p>åˆ é™¤æ“ä½œçš„æ—¶é—´å¤æ‚åº¦å’Œæ’å…¥æ“ä½œçš„æ—¶é—´å¤æ‚åº¦ç›¸åŒã€‚</p><h3 id="0x0205-é¡ºåºè¡¨çš„æŸ¥æ‰¾-æŒ‰ä½æŸ¥æ‰¾"><a href="#0x0205-é¡ºåºè¡¨çš„æŸ¥æ‰¾-æŒ‰ä½æŸ¥æ‰¾" class="headerlink" title="0x0205 é¡ºåºè¡¨çš„æŸ¥æ‰¾(æŒ‰ä½æŸ¥æ‰¾)"></a>0x0205 é¡ºåºè¡¨çš„æŸ¥æ‰¾(æŒ‰ä½æŸ¥æ‰¾)</h3><h4 id="å®ç°ï¼š-2"><a href="#å®ç°ï¼š-2" class="headerlink" title="å®ç°ï¼š"></a>å®ç°ï¼š</h4><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*** </span></span><br><span class="line"><span class="comment"> * @description: æŸ¥æ‰¾ç¬¬iä¸ªå…ƒç´ ï¼Œè¿”å›ç»™å®šå€¼.</span></span><br><span class="line"><span class="comment"> * @param &#123;SqList&#125; L</span></span><br><span class="line"><span class="comment"> * @param &#123;int&#125; i</span></span><br><span class="line"><span class="comment"> * @return &#123;int&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">ElemType <span class="title function_">GetElemByIndex</span><span class="params">(SqList L, <span class="type">int</span> i)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> L.data[i - <span class="number">1</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="æ—¶é—´å¤æ‚åº¦åˆ†æï¼š-2"><a href="#æ—¶é—´å¤æ‚åº¦åˆ†æï¼š-2" class="headerlink" title="æ—¶é—´å¤æ‚åº¦åˆ†æï¼š"></a>æ—¶é—´å¤æ‚åº¦åˆ†æï¼š</h4><p>ç›´æ¥è¿”å›å€¼ï¼Œæ—¶é—´å¤æ‚åº¦ &#x3D; $O\left(1\right)$</p><h3 id="0x0206-é¡ºåºè¡¨çš„æŸ¥æ‰¾-æŒ‰å€¼æŸ¥æ‰¾"><a href="#0x0206-é¡ºåºè¡¨çš„æŸ¥æ‰¾-æŒ‰å€¼æŸ¥æ‰¾" class="headerlink" title="0x0206 é¡ºåºè¡¨çš„æŸ¥æ‰¾(æŒ‰å€¼æŸ¥æ‰¾)"></a>0x0206 é¡ºåºè¡¨çš„æŸ¥æ‰¾(æŒ‰å€¼æŸ¥æ‰¾)</h3><h4 id="å®ç°ï¼š-3"><a href="#å®ç°ï¼š-3" class="headerlink" title="å®ç°ï¼š"></a>å®ç°ï¼š</h4><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*** </span></span><br><span class="line"><span class="comment"> * @description: æŸ¥æ‰¾å…·æœ‰ç»™å®šå…³é”®å­—å€¼çš„å…ƒç´ </span></span><br><span class="line"><span class="comment"> * @param &#123;SqList&#125; L</span></span><br><span class="line"><span class="comment"> * @param &#123;int&#125; e</span></span><br><span class="line"><span class="comment"> * @return &#123;*&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">GetElemByValue</span><span class="params">(SqList L, <span class="type">int</span> e)</span> &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; L.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (L.data[i] == e) &#123;</span><br><span class="line">            <span class="keyword">return</span> i + <span class="number">1</span>; <span class="comment">//æ•°ç»„ä¸‹æ ‡ä¸ºiçš„å…ƒç´ å€¼ç­‰äºeï¼Œè¿”å›å…¶ä½åºi+1</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>; <span class="comment">//é€€å‡ºäº†å¾ªç¯ï¼Œè¯´æ˜æŸ¥æ‰¾å¤±è´¥</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>psï¼šCè¯­è¨€ä¸­ä¸èƒ½ç”¨<code>==</code>æ¥ç›´æ¥æ¯”è¾ƒä¸¤ä¸ªç»“æ„ä½“å˜é‡ã€‚</p></blockquote><h4 id="æ—¶é—´å¤æ‚åº¦åˆ†æï¼š-3"><a href="#æ—¶é—´å¤æ‚åº¦åˆ†æï¼š-3" class="headerlink" title="æ—¶é—´å¤æ‚åº¦åˆ†æï¼š"></a>æ—¶é—´å¤æ‚åº¦åˆ†æï¼š</h4><p><strong>æœ€å¥½æƒ…å†µ</strong>ï¼šç›®æ ‡å…ƒç´ åœ¨è¡¨å¤´ã€‚<br>å¾ªç¯1æ¬¡ï¼›æœ€å¥½æ—¶é—´å¤æ‚åº¦ &#x3D; $O(1)$</p><p><strong>æœ€åæƒ…å†µ</strong>ï¼šç›®æ ‡å…ƒç´ åœ¨è¡¨å°¾<br>å¾ªç¯næ¬¡ï¼›æœ€åæ—¶é—´å¤æ‚åº¦ &#x3D; $O(n)$</p><p><strong>å¹³å‡æƒ…å†µ</strong>ï¼šå‡è®¾ç›®æ ‡å…ƒç´ å‡ºç°åœ¨ä»»ä½•ä¸€ä¸ªä½ç½®çš„æ¦‚ç‡ç›¸åŒï¼Œæ¦‚ç‡éƒ½æ˜¯$p &#x3D; \cfrac 1n$<br>å¹³å‡å¾ªç¯æ¬¡æ•° &#x3D; $1\cdot\cfrac1n+2\cdot\cfrac1n+3\cdot\cfrac1n+â€¦â€¦+n\cdot\cfrac1n &#x3D; [\frac{n(n+1)}2]Â·[\frac{1}{n}]&#x3D;\frac{n+1}2$<br>$\therefore$ å¹³å‡æ—¶é—´å¤æ‚åº¦ &#x3D; $O(n)$</p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ•°æ®ç»“æ„ </tag>
            
            <tag> ç®—æ³• </tag>
            
            <tag> Cè¯­è¨€ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring Boot å­¦ä¹ ç¬”è®° 11</title>
      <link href="/2021/08/15/439a96847eed-q1jun/"/>
      <url>/2021/08/15/439a96847eed-q1jun/</url>
      
        <content type="html"><![CDATA[<h1 id="Spring-Boot-å­¦ä¹ ç¬”è®°-11"><a href="#Spring-Boot-å­¦ä¹ ç¬”è®°-11" class="headerlink" title="Spring Boot å­¦ä¹ ç¬”è®° 11"></a>Spring Boot å­¦ä¹ ç¬”è®° 11</h1><h2 id="0x01-Dubbo-SSMæ¡†æ¶"><a href="#0x01-Dubbo-SSMæ¡†æ¶" class="headerlink" title="0x01 Dubbo-SSMæ¡†æ¶"></a>0x01 Dubbo-SSMæ¡†æ¶</h2><p><em>æ¥å£å·¥ç¨‹ï¼š</em><br>    å­˜æ”¾å®ä½“Beanå’Œä¸šåŠ¡æ¥å£<br>_æœåŠ¡æä¾›è€…ï¼š_å®ƒæ˜¯ä¸€ä¸ªSpringbootæ¡†æ¶webé¡¹ç›®ï¼Œé›†æˆMyBatisï¼ŒRedis</p><ul><li>æ·»åŠ ä¾èµ–ï¼šMybatisä¾èµ–ï¼ŒMysqlé©±åŠ¨ä¾èµ–ï¼ŒDubboä¾èµ–ï¼Œzookeeperä¾èµ–ï¼ŒRedisä¾èµ–</li><li>é…ç½®Springbootæ ¸å¿ƒé…ç½®æ–‡ä»¶<ul><li>é…ç½®è¿æ¥æ•°æ®åº“</li><li>é…ç½®è¿æ¥redisæ•°æ®åº“dubbo<br>  _æœåŠ¡æ¶ˆè´¹è€…ï¼š_å®ƒæ˜¯ä¸€ä¸ªSpringbootæ¡†æ¶webé¡¹ç›®ï¼Œé›†æˆJSPï¼Œdubbo</li></ul></li><li>æ·»åŠ ä¾èµ–ï¼šDubboï¼Œzookeeperä¾èµ–ï¼Œè§£æJSPé¡µé¢çš„ä¾èµ–ï¼Œæ¥å£å·¥ç¨‹</li><li>é…ç½®Springbootæ ¸å¿ƒé…ç½®æ–‡ä»¶<ul><li>é…ç½®è¯•å›¾è§£æå™¨</li><li>é…ç½®dubbo</li></ul></li></ul><h2 id="0x02-æ„å»ºDubbo-SSMæ¡†æ¶"><a href="#0x02-æ„å»ºDubbo-SSMæ¡†æ¶" class="headerlink" title="0x02 æ„å»ºDubbo-SSMæ¡†æ¶"></a>0x02 æ„å»ºDubbo-SSMæ¡†æ¶</h2><p><em><strong>First and formost</strong></em>ï¼ˆé¦–å…ˆï¼‰ï¼Œæˆ‘ä»¬ä¾æ¬¡åˆ›å»ºMavenæ¥å£é¡¹ç›®å·¥ç¨‹ã€Springboot+MavenæœåŠ¡æä¾›è€…ï¼ˆProviderï¼‰é¡¹ç›®å·¥ç¨‹ã€Springboot+MavenæœåŠ¡æ¶ˆè´¹è€…ï¼ˆConsumerï¼‰é¡¹ç›®å·¥ç¨‹ã€‚</p><p><em><strong>In addition</strong></em>ï¼ˆå…¶æ¬¡ï¼‰ï¼Œæˆ‘ä»¬åœ¨æä¾›è€…ï¼ˆProviderï¼‰é¡¹ç›®å·¥ç¨‹æ–‡ä»¶ä¸‹æ·»åŠ ä¸€ä¸ªMybatisé€†å‘å·¥ç¨‹çš„é…ç½®æ–‡ä»¶GeneratorMapper.xml:</p><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">generatorConfiguration</span></span></span><br><span class="line"><span class="meta">        <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="string">&quot;http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">generatorConfiguration</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- æŒ‡å®šè¿æ¥æ•°æ®åº“çš„ JDBC é©±åŠ¨åŒ…æ‰€åœ¨ä½ç½®ï¼ŒæŒ‡å®šåˆ°ä½ æœ¬æœºçš„å®Œæ•´è·¯å¾„ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">classPathEntry</span> <span class="attr">location</span>=<span class="string">&quot;D:\mysql-connector-java-5.1.38.jar&quot;</span>/&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- é…ç½® table è¡¨ä¿¡æ¯å†…å®¹ä½“ï¼ŒtargetRuntime æŒ‡å®šé‡‡ç”¨ MyBatis3 çš„ç‰ˆæœ¬ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context</span> <span class="attr">id</span>=<span class="string">&quot;tables&quot;</span> <span class="attr">targetRuntime</span>=<span class="string">&quot;MyBatis3&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- æŠ‘åˆ¶ç”Ÿæˆæ³¨é‡Šï¼Œç”±äºç”Ÿæˆçš„æ³¨é‡Šéƒ½æ˜¯è‹±æ–‡çš„ï¼Œå¯ä»¥ä¸è®©å®ƒç”Ÿæˆ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">commentGenerator</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;suppressAllComments&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">commentGenerator</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- é…ç½®æ•°æ®åº“è¿æ¥ä¿¡æ¯ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">jdbcConnection</span> <span class="attr">driverClass</span>=<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">connectionURL</span>=<span class="string">&quot;jdbc:mysql://192.168.154.128:3306/springboot&quot;</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">userId</span>=<span class="string">&quot;root&quot;</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">password</span>=<span class="string">&quot;123&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">jdbcConnection</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- ç”Ÿæˆ model ç±»ï¼ŒtargetPackage æŒ‡å®š model ç±»çš„åŒ…åï¼Œ targetProject æŒ‡å®š</span></span><br><span class="line"><span class="comment">        ç”Ÿæˆçš„ model æ”¾åœ¨ eclipse çš„å“ªä¸ªå·¥ç¨‹ä¸‹é¢--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">javaModelGenerator</span> <span class="attr">targetPackage</span>=<span class="string">&quot;com.bjpowernode.springboot.model&quot;</span></span></span><br><span class="line"><span class="tag">                            <span class="attr">targetProject</span>=<span class="string">&quot;C:\Users\Administrator\Desktop\04-SpringBoot\code\IDEA-springboot-projectes\023-springboot-dubbo-ssm-interface\src\main\java&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;enableSubPackages&quot;</span> <span class="attr">value</span>=<span class="string">&quot;false&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;trimStrings&quot;</span> <span class="attr">value</span>=<span class="string">&quot;false&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">javaModelGenerator</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- ç”Ÿæˆ MyBatis çš„ Mapper.xml æ–‡ä»¶ï¼ŒtargetPackage æŒ‡å®š mapper.xml æ–‡ä»¶çš„</span></span><br><span class="line"><span class="comment">        åŒ…åï¼Œ targetProject æŒ‡å®šç”Ÿæˆçš„ mapper.xml æ”¾åœ¨ eclipse çš„å“ªä¸ªå·¥ç¨‹ä¸‹é¢ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">sqlMapGenerator</span> <span class="attr">targetPackage</span>=<span class="string">&quot;com.bjpowernode.springboot.mapper&quot;</span></span></span><br><span class="line"><span class="tag">                         <span class="attr">targetProject</span>=<span class="string">&quot;src/main/java&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;enableSubPackages&quot;</span> <span class="attr">value</span>=<span class="string">&quot;false&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">sqlMapGenerator</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- ç”Ÿæˆ MyBatis çš„ Mapper æ¥å£ç±»æ–‡ä»¶,targetPackage æŒ‡å®š Mapper æ¥å£ç±»çš„åŒ…</span></span><br><span class="line"><span class="comment">        åï¼Œ targetProject æŒ‡å®šç”Ÿæˆçš„ Mapper æ¥å£æ”¾åœ¨ eclipse çš„å“ªä¸ªå·¥ç¨‹ä¸‹é¢ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">javaClientGenerator</span> <span class="attr">type</span>=<span class="string">&quot;XMLMAPPER&quot;</span></span></span><br><span class="line"><span class="tag">                             <span class="attr">targetPackage</span>=<span class="string">&quot;com.bjpowernode.springboot.mapper&quot;</span> <span class="attr">targetProject</span>=<span class="string">&quot;src/main/java&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;enableSubPackages&quot;</span> <span class="attr">value</span>=<span class="string">&quot;false&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">javaClientGenerator</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- æ•°æ®åº“è¡¨ååŠå¯¹åº”çš„ Java æ¨¡å‹ç±»å --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">table</span> <span class="attr">tableName</span>=<span class="string">&quot;t_student&quot;</span> <span class="attr">domainObjectName</span>=<span class="string">&quot;Student&quot;</span></span></span><br><span class="line"><span class="tag">               <span class="attr">enableCountByExample</span>=<span class="string">&quot;false&quot;</span></span></span><br><span class="line"><span class="tag">               <span class="attr">enableUpdateByExample</span>=<span class="string">&quot;false&quot;</span></span></span><br><span class="line"><span class="tag">               <span class="attr">enableDeleteByExample</span>=<span class="string">&quot;false&quot;</span></span></span><br><span class="line"><span class="tag">               <span class="attr">enableSelectByExample</span>=<span class="string">&quot;false&quot;</span></span></span><br><span class="line"><span class="tag">               <span class="attr">selectByExampleQueryId</span>=<span class="string">&quot;false&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">context</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">generatorConfiguration</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„ï¼Œè¿™é‡Œè¦æ”¹æˆç»å¯¹è·¯å¾„ï¼è€Œä¸”ä¸èƒ½å‡ºç°ä¸­æ–‡ï¼Œå¦åˆ™æ„å»ºé¡¹ç›®ä¼šå‡ºç°é—®é¢˜ã€‚</strong></p><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"> <span class="comment">&lt;!-- ç”Ÿæˆ model ç±»ï¼ŒtargetPackage æŒ‡å®š model ç±»çš„åŒ…åï¼Œ targetProject æŒ‡å®š</span></span><br><span class="line"><span class="comment">        ç”Ÿæˆçš„ model æ”¾åœ¨ eclipse çš„å“ªä¸ªå·¥ç¨‹ä¸‹é¢--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">javaModelGenerator</span> <span class="attr">targetPackage</span>=<span class="string">&quot;com.bjpowernode.springboot.model&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">targetProject</span>=<span class="string">&quot;C:\Users\Administrator\Desktop\04-SpringBoot\code\IDEA-springboot-projectes\023-springboot-dubbo-ssm-interface\src\main\java&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;enableSubPackages&quot;</span> <span class="attr">value</span>=<span class="string">&quot;false&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;trimStrings&quot;</span> <span class="attr">value</span>=<span class="string">&quot;false&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">javaModelGenerator</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ç„¶ååœ¨POM.xmlä¸­æ·»åŠ ç”Ÿæˆæ’ä»¶ï¼š</p><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--mybatis ä»£ç è‡ªåŠ¨ç”Ÿæˆæ’ä»¶--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis.generator<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-generator-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.3.6<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">                    <span class="comment">&lt;!--é…ç½®æ–‡ä»¶çš„ä½ç½®--&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">configurationFile</span>&gt;</span>GeneratorMapper.xml<span class="tag">&lt;/<span class="name">configurationFile</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">verbose</span>&gt;</span>true<span class="tag">&lt;/<span class="name">verbose</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">overwrite</span>&gt;</span>true<span class="tag">&lt;/<span class="name">overwrite</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å†æ·»åŠ Redisä¾èµ–ï¼Œæ¥å£å·¥ç¨‹ä¾èµ–ï¼Œzookeeperæ³¨å†Œä¸­å¿ƒä¾èµ–ï¼ŒDubboä¾èµ–ï¼ŒMybatisä¾èµ–ï¼ŒMysqlé©±åŠ¨ä¾èµ–åˆ°POM.xmlä¸­:</p><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">  <span class="comment">&lt;!--Dubboé›†æˆSpringBootèµ·æ­¥ä¾èµ–--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba.spring.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>dubbo-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.0.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!--æ³¨å†Œä¸­å¿ƒ--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.101tec<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>zkclient<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.10<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!--MyBatisé›†æˆSpringbootèµ·æ­¥ä¾èµ–--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis.spring.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.0.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!--MySQLé©±åŠ¨--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!--SpringBooté›†æˆRedisèµ·æ­¥ä¾èµ–--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-data-redis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--æ¥å£å·¥ç¨‹--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.bjpowernode.springboot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>023-springboot-dubbo-ssm-interface<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>é…ç½®Provideré¡¹ç›®ä¸­çš„æ ¸å¿ƒé…ç½®æ–‡ä»¶:</p><figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="comment">#é…ç½®å†…åµŒTomcatç«¯å£å·</span></span><br><span class="line"><span class="attr">server.port</span>=<span class="string">8081</span></span><br><span class="line"><span class="comment">#è®¾ç½®ä¸Šä¸‹æ–‡æ ¹</span></span><br><span class="line"><span class="attr">server.servlet.context-path</span>=<span class="string">/</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">#è®¾ç½®è¿æ¥æ•°æ®åº“ä¿¡æ¯</span></span><br><span class="line"><span class="attr">spring.datasource.driver-class-name</span>=<span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line"><span class="attr">spring.datasource.url</span>=<span class="string">jdbc:mysql://localhost:3306/springboot?useUnicode=true&amp;characterEncoding=UTF-8&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=GMT%2B8</span></span><br><span class="line"><span class="attr">spring.datasource.username</span>=<span class="string">username</span></span><br><span class="line"><span class="attr">spring.datasource.password</span>=<span class="string">password</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">#è®¾ç½®dubboé…ç½®</span></span><br><span class="line"><span class="attr">spring.application.name</span>=<span class="string">024-springboot-dubbo-ssm-provider</span></span><br><span class="line"><span class="comment">#å£°æ˜å½“å‰å·¥ç¨‹ä¸ºæœåŠ¡æä¾›è€…</span></span><br><span class="line"><span class="attr">spring.dubbo.server</span>=<span class="string">true</span></span><br><span class="line"><span class="comment">#è®¾ç½®æ³¨å†Œä¸­å¿ƒ</span></span><br><span class="line"><span class="attr">spring.dubbo.registry</span>=<span class="string">zookeeper://localhost:2181</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">#è®¾ç½®redisé…ç½®</span></span><br><span class="line"><span class="attr">spring.redis.host</span>=<span class="string">127.0.0.1</span></span><br><span class="line"><span class="attr">spring.redis.port</span>=<span class="string">6379</span></span><br><span class="line"><span class="attr">spring.redis.password</span>=<span class="string"></span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„ï¼šMybatisç”Ÿæˆçš„é€†å‘æ–‡ä»¶Modelä¸­çš„javaæ„é€ ç±»ä¸€å®šè¦åºåˆ—åŒ–</strong></p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bjpowernode.springboot.model;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"><span class="comment">// implements Serializableåºåˆ—åŒ–</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Integer <span class="title function_">getId</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setId</span><span class="params">(Integer id)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Integer <span class="title function_">getAge</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAge</span><span class="params">(Integer age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><em><strong>In the second place</strong></em>ï¼Œåœ¨Consumeré¡¹ç›®å·¥ç¨‹æ–‡ä»¶ä¸­æ·»åŠ POM.xmlä¾èµ–:</p><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--Dubboé›†æˆSpringBootæ¡†æ¶èµ·æ­¥ä¾èµ–--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba.spring.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>dubbo-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.0.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--zookeeperæ³¨å†Œä¸­å¿ƒ--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.101tec<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>zkclient<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.10<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--æ¥å£å·¥ç¨‹--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.bjpowernode.springboot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>023-springboot-dubbo-ssm-interface<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--SpringBooté›†æˆJSP,ä»…ä»…åªæ˜¯å±•ç¤ºJSPé¡µé¢éœ€è¦æ·»åŠ è§£æjspé¡µé¢çš„ä¾èµ–--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.tomcat.embed<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>tomcat-embed-jasper<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å¹¶ä¸”æ·»åŠ JSPæ–‡ä»¶åˆ°ç¼–è¯‘èµ„æºæ–‡ä»¶ä¸­ï¼š</p><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/webapp<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">targetPath</span>&gt;</span>META-INF/resources<span class="tag">&lt;/<span class="name">targetPath</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">includes</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">include</span>&gt;</span>*.*<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">includes</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br></pre></td></tr></table></figure><p>é…ç½®Consumeré¡¹ç›®å·¥ç¨‹çš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼š</p><figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="comment">#è®¾ç½®å†…åµŒTomcatç«¯å£å·</span></span><br><span class="line"><span class="attr">server.port</span>=<span class="string">8080</span></span><br><span class="line"><span class="attr">server.servlet.context-path</span>=<span class="string">/</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">#è®¾ç½®dubboé…ç½®</span></span><br><span class="line"><span class="attr">spring.application.name</span>=<span class="string">025-springboot-dubbo-ssm-consumer</span></span><br><span class="line"><span class="attr">spring.dubbo.registry</span>=<span class="string">zookeeper://127.0.0.1:2181</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">#é…ç½®è§†å›¾è§£æå™¨</span></span><br><span class="line"><span class="attr">spring.mvc.view.prefix</span>=<span class="string">/</span></span><br><span class="line"><span class="attr">spring.mvc.view.suffix</span>=<span class="string">.jsp</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥åœ¨Application.javaçš„åŒçº§ç›®å½•æˆ–æ¬¡çº§ç›®å½•æ·»åŠ æ§åˆ¶å±‚åŒ…webï¼ŒåŒ…å†…åˆ›å»ºStudentController.java</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bjpowernode.springboot.web;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.alibaba.dubbo.config.annotation.Reference;</span><br><span class="line"><span class="keyword">import</span> com.bjpowernode.springboot.model.Student;</span><br><span class="line"><span class="keyword">import</span> com.bjpowernode.springboot.service.StudentService;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.ui.Model;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.GetMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.PathVariable;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.ResponseBody;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StudentController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Reference(interfaceName = &quot;com.bjpowernode.springboot.service.StudentService&quot;, version = &quot;1.0.0&quot;, check = false)</span></span><br><span class="line">    <span class="keyword">private</span> StudentService studentService;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//RESTFulé£æ ¼</span></span><br><span class="line">    <span class="meta">@RequestMapping(value = &quot;/student/detail/&#123;id&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">studentDetail</span><span class="params">(Model model,</span></span><br><span class="line"><span class="params">                                <span class="meta">@PathVariable(&quot;id&quot;)</span> Integer id)</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="type">Student</span> <span class="variable">student</span> <span class="operator">=</span> studentService.queryStudentById(id);</span><br><span class="line"></span><br><span class="line">        model.addAttribute(<span class="string">&quot;student&quot;</span>, student);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;studentDetail&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(value = &quot;/student/all/count&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="meta">@ResponseBody</span></span><br><span class="line">    Object <span class="title function_">allStudentCount</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="type">Integer</span> <span class="variable">allStudentCount</span> <span class="operator">=</span> studentService.queryAllStudentCount();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;å­¦ç”Ÿæ€»äººæ•°ä¸º:&quot;</span> + allStudentCount;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸ºäº†å®ç°è¿™ä¸€æ§åˆ¶å±‚ï¼Œæˆ‘ä»¬éœ€è¦å…ˆåœ¨æ¥å£å·¥ç¨‹é¡¹ç›®æ–‡ä»¶ï¼ˆInterfaceï¼‰ä¸­åˆ›å»ºæ‰€éœ€è¦çš„æ¥å£StudentService.java:</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bjpowernode.springboot.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.bjpowernode.springboot.model.Student;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">StudentService</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ ¹æ®å­¦ç”ŸIDæŸ¥è¯¢è¯¦æƒ…</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> id</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    Student <span class="title function_">queryStudentById</span><span class="params">(Integer id)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è·å–å­¦ç”Ÿæ€»äººæ•°</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    Integer <span class="title function_">queryAllStudentCount</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¶ååœ¨æœåŠ¡æä¾›è€…ï¼ˆProvideï¼‰ä¸­åˆ›å»ºè¯¥æ¥å£çš„å®ç°ç±»StudentServiceImpl.java:</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bjpowernode.springboot.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.alibaba.dubbo.config.annotation.Service;</span><br><span class="line"><span class="keyword">import</span> com.bjpowernode.springboot.mapper.StudentMapper;</span><br><span class="line"><span class="keyword">import</span> com.bjpowernode.springboot.model.Student;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.data.redis.core.RedisTemplate;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.TimeUnit;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Service(interfaceName = &quot;com.bjpowernode.springboot.service.StudentService&quot;,version = &quot;1.0.0&quot;,timeout = 15000)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StudentServiceImpl</span> <span class="keyword">implements</span> <span class="title class_">StudentService</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> StudentMapper studentMapper;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> RedisTemplate&lt;Object,Object&gt; redisTemplate;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Student <span class="title function_">queryStudentById</span><span class="params">(Integer id)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> studentMapper.selectByPrimaryKey(id);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Integer <span class="title function_">queryAllStudentCount</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//æå‡ç³»ç»Ÿæ€§èƒ½,ç”¨æˆ·ä½“éªŒæå‡</span></span><br><span class="line">        <span class="comment">//é¦–å…ˆå»redisç¼“å­˜ä¸­æŸ¥è¯¢,å¦‚æœæœ‰:ç›´æ¥ä½¿ç”¨,å¦‚æœæ²¡æœ‰:å»æ•°æ®åº“æŸ¥è¯¢å¹¶å­˜æ”¾åˆ°redisç¼“å­˜ä¸­</span></span><br><span class="line">        <span class="type">Integer</span> <span class="variable">allStudentCount</span> <span class="operator">=</span> (Integer) redisTemplate.opsForValue().get(<span class="string">&quot;allStudentCount&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//åˆ¤æ–­æ˜¯å¦æœ‰å€¼</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="literal">null</span> == allStudentCount) &#123;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//å»æ•°æ®åº“æŸ¥è¯¢</span></span><br><span class="line">            allStudentCount = studentMapper.selectAllStudentCount();</span><br><span class="line"></span><br><span class="line">            <span class="comment">//å¹¶å­˜æ”¾åˆ°redisç¼“å­˜ä¸­</span></span><br><span class="line">            redisTemplate.opsForValue().set(<span class="string">&quot;allStudentCount&quot;</span>,allStudentCount,<span class="number">30</span>, TimeUnit.SECONDS);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> allStudentCount;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><em><strong>Last but not least</strong></em>ï¼Œåœ¨Consumeré¡¹ç›®å·¥ç¨‹æ–‡ä»¶ä¸­ï¼Œåœ¨src&#x2F;main&#x2F;ä¸­åˆ›å»ºwebappåŒ…ï¼Œæ¥å­˜æ”¾jspæ–‡ä»¶webapp&#x2F;studentDetail.jsp:</p><figure class="highlight jsp"><table><tr><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;å­¦ç”Ÿè¯¦æƒ…&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;h3&gt;å­¦ç”Ÿç¼–å·:$&#123;student.id&#125;&lt;/h3&gt;</span><br><span class="line">&lt;h3&gt;å­¦ç”Ÿå§“å:$&#123;student.name&#125;&lt;/h3&gt;</span><br><span class="line">&lt;h3&gt;å­¦ç”Ÿå¹´é¾„:$&#123;student.age&#125;&lt;/h3&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="0x03-è¿è¡ŒDubbo-SSMæ¡†æ¶"><a href="#0x03-è¿è¡ŒDubbo-SSMæ¡†æ¶" class="headerlink" title="0x03 è¿è¡ŒDubbo-SSMæ¡†æ¶"></a>0x03 è¿è¡ŒDubbo-SSMæ¡†æ¶</h2><p>åŒæ—¶æ„å»ºï¼Œå¹¶å¯åŠ¨ä¸‰ä¸ªé¡¹ç›®ï¼š</p><ul><li>Mavenæ¥å£é¡¹ç›®å·¥ç¨‹</li><li>Springboot+MavenæœåŠ¡æä¾›è€…ï¼ˆProviderï¼‰é¡¹ç›®å·¥ç¨‹</li><li>Springboot+MavenæœåŠ¡æ¶ˆè´¹è€…ï¼ˆConsumerï¼‰é¡¹ç›®å·¥ç¨‹<br>æ‰“å¼€æµè§ˆå™¨ï¼Œè¾“å…¥<a target="_blank" rel="noopener" href="http://localhost:8080/student/detail/1">http://localhost:8080/student/detail/1</a><br>æµè§ˆå™¨è¾“å‡ºï¼š<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">å­¦ç”Ÿç¼–å·ï¼š1</span><br><span class="line">å­¦ç”Ÿå§“åï¼š222</span><br><span class="line">å­¦ç”Ÿå¹´é¾„ï¼š25</span><br></pre></td></tr></table></figure><strong>Dubbo-SSMæ¡†æ¶æ­å»ºæˆåŠŸï¼congratulationsï¼</strong></li></ul>]]></content>
      
      
      <categories>
          
          <category> åç«¯å­¦ä¹  </category>
          
          <category> SpringBoot </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åç«¯ </tag>
            
            <tag> Java </tag>
            
            <tag> Spring </tag>
            
            <tag> SpringBoot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring Boot å­¦ä¹ ç¬”è®° 10</title>
      <link href="/2021/08/14/ce8a38b3b2a5-q1jun/"/>
      <url>/2021/08/14/ce8a38b3b2a5-q1jun/</url>
      
        <content type="html"><![CDATA[<h1 id="Spring-Boot-å­¦ä¹ ç¬”è®°-10"><a href="#Spring-Boot-å­¦ä¹ ç¬”è®°-10" class="headerlink" title="Spring Boot å­¦ä¹ ç¬”è®° 10"></a>Spring Boot å­¦ä¹ ç¬”è®° 10</h1><h2 id="SpringBooté›†æˆDubbo-ä»£ç è°ƒè¯•"><a href="#SpringBooté›†æˆDubbo-ä»£ç è°ƒè¯•" class="headerlink" title="SpringBooté›†æˆDubbo ä»£ç è°ƒè¯•"></a>SpringBooté›†æˆDubbo ä»£ç è°ƒè¯•</h2><p>å‰ä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å·²ç»å°† æ¥å£é¡¹ç›®ã€æ¶ˆè´¹è€…é¡¹ç›®ã€æä¾›è€…é¡¹ç›® é…ç½®å®Œæˆï¼Œæ¥ä¸‹æ¥å°±æ˜¯å†™ä»£ç çš„äº‹æƒ…äº†ã€‚<br>åœ¨Consumeré¡¹ç›®çš„æ§åˆ¶å±‚ä¸­: StudentCOntroller.java:</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bjpowernode.springboot.web;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.alibaba.dubbo.config.annotation.Reference;</span><br><span class="line"><span class="keyword">import</span> com.bjpowernode.springboot.service.StudentService;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.ResponseBody;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StudentController</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//dubbo:reference interface=&quot;&quot; version=&quot;&quot; check=false</span></span><br><span class="line">    <span class="meta">@Reference(interfaceClass = StudentService.class,version = &quot;1.0.0&quot;,check = false)</span></span><br><span class="line">    <span class="keyword">private</span> StudentService studentService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(value = &quot;/student/count&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="meta">@ResponseBody</span> Object <span class="title function_">studentCount</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="type">Integer</span> <span class="variable">allStudentCount</span> <span class="operator">=</span> studentService.queryAllStudentCount();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;å­¦ç”Ÿæ€»äººæ•°ä¸º:&quot;</span>+allStudentCount;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è¿™æ—¶å€™æˆ‘ä»¬ç”¨åˆ°çš„æ¥å£<code>private StudentService studentService;</code>å¹¶æ²¡æœ‰è¢«åˆ›å»ºï¼Œæ‰€ä»¥æˆ‘ä»¬è¦åˆ›å»ºä¸€ä¸ª StudentServiceæ¥å£ï¼Œä½†æ˜¯æˆ‘ä»¬å¹¶ä¸åœ¨æœ¬é¡¹ç›®ä¸­åˆ›å»ºï¼Œè€Œæ˜¯ç§»æ­¥åˆ°Interfaceé¡¹ç›®ä¸­åˆ›å»ºè¿™ä¸ªæ¥å£ã€‚<br>åœ¨Interfaceé¡¹ç›®ä¸­çš„src&#x2F;java&#x2F;sample&#x2F;springboot&#x2F;ä¸­åˆ›å»ºä¸€ä¸ªserviceåŒ…ï¼šserviceï¼ŒåŒ…å†…åˆ›å»ºä¸€ä¸ªæ¥å£ç±»StudentService.java:</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bjpowernode.springboot.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">StudentService</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è·å–å­¦ç”Ÿæ€»äººæ•°</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    Integer <span class="title function_">queryAllStudentCount</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ¥å£åˆ›å»ºå¥½äº†ï¼Œé‚£æˆ‘ä»¬åœ¨å“ªå®ç°è¿™ä¸ªæ¥å£å‘¢ï¼ŸæŒ‰ç…§ä¹‹å‰çš„åšæ³•æˆ‘ä»¬åº”è¯¥æ˜¯åœ¨Serviceè¿™ä¸ªåŒ…å†…åˆ›å»ºä¸€ä¸ªæ–°çš„åŒ…implæ¥å­˜æ”¾æ¥å£å®ç°ç±»ï¼Œä½†æ˜¯åœ¨Dubboä¸­ï¼Œæˆ‘ä»¬æŠŠæ¥å£å®ç°ç±»å½’äºæä¾›è€…ï¼ˆProviderï¼‰é¡¹ç›®ã€‚<br>åœ¨Provideré¡¹ç›®ä¸­çš„src&#x2F;java&#x2F;sample&#x2F;springboot&#x2F;service&#x2F;ä¸­åˆ›å»ºåŒ…implï¼Œé‡Œé¢æ–°å»ºï¼šStudentServiceImpl.java:</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bjpowernode.springboot.service.impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.alibaba.dubbo.config.annotation.Service;</span><br><span class="line"><span class="keyword">import</span> com.bjpowernode.springboot.service.StudentService;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Service(interfaceClass = StudentService.class,version = &quot;1.0.0&quot;,timeout = 15000)</span></span><br><span class="line"><span class="comment">//dubbo:service interface=&quot;&quot; version=&quot;&quot; timeout=&quot;&quot;</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StudentServiceImpl</span> <span class="keyword">implements</span> <span class="title class_">StudentService</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Integer <span class="title function_">queryAllStudentCount</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//è°ƒç”¨æ•°æ®æŒä¹…å±‚</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="number">1250</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ³¨è§£@Componentå°†æ¥å£å®ç°ç±»åŠ è½½åˆ°Springå®¹å™¨ä¸­ï¼Œç„¶åå†ç”¨<code>com.alibaba.dubbo.config.annotation</code>åŒ…ä¸­çš„@Serviceæ³¨è§£ï¼Œæ·»åŠ å±æ€§<strong>interfaceClass</strong> &#x3D; StudentService.class ,<strong>version</strong> &#x3D; â€œ1.0.0â€ , <strong>timeout</strong> &#x3D; 15000ï¼Œ<br>è¿™äº›æ³¨è§£å°±æ˜¯dubboä¸­æ·»åŠ çš„dubbo:service interface&#x3D;â€â€ version&#x3D;â€â€ timeout&#x3D;â€â€æ ‡ç­¾ã€‚</p><p>é…ç½®å¥½è¿™ä¸ªæ³¨è§£ï¼Œè¿™ä¸ªæ¥å£å°±æš´éœ²å‡ºæ¥äº†ï¼Œç„¶åå°±å¯ä»¥åœ¨æ¶ˆè´¹è€…é¡¹ç›®ä¸­è¿›è¡Œå¼•ç”¨äº†ã€‚</p><p>åœ¨Consumeré¡¹ç›®ä¸­çš„StudentController.javaä¸­æ·»åŠ çš„ï¼š</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//dubbo:reference interface=&quot;&quot; version=&quot;&quot; check=false</span></span><br><span class="line">    <span class="meta">@Reference(interfaceClass = StudentService.class,version = &quot;1.0.0&quot;,check = false)</span></span><br></pre></td></tr></table></figure><p>è¿™å°±æ˜¯å¼•ç”¨æ¥å£çš„æ³¨è§£__@Reference()__ï¼Œå†…å®¹ä¸º<strong>interfaceClass</strong> &#x3D; StudentService.class,<strong>version</strong> &#x3D; â€œ1.0.0â€,<strong>check</strong> &#x3D; falseï¼Œè¿™äº›æ³¨è§£å°±æ˜¯dubboä¸­æ·»åŠ çš„dubbo:reference interface&#x3D;â€â€ version&#x3D;â€â€ check&#x3D;falseæ ‡ç­¾ã€‚</p><p>å®Œæˆä»£ç é…ç½®åè¿˜éœ€è¦åœ¨å…¥å£ç±»æ·»åŠ å¯åŠ¨Dubboçš„æ³¨è§£ï¼š</p><ul><li>Provideré¡¹ç›®ï¼š</li></ul><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bjpowernode.springboot;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.alibaba.dubbo.spring.boot.annotation.EnableDubboConfiguration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.SpringApplication;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;</span><br><span class="line"></span><br><span class="line"><span class="meta">@SpringBootApplication</span>      <span class="comment">//å¼€å¯springé…ç½®</span></span><br><span class="line"><span class="meta">@EnableDubboConfiguration</span>   <span class="comment">//å¼€å¯dubboé…ç½®</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Application</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        SpringApplication.run(Application.class, args);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>Consumer é¡¹ç›®:</li></ul><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bjpowernode.springboot;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.alibaba.dubbo.spring.boot.annotation.EnableDubboConfiguration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.SpringApplication;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;</span><br><span class="line"></span><br><span class="line"><span class="meta">@SpringBootApplication</span>  <span class="comment">//å¼€å¯springæ³¨è§£é…ç½®</span></span><br><span class="line"><span class="meta">@EnableDubboConfiguration</span>   <span class="comment">//å¼€å¯dubboé…ç½®</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Application</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        SpringApplication.run(Application.class, args);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å®Œæˆæ­å»ºåå¯åŠ¨å„ä¸ªé¡¹ç›®ï¼Œç„¶ååœ¨æµè§ˆå™¨å®Œæˆæµ‹è¯•ï¼</p>]]></content>
      
      
      <categories>
          
          <category> åç«¯å­¦ä¹  </category>
          
          <category> SpringBoot </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åç«¯ </tag>
            
            <tag> Java </tag>
            
            <tag> Spring </tag>
            
            <tag> SpringBoot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring Boot å­¦ä¹ ç¬”è®° 09</title>
      <link href="/2021/08/12/54a344a129d5-q1jun/"/>
      <url>/2021/08/12/54a344a129d5-q1jun/</url>
      
        <content type="html"><![CDATA[<h2 id="0x01-Dubbo3-ç®€ä»‹"><a href="#0x01-Dubbo3-ç®€ä»‹" class="headerlink" title="0x01 Dubbo3 ç®€ä»‹"></a>0x01 Dubbo3 ç®€ä»‹</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Apache Dubbo æ˜¯ä¸€æ¬¾å¾®æœåŠ¡å¼€å‘æ¡†æ¶ï¼Œå®ƒæä¾›äº† RPCé€šä¿¡ ä¸ å¾®æœåŠ¡æ²»ç† ä¸¤å¤§å…³é”®èƒ½åŠ›ã€‚è¿™æ„å‘³ç€ï¼Œä½¿ç”¨ Dubbo å¼€å‘çš„å¾®æœåŠ¡ï¼Œå°†å…·å¤‡ç›¸äº’ä¹‹é—´çš„è¿œç¨‹å‘ç°ä¸é€šä¿¡èƒ½åŠ›ï¼Œ åŒæ—¶åˆ©ç”¨ Dubbo æä¾›çš„ä¸°å¯ŒæœåŠ¡æ²»ç†èƒ½åŠ›ï¼Œå¯ä»¥å®ç°è¯¸å¦‚æœåŠ¡å‘ç°ã€è´Ÿè½½å‡è¡¡ã€æµé‡è°ƒåº¦ç­‰æœåŠ¡æ²»ç†è¯‰æ±‚ã€‚åŒæ—¶ Dubbo æ˜¯é«˜åº¦å¯æ‰©å±•çš„ï¼Œç”¨æˆ·å‡ ä¹å¯ä»¥åœ¨ä»»æ„åŠŸèƒ½ç‚¹å»å®šåˆ¶è‡ªå·±çš„å®ç°ï¼Œä»¥æ”¹å˜æ¡†æ¶çš„é»˜è®¤è¡Œä¸ºæ¥æ»¡è¶³è‡ªå·±çš„ä¸šåŠ¡éœ€æ±‚ã€‚</span><br></pre></td></tr></table></figure><blockquote><p>Dubbo3 åŸºäº Dubbo2 æ¼”è¿›è€Œæ¥ï¼Œåœ¨ä¿æŒåŸæœ‰æ ¸å¿ƒåŠŸèƒ½ç‰¹æ€§çš„åŒæ—¶ï¼Œ Dubbo3 åœ¨æ˜“ç”¨æ€§ã€è¶…å¤§è§„æ¨¡å¾®æœåŠ¡å®è·µã€äº‘åŸç”ŸåŸºç¡€è®¾æ–½é€‚é…ç­‰å‡ å¤§æ–¹å‘ä¸Šè¿›è¡Œäº†å…¨é¢å‡çº§ã€‚ ä»¥ä¸‹æ–‡æ¡£éƒ½å°†åŸºäº Dubbo3 å±•å¼€ã€‚</p></blockquote><h2 id="0x02-What-is-Dubbo"><a href="#0x02-What-is-Dubbo" class="headerlink" title="0x02 What is Dubbo?"></a>0x02 What is Dubbo?</h2><p>å¦‚å¼€ç¯‡æ‰€è¿°ï¼ŒDubbo æä¾›äº†æ„å»ºäº‘åŸç”Ÿå¾®æœåŠ¡ä¸šåŠ¡çš„ä¸€ç«™å¼è§£å†³æ–¹æ¡ˆï¼Œå¯ä»¥ä½¿ç”¨ Dubbo å¿«é€Ÿå®šä¹‰å¹¶å‘å¸ƒå¾®æœåŠ¡ç»„ä»¶ï¼ŒåŒæ—¶åŸºäº Dubbo å¼€ç®±å³ç”¨çš„ä¸°å¯Œç‰¹æ€§åŠè¶…å¼ºçš„æ‰©å±•èƒ½åŠ›ï¼Œæ„å»ºè¿ç»´æ•´ä¸ªå¾®æœåŠ¡ä½“ç³»æ‰€éœ€çš„å„é¡¹æœåŠ¡æ²»ç†èƒ½åŠ›ï¼Œå¦‚ Tracingã€Transaction ç­‰ï¼ŒDubbo æä¾›çš„åŸºç¡€èƒ½åŠ›åŒ…æ‹¬ï¼š</p><ul><li>æœåŠ¡å‘ç°</li><li>æµå¼é€šä¿¡</li><li>è´Ÿè½½å‡è¡¡</li><li>æµé‡æ²»ç†</li><li>â€¦..</li></ul><p>Dubbo è®¡åˆ’æä¾›ä¸°å¯Œçš„å¤šè¯­è¨€å®¢æˆ·ç«¯å®ç°ï¼Œå…¶ä¸­ Javaã€Golang ç‰ˆæœ¬æ˜¯å½“å‰ç¨³å®šæ€§ã€æ´»è·ƒåº¦æœ€å¥½çš„ç‰ˆæœ¬ï¼Œå…¶ä»–å¤šè¯­è¨€å®¢æˆ·ç«¯[]æ­£åœ¨æŒç»­å»ºè®¾ä¸­ã€‚</p><p>è‡ªå¼€æºä»¥æ¥ï¼ŒDubbo å°±è¢«ä¸€ä¼—å¤§è§„æ¨¡äº’è”ç½‘ã€ITå…¬å¸é€‰å‹ï¼Œç»è¿‡å¤šå¹´ä¼ä¸šå®è·µç§¯ç´¯äº†å¤§é‡ç»éªŒã€‚Dubbo3 æ˜¯ç«™åœ¨å·¨äººè‚©è†€ä¸Šçš„ä¸‹ä¸€ä»£äº§å“ï¼Œå®ƒæ±²å–äº†ä¸Šä¸€ä»£çš„ä¼˜ç‚¹å¹¶é’ˆå¯¹å·²çŸ¥é—®é¢˜åšäº†å¤§é‡ä¼˜åŒ–ï¼Œå› æ­¤ï¼ŒDubbo åœ¨è§£å†³ä¸šåŠ¡è½åœ°ä¸è§„æ¨¡åŒ–å®è·µæ–¹é¢æœ‰ç€æ— å¯æ¯”æ‹Ÿçš„ä¼˜åŠ¿ï¼š</p><ul><li>å¼€ç®±å³ç”¨<ul><li>æ˜“ç”¨æ€§é«˜ï¼Œå¦‚ Java ç‰ˆæœ¬çš„é¢å‘æ¥å£ä»£ç†ç‰¹æ€§èƒ½å®ç°æœ¬åœ°é€æ˜è°ƒç”¨</li><li>åŠŸèƒ½ä¸°å¯Œï¼ŒåŸºäºåŸç”Ÿåº“æˆ–è½»é‡æ‰©å±•å³å¯å®ç°ç»å¤§å¤šæ•°çš„å¾®æœåŠ¡æ²»ç†èƒ½åŠ›</li></ul></li><li>è¶…å¤§è§„æ¨¡å¾®æœåŠ¡é›†ç¾¤å®è·µ<ul><li>é«˜æ€§èƒ½çš„è·¨è¿›ç¨‹é€šä¿¡åè®®</li><li>åœ°å€å‘ç°ã€æµé‡æ²»ç†å±‚é¢ï¼Œè½»æ¾æ”¯æŒç™¾ä¸‡è§„æ¨¡é›†ç¾¤å®ä¾‹</li></ul></li><li>ä¼ä¸šçº§å¾®æœåŠ¡æ²»ç†èƒ½åŠ›<ul><li>æœåŠ¡æµ‹è¯•</li><li>æœåŠ¡Mock</li></ul></li></ul><p>Dubbo3 æ˜¯åœ¨äº‘åŸç”ŸèƒŒæ™¯ä¸‹è¯ç”Ÿçš„ï¼Œä½¿ç”¨ Dubbo æ„å»ºçš„å¾®æœåŠ¡éµå¾ªäº‘åŸç”Ÿæ€æƒ³ï¼Œèƒ½æ›´å¥½çš„å¤ç”¨åº•å±‚äº‘åŸç”ŸåŸºç¡€è®¾æ–½ã€è´´åˆäº‘åŸç”Ÿå¾®æœåŠ¡æ¶æ„ã€‚è¿™ä½“ç°åœ¨ï¼š</p><ul><li>æœåŠ¡æ”¯æŒéƒ¨ç½²åœ¨å®¹å™¨ã€Kuberneteså¹³å°ï¼ŒæœåŠ¡ç”Ÿå‘½å‘¨æœŸå¯å®ç°ä¸å¹³å°è°ƒåº¦å‘¨æœŸå¯¹é½ï¼›</li><li>æ”¯æŒç»å…¸ Service Mesh å¾®æœåŠ¡æ¶æ„ï¼Œå¼•å…¥äº† Proxyless Mesh æ¶æ„ï¼Œè¿›ä¸€æ­¥ç®€åŒ– Mesh çš„è½åœ°ä¸è¿ç§»æˆæœ¬ï¼Œæä¾›æ›´çµæ´»çš„é€‰æ‹©ï¼›</li><li>ä½œä¸ºæ¡¥æ¥å±‚ï¼Œæ”¯æŒä¸ SpringCloudã€gRPC ç­‰å¼‚æ„å¾®æœåŠ¡ä½“ç³»çš„äº’è°ƒäº’é€š</li></ul><blockquote><p>Apache Dubboå®˜ç½‘ï¼š<a target="_blank" rel="noopener" href="https://dubbo.apache.org/">https://dubbo.apache.org/</a></p></blockquote><h2 id="0x02-SpringBoot-é›†æˆDubboåˆ†å¸ƒå¼æ¡†æ¶"><a href="#0x02-SpringBoot-é›†æˆDubboåˆ†å¸ƒå¼æ¡†æ¶" class="headerlink" title="0x02 SpringBoot é›†æˆDubboåˆ†å¸ƒå¼æ¡†æ¶"></a>0x02 SpringBoot é›†æˆDubboåˆ†å¸ƒå¼æ¡†æ¶</h2><ol><li>æ¥å£å·¥ç¨‹ï¼š å­˜æ”¾å®ä½“beanå’Œä¸šåŠ¡æ¥å£</li><li>æœåŠ¡æä¾›è€…ï¼š ä¸šåŠ¡æ¥å£çš„å®ç°ç±»å¹¶å°†æœåŠ¡æš´éœ²ä¸”æ³¨å†Œåˆ°æ³¨å†Œä¸­å¿ƒï¼Œè°ƒç”¨æ•°æ®æŒä¹…å±‚<ul><li>æ·»åŠ ä¾èµ–ï¼ˆdubboï¼Œæ³¨å†Œä¸­å¿ƒï¼Œæ¥å£å·¥ç¨‹ï¼‰</li><li>é…ç½®æœåŠ¡æä¾›è€…æ ¸å¿ƒé…ç½®æ–‡ä»¶</li></ul></li><li>æœåŠ¡æ¶ˆè´¹è€…ï¼š å¤„ç†æµè§ˆå™¨å®¢æˆ·ç«¯å‘é€çš„è¯·æ±‚ï¼Œä»æ³¨å†Œä¸­å¿ƒè°ƒç”¨æœåŠ¡æä¾›è€…æ‰€æä¾›çš„æœåŠ¡<ul><li>æ·»åŠ ä¾èµ–ï¼ˆdubboï¼Œæ³¨å†Œä¸­å¿ƒï¼Œæ¥å£å·¥ç¨‹ï¼‰</li><li>é…ç½®æœåŠ¡æ¶ˆè´¹è€…æ ¸å¿ƒé…ç½®æ–‡ä»¶</li></ul></li></ol><p>é¦–å…ˆæˆ‘ä»¬è¦åˆ›å»ºï¼šæ¥å£å·¥ç¨‹é¡¹ç›®æ–‡ä»¶<strong>Interface</strong>(maven)ã€æä¾›è€…é¡¹ç›®æ–‡ä»¶<strong>Provider</strong>(springboot)ã€æ¶ˆè´¹è€…é¡¹ç›®æ–‡ä»¶<strong>Consumer</strong>(springboot)ã€‚</p><p>åœ¨Provideré¡¹ç›®Pom.xmlä¸­æ·»åŠ ä¾èµ–ï¼š</p><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--Dubboé›†æˆSpringBootæ¡†æ¶èµ·æ­¥ä¾èµ–--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba.spring.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>dubbo-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.0.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--æ³¨å†Œä¸­å¿ƒ--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.101tec<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>zkclient<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.10<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--æ¥å£å·¥ç¨‹(æˆ‘ä»¬æ‰€åˆ›å»ºçš„æ¥å£å·¥ç¨‹é¡¹ç›®åœ°å€)--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.bjpowernode.springboot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>020-springboot-dubbo-interface<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>Provideré¡¹ç›®çš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ application.properties:</p><figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="comment">#è®¾ç½®å†…åµŒTomcatç«¯å£å·</span></span><br><span class="line"><span class="attr">server.port</span>=<span class="string">8081</span></span><br><span class="line"><span class="comment">#è®¾ç½®ä¸Šä¸‹æ–‡æ ¹</span></span><br><span class="line"><span class="attr">server.servlet.context-path</span>=<span class="string">/</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">#è®¾ç½®dubboçš„é…ç½®</span></span><br><span class="line"><span class="attr">spring.application.name</span>=<span class="string">021-springboot-dubbo-provider</span></span><br><span class="line"><span class="comment">#å½“å‰å·¥ç¨‹æ˜¯ä¸€ä¸ªæœåŠ¡æä¾›è€…</span></span><br><span class="line"><span class="attr">spring.dubbo.server</span>=<span class="string">true</span></span><br><span class="line"><span class="comment">#è®¾ç½®æ³¨å†Œä¸­å¿ƒ</span></span><br><span class="line"><span class="attr">spring.dubbo.registry</span>=<span class="string">zookeeper://127.0.0.1:2181</span></span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥æ˜¯Consumeræ¶ˆè´¹è€…é¡¹ç›®å·¥ç¨‹ï¼Œåœ¨Pom.xmlä¸­æ·»åŠ ä¾èµ–ï¼š</p><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"> <span class="comment">&lt;!--Dubboé›†æˆSpringBootæ¡†æ¶èµ·æ­¥ä¾èµ–--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba.spring.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>dubbo-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.0.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--æ³¨å†Œä¸­å¿ƒ--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.101tec<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>zkclient<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.10<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--æ¥å£å·¥ç¨‹--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.bjpowernode.springboot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>020-springboot-dubbo-interface<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>Consumeré¡¹ç›®çš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ application.properties:</p><figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="comment">#è®¾ç½®å†…åµŒTomcatç«¯å£å·</span></span><br><span class="line"><span class="attr">server.port</span>=<span class="string">8080</span></span><br><span class="line"><span class="attr">server.servlet.context-path</span>=<span class="string">/</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">#è®¾ç½®dubboé…ç½®</span></span><br><span class="line"><span class="attr">spring.application.name</span>=<span class="string">022-springboot-dubbo-consumer</span></span><br><span class="line"><span class="comment">#æŒ‡å®šæ³¨å†Œä¸­å¿ƒ</span></span><br><span class="line"><span class="attr">spring.dubbo.registry</span>=<span class="string">zookeeper://127.0.0.1:2181</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> åç«¯å­¦ä¹  </category>
          
          <category> SpringBoot </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åç«¯ </tag>
            
            <tag> Java </tag>
            
            <tag> Spring </tag>
            
            <tag> SpringBoot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring Boot å­¦ä¹ ç¬”è®° 08</title>
      <link href="/2021/08/11/47fcabd36603-q1jun/"/>
      <url>/2021/08/11/47fcabd36603-q1jun/</url>
      
        <content type="html"><![CDATA[<h1 id="Spring-Boot-å­¦ä¹ ç¬”è®°-08"><a href="#Spring-Boot-å­¦ä¹ ç¬”è®°-08" class="headerlink" title="Spring Boot å­¦ä¹ ç¬”è®° 08"></a>Spring Boot å­¦ä¹ ç¬”è®° 08</h1><h2 id="0x01-Redisæ•°æ®åº“çš„å®‰è£…å’Œé…ç½®"><a href="#0x01-Redisæ•°æ®åº“çš„å®‰è£…å’Œé…ç½®" class="headerlink" title="0x01  Redisæ•°æ®åº“çš„å®‰è£…å’Œé…ç½®"></a>0x01  Redisæ•°æ®åº“çš„å®‰è£…å’Œé…ç½®</h2><p><strong>å®‰è£…ï¼š</strong><br>ä¸‹è½½åœ°å€ï¼š<a target="_blank" rel="noopener" href="https://github.com/tporadowski/redis/releases%E3%80%82">https://github.com/tporadowski/redis/releasesã€‚</a></p><p>Redis æ”¯æŒ 32 ä½å’Œ 64 ä½ã€‚è¿™ä¸ªéœ€è¦æ ¹æ®ä½ ç³»ç»Ÿå¹³å°çš„å®é™…æƒ…å†µé€‰æ‹©ï¼Œè¿™é‡Œæˆ‘ä»¬ä¸‹è½½ Redis-x64-xxx.zipå‹ç¼©åŒ…åˆ° C ç›˜ï¼Œè§£å‹åï¼Œå°†æ–‡ä»¶å¤¹é‡æ–°å‘½åä¸º redisã€‚</p><p>æ‰“å¼€ä¸€ä¸ª cmd çª—å£ ä½¿ç”¨ cd å‘½ä»¤åˆ‡æ¢ç›®å½•åˆ° C:\redis è¿è¡Œï¼š</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">redis-server.exe redis.windows.conf</span><br></pre></td></tr></table></figure><p>å¦‚æœæƒ³æ–¹ä¾¿çš„è¯ï¼Œå¯ä»¥æŠŠ redis çš„è·¯å¾„åŠ åˆ°ç³»ç»Ÿçš„ç¯å¢ƒå˜é‡é‡Œï¼Œè¿™æ ·å°±çœå¾—å†è¾“è·¯å¾„äº†ï¼Œåé¢çš„é‚£ä¸ª redis.windows.conf å¯ä»¥çœç•¥ï¼Œå¦‚æœçœç•¥ï¼Œä¼šå¯ç”¨é»˜è®¤çš„ã€‚è¾“å…¥ä¹‹åï¼Œä¼šæ˜¾ç¤ºå¦‚ä¸‹ç•Œé¢ï¼š</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[23520] 30 Jul 20:12:27.585 # oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo</span><br><span class="line">[23520] 30 Jul 20:12:27.585 # Redis version=5.0.10, bits=64, commit=1c047b68, modified=0, pid=23520, just started</span><br><span class="line">[23520] 30 Jul 20:12:27.585 # Configuration loaded</span><br><span class="line">                _._</span><br><span class="line">           _.-``__ &#x27;&#x27;-._</span><br><span class="line">      _.-``    `.  `_.  &#x27;&#x27;-._           Redis 5.0.10 (1c047b68/0) 64 bit</span><br><span class="line">  .-`` .-```.  ```\/    _.,_ &#x27;&#x27;-._</span><br><span class="line"> (    &#x27;      ,       .-`  | `,    )     Running in standalone mode</span><br><span class="line"> |`-._`-...-` __...-.``-._|&#x27;` _.-&#x27;|     Port: 6379</span><br><span class="line"> |    `-._   `._    /     _.-&#x27;    |     PID: 23520</span><br><span class="line">  `-._    `-._  `-./  _.-&#x27;    _.-&#x27;</span><br><span class="line"> |`-._`-._    `-.__.-&#x27;    _.-&#x27;_.-&#x27;|</span><br><span class="line"> |    `-._`-._        _.-&#x27;_.-&#x27;    |           http://redis.io</span><br><span class="line">  `-._    `-._`-.__.-&#x27;_.-&#x27;    _.-&#x27;</span><br><span class="line"> |`-._`-._    `-.__.-&#x27;    _.-&#x27;_.-&#x27;|</span><br><span class="line"> |    `-._`-._        _.-&#x27;_.-&#x27;    |</span><br><span class="line">  `-._    `-._`-.__.-&#x27;_.-&#x27;    _.-&#x27;</span><br><span class="line">      `-._    `-.__.-&#x27;    _.-&#x27;</span><br><span class="line">          `-._        _.-&#x27;</span><br><span class="line">              `-.__.-&#x27;</span><br><span class="line"></span><br><span class="line">[23520] 30 Jul 20:12:27.588 # Server initialized</span><br><span class="line">[23520] 30 Jul 20:12:27.588 * Ready to accept connections</span><br></pre></td></tr></table></figure><p><strong>é…ç½®ï¼š</strong><br>Redis çš„é…ç½®æ–‡ä»¶ä½äº Redis å®‰è£…ç›®å½•ä¸‹ï¼Œæ–‡ä»¶åä¸º redis.conf(Windows åä¸º redis.windows.conf)ã€‚</p><p>ä½ å¯ä»¥é€šè¿‡ CONFIG å‘½ä»¤æŸ¥çœ‹æˆ–è®¾ç½®é…ç½®é¡¹ã€‚</p><p>è¯­æ³•<br>Redis CONFIG å‘½ä»¤æ ¼å¼å¦‚ä¸‹ï¼š</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">redis 127.0.0.1:6379&gt; CONFIG GET CONFIG_SETTING_NAME</span><br></pre></td></tr></table></figure><p>å®ä¾‹</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">redis 127.0.0.1:6379&gt; CONFIG GET loglevel</span><br><span class="line"></span><br><span class="line">1) &quot;loglevel&quot;</span><br><span class="line">2) &quot;notice&quot;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ * å·è·å–æ‰€æœ‰é…ç½®é¡¹ï¼š</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">redis 127.0.0.1:6379&gt; CONFIG GET *</span><br><span class="line"></span><br><span class="line">  1) &quot;dbfilename&quot;</span><br><span class="line">  2) &quot;dump.rdb&quot;</span><br><span class="line">  3) &quot;requirepass&quot;</span><br><span class="line">  4) &quot;&quot;</span><br><span class="line">  5) &quot;masterauth&quot;</span><br><span class="line">  6) &quot;&quot;</span><br><span class="line">  7) &quot;unixsocket&quot;</span><br><span class="line">  8) &quot;&quot;</span><br><span class="line">  9) &quot;logfile&quot;</span><br><span class="line"> 10) &quot;&quot;</span><br><span class="line"> 11) &quot;pidfile&quot;</span><br><span class="line"> 12) &quot;/var/run/redis.pid&quot;</span><br><span class="line"> 13) &quot;maxmemory&quot;</span><br><span class="line"> 14) &quot;0&quot;</span><br><span class="line"> 15) &quot;maxmemory-samples&quot;</span><br><span class="line"> 16) &quot;3&quot;</span><br><span class="line"> 17) &quot;timeout&quot;</span><br><span class="line"> 18) &quot;0&quot;</span><br><span class="line"> 19) &quot;tcp-keepalive&quot;</span><br><span class="line"> 20) &quot;0&quot;</span><br><span class="line"> 21) &quot;auto-aof-rewrite-percentage&quot;</span><br><span class="line"> 22) &quot;100&quot;</span><br><span class="line"> 23) &quot;auto-aof-rewrite-min-size&quot;</span><br><span class="line"> 24) &quot;67108864&quot;</span><br><span class="line"> 25) &quot;hash-max-ziplist-entries&quot;</span><br><span class="line"> 26) &quot;512&quot;</span><br><span class="line"> 27) &quot;hash-max-ziplist-value&quot;</span><br><span class="line"> 28) &quot;64&quot;</span><br><span class="line"> 29) &quot;list-max-ziplist-entries&quot;</span><br><span class="line"> 30) &quot;512&quot;</span><br><span class="line"> 31) &quot;list-max-ziplist-value&quot;</span><br><span class="line"> 32) &quot;64&quot;</span><br><span class="line"> 33) &quot;set-max-intset-entries&quot;</span><br><span class="line"> 34) &quot;512&quot;</span><br><span class="line"> 35) &quot;zset-max-ziplist-entries&quot;</span><br><span class="line"> 36) &quot;128&quot;</span><br><span class="line"> 37) &quot;zset-max-ziplist-value&quot;</span><br><span class="line"> 38) &quot;64&quot;</span><br><span class="line"> 39) &quot;hll-sparse-max-bytes&quot;</span><br><span class="line"> 40) &quot;3000&quot;</span><br><span class="line"> 41) &quot;lua-time-limit&quot;</span><br><span class="line"> 42) &quot;5000&quot;</span><br><span class="line"> 43) &quot;slowlog-log-slower-than&quot;</span><br><span class="line"> 44) &quot;10000&quot;</span><br><span class="line"> 45) &quot;latency-monitor-threshold&quot;</span><br><span class="line"> 46) &quot;0&quot;</span><br><span class="line"> 47) &quot;slowlog-max-len&quot;</span><br><span class="line"> 48) &quot;128&quot;</span><br><span class="line"> 49) &quot;port&quot;</span><br><span class="line"> 50) &quot;6379&quot;</span><br><span class="line"> 51) &quot;tcp-backlog&quot;</span><br><span class="line"> 52) &quot;511&quot;</span><br><span class="line"> 53) &quot;databases&quot;</span><br><span class="line"> 54) &quot;16&quot;</span><br><span class="line"> 55) &quot;repl-ping-slave-period&quot;</span><br><span class="line"> 56) &quot;10&quot;</span><br><span class="line"> 57) &quot;repl-timeout&quot;</span><br><span class="line"> 58) &quot;60&quot;</span><br><span class="line"> 59) &quot;repl-backlog-size&quot;</span><br><span class="line"> 60) &quot;1048576&quot;</span><br><span class="line"> 61) &quot;repl-backlog-ttl&quot;</span><br><span class="line"> 62) &quot;3600&quot;</span><br><span class="line"> 63) &quot;maxclients&quot;</span><br><span class="line"> 64) &quot;4064&quot;</span><br><span class="line"> 65) &quot;watchdog-period&quot;</span><br><span class="line"> 66) &quot;0&quot;</span><br><span class="line"> 67) &quot;slave-priority&quot;</span><br><span class="line"> 68) &quot;100&quot;</span><br><span class="line"> 69) &quot;min-slaves-to-write&quot;</span><br><span class="line"> 70) &quot;0&quot;</span><br><span class="line"> 71) &quot;min-slaves-max-lag&quot;</span><br><span class="line"> 72) &quot;10&quot;</span><br><span class="line"> 73) &quot;hz&quot;</span><br><span class="line"> 74) &quot;10&quot;</span><br><span class="line"> 75) &quot;no-appendfsync-on-rewrite&quot;</span><br><span class="line"> 76) &quot;no&quot;</span><br><span class="line"> 77) &quot;slave-serve-stale-data&quot;</span><br><span class="line"> 78) &quot;yes&quot;</span><br><span class="line"> 79) &quot;slave-read-only&quot;</span><br><span class="line"> 80) &quot;yes&quot;</span><br><span class="line"> 81) &quot;stop-writes-on-bgsave-error&quot;</span><br><span class="line"> 82) &quot;yes&quot;</span><br><span class="line"> 83) &quot;daemonize&quot;</span><br><span class="line"> 84) &quot;no&quot;</span><br><span class="line"> 85) &quot;rdbcompression&quot;</span><br><span class="line"> 86) &quot;yes&quot;</span><br><span class="line"> 87) &quot;rdbchecksum&quot;</span><br><span class="line"> 88) &quot;yes&quot;</span><br><span class="line"> 89) &quot;activerehashing&quot;</span><br><span class="line"> 90) &quot;yes&quot;</span><br><span class="line"> 91) &quot;repl-disable-tcp-nodelay&quot;</span><br><span class="line"> 92) &quot;no&quot;</span><br><span class="line"> 93) &quot;aof-rewrite-incremental-fsync&quot;</span><br><span class="line"> 94) &quot;yes&quot;</span><br><span class="line"> 95) &quot;appendonly&quot;</span><br><span class="line"> 96) &quot;no&quot;</span><br><span class="line"> 97) &quot;dir&quot;</span><br><span class="line"> 98) &quot;/home/deepak/Downloads/redis-2.8.13/src&quot;</span><br><span class="line"> 99) &quot;maxmemory-policy&quot;</span><br><span class="line">100) &quot;volatile-lru&quot;</span><br><span class="line">101) &quot;appendfsync&quot;</span><br><span class="line">102) &quot;everysec&quot;</span><br><span class="line">103) &quot;save&quot;</span><br><span class="line">104) &quot;3600 1 300 100 60 10000&quot;</span><br><span class="line">105) &quot;loglevel&quot;</span><br><span class="line">106) &quot;notice&quot;</span><br><span class="line">107) &quot;client-output-buffer-limit&quot;</span><br><span class="line">108) &quot;normal 0 0 0 slave 268435456 67108864 60 pubsub 33554432 8388608 60&quot;</span><br><span class="line">109) &quot;unixsocketperm&quot;</span><br><span class="line">110) &quot;0&quot;</span><br><span class="line">111) &quot;slaveof&quot;</span><br><span class="line">112) &quot;&quot;</span><br><span class="line">113) &quot;notify-keyspace-events&quot;</span><br><span class="line">114) &quot;&quot;</span><br><span class="line">115) &quot;bind&quot;</span><br><span class="line">116) &quot;&quot;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>ç¼–è¾‘é…ç½®ï¼š</strong><br>ä½ å¯ä»¥é€šè¿‡ä¿®æ”¹ redis.conf æ–‡ä»¶æˆ–ä½¿ç”¨ CONFIG set å‘½ä»¤æ¥ä¿®æ”¹é…ç½®ã€‚</p><p>è¯­æ³•:<br>CONFIG SET å‘½ä»¤åŸºæœ¬è¯­æ³•ï¼š</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">redis 127.0.0.1:6379&gt; CONFIG SET CONFIG_SETTING_NAME NEW_CONFIG_VALUE</span><br></pre></td></tr></table></figure><p>å®ä¾‹</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">redis 127.0.0.1:6379&gt; CONFIG SET loglevel &quot;notice&quot;</span><br><span class="line">OK</span><br><span class="line">redis 127.0.0.1:6379&gt; CONFIG GET loglevel</span><br><span class="line"></span><br><span class="line">1) &quot;loglevel&quot;</span><br><span class="line">2) &quot;notice&quot;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å‚æ•°è¯´æ˜<br>redis.conf é…ç½®é¡¹è¯´æ˜å¦‚ä¸‹ï¼š</p><table><thead><tr><th>åºå·</th><th>é…ç½®é¡¹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>1</td><td>daemonize no</td><td>Redis é»˜è®¤ä¸æ˜¯ä»¥å®ˆæŠ¤è¿›ç¨‹çš„æ–¹å¼è¿è¡Œï¼Œå¯ä»¥é€šè¿‡è¯¥é…ç½®é¡¹ä¿®æ”¹ï¼Œä½¿ç”¨ yes å¯ç”¨å®ˆæŠ¤è¿›ç¨‹ï¼ˆWindows ä¸æ”¯æŒå®ˆæŠ¤çº¿ç¨‹çš„é…ç½®ä¸º no ï¼‰</td></tr><tr><td>2</td><td>pidfile &#x2F;var&#x2F;run&#x2F;redis.pid</td><td>å½“ Redis ä»¥å®ˆæŠ¤è¿›ç¨‹æ–¹å¼è¿è¡Œæ—¶ï¼ŒRedis é»˜è®¤ä¼šæŠŠ pid å†™å…¥ &#x2F;var&#x2F;run&#x2F;redis.pid æ–‡ä»¶ï¼Œå¯ä»¥é€šè¿‡ pidfile æŒ‡å®š</td></tr><tr><td>3</td><td>port 6379</td><td>æŒ‡å®š Redis ç›‘å¬ç«¯å£ï¼Œé»˜è®¤ç«¯å£ä¸º 6379ï¼Œä½œè€…åœ¨è‡ªå·±çš„ä¸€ç¯‡åšæ–‡ä¸­è§£é‡Šäº†ä¸ºä»€ä¹ˆé€‰ç”¨ 6379 ä½œä¸ºé»˜è®¤ç«¯å£ï¼Œå› ä¸º 6379 åœ¨æ‰‹æœºæŒ‰é”®ä¸Š MERZ å¯¹åº”çš„å·ç ï¼Œè€Œ MERZ å–è‡ªæ„å¤§åˆ©æ­Œå¥³ Alessia Merz çš„åå­—</td></tr><tr><td>4</td><td>bind 127.0.0.1</td><td>ç»‘å®šçš„ä¸»æœºåœ°å€</td></tr><tr><td>5</td><td>timeout 300</td><td>å½“å®¢æˆ·ç«¯é—²ç½®å¤šé•¿ç§’åå…³é—­è¿æ¥ï¼Œå¦‚æœæŒ‡å®šä¸º 0 ï¼Œè¡¨ç¤ºå…³é—­è¯¥åŠŸèƒ½</td></tr><tr><td>6</td><td>loglevel notice</td><td>æŒ‡å®šæ—¥å¿—è®°å½•çº§åˆ«ï¼ŒRedis æ€»å…±æ”¯æŒå››ä¸ªçº§åˆ«ï¼šdebugã€verboseã€noticeã€warningï¼Œé»˜è®¤ä¸º notice</td></tr><tr><td>7</td><td>logfile stdout</td><td>æ—¥å¿—è®°å½•æ–¹å¼ï¼Œé»˜è®¤ä¸ºæ ‡å‡†è¾“å‡ºï¼Œå¦‚æœé…ç½® Redis ä¸ºå®ˆæŠ¤è¿›ç¨‹æ–¹å¼è¿è¡Œï¼Œè€Œè¿™é‡Œåˆé…ç½®ä¸ºæ—¥å¿—è®°å½•æ–¹å¼ä¸ºæ ‡å‡†è¾“å‡ºï¼Œåˆ™æ—¥å¿—å°†ä¼šå‘é€ç»™ &#x2F;dev&#x2F;null</td></tr><tr><td>8</td><td>databases 16</td><td>è®¾ç½®æ•°æ®åº“çš„æ•°é‡ï¼Œé»˜è®¤æ•°æ®åº“ä¸º0ï¼Œå¯ä»¥ä½¿ç”¨SELECT å‘½ä»¤åœ¨è¿æ¥ä¸ŠæŒ‡å®šæ•°æ®åº“id</td></tr><tr><td>9</td><td>save <seconds> <changes>Redis é»˜è®¤é…ç½®æ–‡ä»¶ä¸­æä¾›äº†ä¸‰ä¸ªæ¡ä»¶ï¼š<br />save 900 1<br />save 300 10<br />save 60 10000<br />åˆ†åˆ«è¡¨ç¤º 900 ç§’ï¼ˆ15 åˆ†é’Ÿï¼‰å†…æœ‰ 1 ä¸ªæ›´æ”¹ï¼Œ300 ç§’ï¼ˆ5 åˆ†é’Ÿï¼‰å†…æœ‰ 10 ä¸ªæ›´æ”¹ä»¥åŠ 60 ç§’å†…æœ‰ 10000 ä¸ªæ›´æ”¹ã€‚</td><td>æŒ‡å®šåœ¨å¤šé•¿æ—¶é—´å†…ï¼Œæœ‰å¤šå°‘æ¬¡æ›´æ–°æ“ä½œï¼Œå°±å°†æ•°æ®åŒæ­¥åˆ°æ•°æ®æ–‡ä»¶ï¼Œå¯ä»¥å¤šä¸ªæ¡ä»¶é…åˆ</td></tr><tr><td>10</td><td>rdbcompression yes</td><td>æŒ‡å®šå­˜å‚¨è‡³æœ¬åœ°æ•°æ®åº“æ—¶æ˜¯å¦å‹ç¼©æ•°æ®ï¼Œé»˜è®¤ä¸º yesï¼ŒRedis é‡‡ç”¨ LZF å‹ç¼©ï¼Œå¦‚æœä¸ºäº†èŠ‚çœ CPU æ—¶é—´ï¼Œå¯ä»¥å…³é—­è¯¥é€‰é¡¹ï¼Œä½†ä¼šå¯¼è‡´æ•°æ®åº“æ–‡ä»¶å˜çš„å·¨å¤§</td></tr><tr><td>11</td><td>dbfilename dump.rdb</td><td>æŒ‡å®šæœ¬åœ°æ•°æ®åº“æ–‡ä»¶åï¼Œé»˜è®¤å€¼ä¸º dump.rdb</td></tr><tr><td>12</td><td>dir .&#x2F;</td><td>æŒ‡å®šæœ¬åœ°æ•°æ®åº“å­˜æ”¾ç›®å½•</td></tr><tr><td>13</td><td>slaveof <masterip> <masterport></td><td>è®¾ç½®å½“æœ¬æœºä¸º slave æœåŠ¡æ—¶ï¼Œè®¾ç½® master æœåŠ¡çš„ IP åœ°å€åŠç«¯å£ï¼Œåœ¨ Redis å¯åŠ¨æ—¶ï¼Œå®ƒä¼šè‡ªåŠ¨ä» master è¿›è¡Œæ•°æ®åŒæ­¥</td></tr><tr><td>14</td><td>masterauth <master-password></td><td>å½“ master æœåŠ¡è®¾ç½®äº†å¯†ç ä¿æŠ¤æ—¶ï¼Œslav æœåŠ¡è¿æ¥ master çš„å¯†ç </td></tr><tr><td>15</td><td>requirepass foobared</td><td>è®¾ç½® Redis è¿æ¥å¯†ç ï¼Œå¦‚æœé…ç½®äº†è¿æ¥å¯†ç ï¼Œå®¢æˆ·ç«¯åœ¨è¿æ¥ Redis æ—¶éœ€è¦é€šè¿‡ AUTH <password> å‘½ä»¤æä¾›å¯†ç ï¼Œé»˜è®¤å…³é—­</td></tr><tr><td>16</td><td>maxclients 128</td><td>è®¾ç½®åŒä¸€æ—¶é—´æœ€å¤§å®¢æˆ·ç«¯è¿æ¥æ•°ï¼Œé»˜è®¤æ— é™åˆ¶ï¼ŒRedis å¯ä»¥åŒæ—¶æ‰“å¼€çš„å®¢æˆ·ç«¯è¿æ¥æ•°ä¸º Redis è¿›ç¨‹å¯ä»¥æ‰“å¼€çš„æœ€å¤§æ–‡ä»¶æè¿°ç¬¦æ•°ï¼Œå¦‚æœè®¾ç½® maxclients 0ï¼Œè¡¨ç¤ºä¸ä½œé™åˆ¶ã€‚å½“å®¢æˆ·ç«¯è¿æ¥æ•°åˆ°è¾¾é™åˆ¶æ—¶ï¼ŒRedis ä¼šå…³é—­æ–°çš„è¿æ¥å¹¶å‘å®¢æˆ·ç«¯è¿”å› max number of clients reached é”™è¯¯ä¿¡æ¯</td></tr><tr><td>17</td><td>maxmemory <bytes></td><td>æŒ‡å®š Redis æœ€å¤§å†…å­˜é™åˆ¶ï¼ŒRedis åœ¨å¯åŠ¨æ—¶ä¼šæŠŠæ•°æ®åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œè¾¾åˆ°æœ€å¤§å†…å­˜åï¼ŒRedis ä¼šå…ˆå°è¯•æ¸…é™¤å·²åˆ°æœŸæˆ–å³å°†åˆ°æœŸçš„ Keyï¼Œå½“æ­¤æ–¹æ³•å¤„ç† åï¼Œä»ç„¶åˆ°è¾¾æœ€å¤§å†…å­˜è®¾ç½®ï¼Œå°†æ— æ³•å†è¿›è¡Œå†™å…¥æ“ä½œï¼Œä½†ä»ç„¶å¯ä»¥è¿›è¡Œè¯»å–æ“ä½œã€‚Redis æ–°çš„ vm æœºåˆ¶ï¼Œä¼šæŠŠ Key å­˜æ”¾å†…å­˜ï¼ŒValue ä¼šå­˜æ”¾åœ¨ swap åŒº</td></tr><tr><td>18</td><td>appendonly no</td><td>æŒ‡å®šæ˜¯å¦åœ¨æ¯æ¬¡æ›´æ–°æ“ä½œåè¿›è¡Œæ—¥å¿—è®°å½•ï¼ŒRedis åœ¨é»˜è®¤æƒ…å†µä¸‹æ˜¯å¼‚æ­¥çš„æŠŠæ•°æ®å†™å…¥ç£ç›˜ï¼Œå¦‚æœä¸å¼€å¯ï¼Œå¯èƒ½ä¼šåœ¨æ–­ç”µæ—¶å¯¼è‡´ä¸€æ®µæ—¶é—´å†…çš„æ•°æ®ä¸¢å¤±ã€‚å› ä¸º redis æœ¬èº«åŒæ­¥æ•°æ®æ–‡ä»¶æ˜¯æŒ‰ä¸Šé¢ save æ¡ä»¶æ¥åŒæ­¥çš„ï¼Œæ‰€ä»¥æœ‰çš„æ•°æ®ä¼šåœ¨ä¸€æ®µæ—¶é—´å†…åªå­˜åœ¨äºå†…å­˜ä¸­ã€‚é»˜è®¤ä¸º no</td></tr><tr><td>19</td><td>appendfilename appendonly.aof</td><td>æŒ‡å®šæ›´æ–°æ—¥å¿—æ–‡ä»¶åï¼Œé»˜è®¤ä¸º appendonly.aof</td></tr><tr><td>20</td><td>appendfsync everysec</td><td>æŒ‡å®šæ›´æ–°æ—¥å¿—æ¡ä»¶ï¼Œå…±æœ‰ 3 ä¸ªå¯é€‰å€¼ï¼šnoï¼šè¡¨ç¤ºç­‰æ“ä½œç³»ç»Ÿè¿›è¡Œæ•°æ®ç¼“å­˜åŒæ­¥åˆ°ç£ç›˜ï¼ˆå¿«ï¼‰alwaysï¼šè¡¨ç¤ºæ¯æ¬¡æ›´æ–°æ“ä½œåæ‰‹åŠ¨è°ƒç”¨ fsync() å°†æ•°æ®å†™åˆ°ç£ç›˜ï¼ˆæ…¢ï¼Œå®‰å…¨ï¼‰everysecï¼šè¡¨ç¤ºæ¯ç§’åŒæ­¥ä¸€æ¬¡ï¼ˆæŠ˜ä¸­ï¼Œé»˜è®¤å€¼ï¼‰</td></tr><tr><td>21</td><td>vm-enabled no</td><td>æŒ‡å®šæ˜¯å¦å¯ç”¨è™šæ‹Ÿå†…å­˜æœºåˆ¶ï¼Œé»˜è®¤å€¼ä¸º noï¼Œç®€å•çš„ä»‹ç»ä¸€ä¸‹ï¼ŒVM æœºåˆ¶å°†æ•°æ®åˆ†é¡µå­˜æ”¾ï¼Œç”± Redis å°†è®¿é—®é‡è¾ƒå°‘çš„é¡µå³å†·æ•°æ® swap åˆ°ç£ç›˜ä¸Šï¼Œè®¿é—®å¤šçš„é¡µé¢ç”±ç£ç›˜è‡ªåŠ¨æ¢å‡ºåˆ°å†…å­˜ä¸­ï¼ˆåœ¨åé¢çš„æ–‡ç« æˆ‘ä¼šä»”ç»†åˆ†æ Redis çš„ VM æœºåˆ¶ï¼‰</td></tr><tr><td>22</td><td>vm-swap-file &#x2F;tmp&#x2F;redis.swap</td><td>è™šæ‹Ÿå†…å­˜æ–‡ä»¶è·¯å¾„ï¼Œé»˜è®¤å€¼ä¸º &#x2F;tmp&#x2F;redis.swapï¼Œä¸å¯å¤šä¸ª Redis å®ä¾‹å…±äº«</td></tr><tr><td>23</td><td>vm-max-memory 0</td><td>å°†æ‰€æœ‰å¤§äº vm-max-memory çš„æ•°æ®å­˜å…¥è™šæ‹Ÿå†…å­˜ï¼Œæ— è®º vm-max-memory è®¾ç½®å¤šå°ï¼Œæ‰€æœ‰ç´¢å¼•æ•°æ®éƒ½æ˜¯å†…å­˜å­˜å‚¨çš„(Redis çš„ç´¢å¼•æ•°æ® å°±æ˜¯ keys)ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå½“ vm-max-memory è®¾ç½®ä¸º 0 çš„æ—¶å€™ï¼Œå…¶å®æ˜¯æ‰€æœ‰ value éƒ½å­˜åœ¨äºç£ç›˜ã€‚é»˜è®¤å€¼ä¸º 0</td></tr><tr><td>24</td><td>vm-page-size 32</td><td>Redis swap æ–‡ä»¶åˆ†æˆäº†å¾ˆå¤šçš„ pageï¼Œä¸€ä¸ªå¯¹è±¡å¯ä»¥ä¿å­˜åœ¨å¤šä¸ª page ä¸Šé¢ï¼Œä½†ä¸€ä¸ª page ä¸Šä¸èƒ½è¢«å¤šä¸ªå¯¹è±¡å…±äº«ï¼Œvm-page-size æ˜¯è¦æ ¹æ®å­˜å‚¨çš„ æ•°æ®å¤§å°æ¥è®¾å®šçš„ï¼Œä½œè€…å»ºè®®å¦‚æœå­˜å‚¨å¾ˆå¤šå°å¯¹è±¡ï¼Œpage å¤§å°æœ€å¥½è®¾ç½®ä¸º 32 æˆ–è€… 64bytesï¼›å¦‚æœå­˜å‚¨å¾ˆå¤§å¤§å¯¹è±¡ï¼Œåˆ™å¯ä»¥ä½¿ç”¨æ›´å¤§çš„ pageï¼Œå¦‚æœä¸ç¡®å®šï¼Œå°±ä½¿ç”¨é»˜è®¤å€¼</td></tr><tr><td>25</td><td>vm-pages 134217728</td><td>è®¾ç½® swap æ–‡ä»¶ä¸­çš„ page æ•°é‡ï¼Œç”±äºé¡µè¡¨ï¼ˆä¸€ç§è¡¨ç¤ºé¡µé¢ç©ºé—²æˆ–ä½¿ç”¨çš„ bitmapï¼‰æ˜¯åœ¨æ”¾åœ¨å†…å­˜ä¸­çš„ï¼Œï¼Œåœ¨ç£ç›˜ä¸Šæ¯ 8 ä¸ª pages å°†æ¶ˆè€— 1byte çš„å†…å­˜ã€‚</td></tr><tr><td>26</td><td>vm-max-threads 4</td><td>è®¾ç½®è®¿é—®swapæ–‡ä»¶çš„çº¿ç¨‹æ•°,æœ€å¥½ä¸è¦è¶…è¿‡æœºå™¨çš„æ ¸æ•°,å¦‚æœè®¾ç½®ä¸º0,é‚£ä¹ˆæ‰€æœ‰å¯¹swapæ–‡ä»¶çš„æ“ä½œéƒ½æ˜¯ä¸²è¡Œçš„ï¼Œå¯èƒ½ä¼šé€ æˆæ¯”è¾ƒé•¿æ—¶é—´çš„å»¶è¿Ÿã€‚é»˜è®¤å€¼ä¸º4</td></tr><tr><td>27</td><td>glueoutputbuf yes</td><td>è®¾ç½®åœ¨å‘å®¢æˆ·ç«¯åº”ç­”æ—¶ï¼Œæ˜¯å¦æŠŠè¾ƒå°çš„åŒ…åˆå¹¶ä¸ºä¸€ä¸ªåŒ…å‘é€ï¼Œé»˜è®¤ä¸ºå¼€å¯</td></tr><tr><td>28</td><td>hash-max-zipmap-entries 64<br />  hash-max-zipmap-value 512</td><td>æŒ‡å®šåœ¨è¶…è¿‡ä¸€å®šçš„æ•°é‡æˆ–è€…æœ€å¤§çš„å…ƒç´ è¶…è¿‡æŸä¸€ä¸´ç•Œå€¼æ—¶ï¼Œé‡‡ç”¨ä¸€ç§ç‰¹æ®Šçš„å“ˆå¸Œç®—æ³•</td></tr><tr><td>29</td><td>activerehashing yes</td><td>æŒ‡å®šæ˜¯å¦æ¿€æ´»é‡ç½®å“ˆå¸Œï¼Œé»˜è®¤ä¸ºå¼€å¯ï¼ˆåé¢åœ¨ä»‹ç» Redis çš„å“ˆå¸Œç®—æ³•æ—¶å…·ä½“ä»‹ç»ï¼‰</td></tr><tr><td>30</td><td>include &#x2F;path&#x2F;to&#x2F;local.conf</td><td>æŒ‡å®šåŒ…å«å…¶å®ƒçš„é…ç½®æ–‡ä»¶ï¼Œå¯ä»¥åœ¨åŒä¸€ä¸»æœºä¸Šå¤šä¸ªRediså®ä¾‹ä¹‹é—´ä½¿ç”¨åŒä¸€ä»½é…ç½®æ–‡ä»¶ï¼Œè€ŒåŒæ—¶å„ä¸ªå®ä¾‹åˆæ‹¥æœ‰è‡ªå·±çš„ç‰¹å®šé…ç½®æ–‡ä»¶</td></tr></tbody></table><h2 id="0x02-SpringBoot-ä¸­é›†æˆRedis"><a href="#0x02-SpringBoot-ä¸­é›†æˆRedis" class="headerlink" title="0x02 SpringBoot ä¸­é›†æˆRedis"></a>0x02 SpringBoot ä¸­é›†æˆRedis</h2><p>__REmote DIctionary Server(Redis) __æ˜¯ä¸€ä¸ªç”± Salvatore Sanfilippo å†™çš„ __key-value å­˜å‚¨ç³»ç»Ÿ__ï¼Œæ˜¯è·¨å¹³å°çš„__éå…³ç³»å‹æ•°æ®åº“__ã€‚</p><p>Redis æ˜¯ä¸€ä¸ªå¼€æºçš„ä½¿ç”¨ ANSI C è¯­è¨€ç¼–å†™ã€éµå®ˆ BSD åè®®ã€æ”¯æŒç½‘ç»œã€å¯åŸºäºå†…å­˜ã€åˆ†å¸ƒå¼ã€å¯é€‰æŒä¹…æ€§çš„é”®å€¼å¯¹(Key-Value)å­˜å‚¨æ•°æ®åº“ï¼Œå¹¶æä¾›å¤šç§è¯­è¨€çš„ APIã€‚</p><p>Redis é€šå¸¸è¢«ç§°ä¸ºæ•°æ®ç»“æ„æœåŠ¡å™¨ï¼Œå› ä¸ºå€¼ï¼ˆvalueï¼‰å¯ä»¥æ˜¯å­—ç¬¦ä¸²(String)ã€å“ˆå¸Œ(Hash)ã€åˆ—è¡¨(list)ã€é›†åˆ(sets)å’Œæœ‰åºé›†åˆ(sorted sets)ç­‰ç±»å‹ã€‚</p><p>Redis æ˜¯__å®Œå…¨å¼€æº__çš„ï¼Œéµå®ˆ BSD åè®®ï¼Œæ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„ __key-value æ•°æ®åº“__ã€‚</p><p><strong>Redis ä¸å…¶ä»– key - value ç¼“å­˜äº§å“æœ‰ä»¥ä¸‹ä¸‰ä¸ªç‰¹ç‚¹ï¼š</strong></p><ul><li>Redisæ”¯æŒæ•°æ®çš„æŒä¹…åŒ–ï¼Œå¯ä»¥å°†å†…å­˜ä¸­çš„æ•°æ®ä¿å­˜åœ¨ç£ç›˜ä¸­ï¼Œé‡å¯çš„æ—¶å€™å¯ä»¥å†æ¬¡åŠ è½½è¿›è¡Œä½¿ç”¨ã€‚</li><li>Redisä¸ä»…ä»…æ”¯æŒç®€å•çš„key-valueç±»å‹çš„æ•°æ®ï¼ŒåŒæ—¶è¿˜æä¾›listï¼Œsetï¼Œzsetï¼Œhashç­‰æ•°æ®ç»“æ„çš„å­˜å‚¨ã€‚</li><li>Redisæ”¯æŒæ•°æ®çš„å¤‡ä»½ï¼Œå³master-slaveæ¨¡å¼çš„æ•°æ®å¤‡ä»½ã€‚</li></ul><p><strong>Redisä¸å…¶ä»–key-valueå­˜å‚¨æœ‰ä»€ä¹ˆä¸åŒï¼Ÿ</strong></p><ul><li><p>Redisæœ‰ç€æ›´ä¸ºå¤æ‚çš„æ•°æ®ç»“æ„å¹¶ä¸”æä¾›å¯¹ä»–ä»¬çš„åŸå­æ€§æ“ä½œï¼Œè¿™æ˜¯ä¸€ä¸ªä¸åŒäºå…¶ä»–æ•°æ®åº“çš„è¿›åŒ–è·¯å¾„ã€‚Redisçš„æ•°æ®ç±»å‹éƒ½æ˜¯åŸºäºåŸºæœ¬æ•°æ®ç»“æ„çš„åŒæ—¶å¯¹ç¨‹åºå‘˜é€æ˜ï¼Œæ— éœ€è¿›è¡Œé¢å¤–çš„æŠ½è±¡ã€‚</p></li><li><p>Redisè¿è¡Œåœ¨å†…å­˜ä¸­ä½†æ˜¯å¯ä»¥æŒä¹…åŒ–åˆ°ç£ç›˜ï¼Œæ‰€ä»¥åœ¨å¯¹ä¸åŒæ•°æ®é›†è¿›è¡Œé«˜é€Ÿè¯»å†™æ—¶éœ€è¦æƒè¡¡å†…å­˜ï¼Œå› ä¸ºæ•°æ®é‡ä¸èƒ½å¤§äºç¡¬ä»¶å†…å­˜ã€‚åœ¨å†…å­˜æ•°æ®åº“æ–¹é¢çš„å¦ä¸€ä¸ªä¼˜ç‚¹æ˜¯ï¼Œç›¸æ¯”åœ¨ç£ç›˜ä¸Šç›¸åŒçš„å¤æ‚çš„æ•°æ®ç»“æ„ï¼Œåœ¨å†…å­˜ä¸­æ“ä½œèµ·æ¥éå¸¸ç®€å•ï¼Œè¿™æ ·Rediså¯ä»¥åšå¾ˆå¤šå†…éƒ¨å¤æ‚æ€§å¾ˆå¼ºçš„äº‹æƒ…ã€‚åŒæ—¶ï¼Œåœ¨ç£ç›˜æ ¼å¼æ–¹é¢ä»–ä»¬æ˜¯ç´§å‡‘çš„ä»¥è¿½åŠ çš„æ–¹å¼äº§ç”Ÿçš„ï¼Œå› ä¸ºä»–ä»¬å¹¶ä¸éœ€è¦è¿›è¡Œéšæœºè®¿é—®ã€‚</p></li></ul><p><strong>SpringBoot ä¸­é›†æˆRedisåªæœ‰ä¸¤æ­¥ï¼š</strong></p><ol><li>æ·»åŠ æ“ä½œRedisæ•°æ®ç±»å‹çš„ä¾èµ–</li><li>åœ¨SpringBootæ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­æ·»åŠ Redisçš„é…ç½®</li></ol><h3 id="0x0201-æ·»åŠ æ“ä½œRedisæ•°æ®ç±»å‹çš„ä¾èµ–"><a href="#0x0201-æ·»åŠ æ“ä½œRedisæ•°æ®ç±»å‹çš„ä¾èµ–" class="headerlink" title="0x0201 æ·»åŠ æ“ä½œRedisæ•°æ®ç±»å‹çš„ä¾èµ–"></a>0x0201 æ·»åŠ æ“ä½œRedisæ•°æ®ç±»å‹çš„ä¾èµ–</h3><p>åœ¨Mavençš„pom.xmlä¸­æ·»åŠ ï¼š</p><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--SpringBooté›†æˆRedisçš„èµ·æ­¥ä¾èµ–--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-data-redis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="0x0202-åœ¨SpringBootæ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­æ·»åŠ Redisçš„é…ç½®"><a href="#0x0202-åœ¨SpringBootæ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­æ·»åŠ Redisçš„é…ç½®" class="headerlink" title="0x0202 åœ¨SpringBootæ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­æ·»åŠ Redisçš„é…ç½®"></a>0x0202 åœ¨SpringBootæ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­æ·»åŠ Redisçš„é…ç½®</h3><p>åœ¨application.propertiesä¸­æ·»åŠ ï¼š</p><figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="comment">#è®¾ç½®redisé…ç½®ä¿¡æ¯</span></span><br><span class="line"><span class="attr">spring.redis.host</span>=<span class="string">127.0.0.1</span></span><br><span class="line"><span class="attr">spring.redis.port</span>=<span class="string">6379</span></span><br><span class="line"><span class="comment">#æ²¡æœ‰è®¾ç½®å¯†ç ä¸ç”¨å¡«ä¸‹é¢çš„</span></span><br><span class="line"><span class="attr">spring.redis.password</span>=<span class="string"></span></span><br></pre></td></tr></table></figure><h3 id="0x0203-æ“ä½œRedis"><a href="#0x0203-æ“ä½œRedis" class="headerlink" title="0x0203 æ“ä½œRedis"></a>0x0203 æ“ä½œRedis</h3><p>åœ¨ä¸šåŠ¡å±‚åˆ›å»ºå­˜å…¥Redisæ•°æ®åº“çš„ä¸šåŠ¡æ“ä½œï¼Œåœ¨Application.javaåŒçº§ç›®å½•æˆ–æ¬¡çº§ç›®å½•åˆ›å»ºåŒ…serviceï¼ŒåŒ…å†…åˆ›å»ºä¸€ä¸ªStudentService.javaæ¥å£ï¼š</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bjpowernode.springboot.service;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">StudentService</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å°†å€¼å­˜æ”¾åˆ°redisä¸­</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> key</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> value</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">put</span><span class="params">(String key, String value)</span>;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ä»redisä¸­è·å–æŒ‡å®škeyçš„å€¼</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> key</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    String <span class="title function_">get</span><span class="params">(String key)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å†åœ¨serviceåŒ…å†…åˆ›å»ºä¸€ä¸ªåŒ…implç”¨æ¥å­˜æ”¾æ¥å£å®ç°ç±»ï¼Œé‡Œé¢åˆ›å»ºStudentServiceImpl.javaä½œä¸ºä¸Šé¢æ¥å£çš„æ¥å£å®ç°ç±»ï¼š</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bjpowernode.springboot.service.impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.bjpowernode.springboot.service.StudentService;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.data.redis.core.RedisTemplate;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StudentServiceImpl</span> <span class="keyword">implements</span> <span class="title class_">StudentService</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> RedisTemplate&lt;Object,Object&gt; redisTemplate;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">put</span><span class="params">(String key, String value)</span> &#123;</span><br><span class="line"><span class="comment">//å¯¹æ•°æ®è¿›è¡Œå­˜å…¥æ“ä½œset(key,value)</span></span><br><span class="line">        redisTemplate.opsForValue().set(key,value);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">get</span><span class="params">(String key)</span> &#123;</span><br><span class="line"><span class="comment">//å¯¹æ•°æ®è¿›è¡Œå–å‡ºæ“ä½œget(key)</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">count</span> <span class="operator">=</span> (String) redisTemplate.opsForValue().get(key);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> count;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¶ååœ¨æ§åˆ¶å±‚è¿›è¡Œæ•°æ®çš„è¾“å‡ºï¼š</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bjpowernode.springboot.web;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.bjpowernode.springboot.service.StudentService;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.ResponseBody;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StudentController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> StudentService studentService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(value = &quot;/put&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="meta">@ResponseBody</span></span><br><span class="line">    Object <span class="title function_">put</span><span class="params">(String key, String value)</span> &#123;</span><br><span class="line"></span><br><span class="line">        studentService.put(key, value);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;å€¼å·²æˆåŠŸæ”¾å…¥redis&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(value = &quot;/get&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="meta">@ResponseBody</span></span><br><span class="line">    String <span class="title function_">get</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">count</span> <span class="operator">=</span> studentService.get(<span class="string">&quot;count&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;æ•°æ®countä¸º:&quot;</span> + count;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> åç«¯å­¦ä¹  </category>
          
          <category> SpringBoot </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åç«¯ </tag>
            
            <tag> Java </tag>
            
            <tag> Spring </tag>
            
            <tag> SpringBoot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring Boot å­¦ä¹ ç¬”è®° 07</title>
      <link href="/2021/08/10/57f701012393-q1jun/"/>
      <url>/2021/08/10/57f701012393-q1jun/</url>
      
        <content type="html"><![CDATA[<h1 id="Spring-Bootå­¦ä¹ ç¬”è®°-07"><a href="#Spring-Bootå­¦ä¹ ç¬”è®°-07" class="headerlink" title="Spring Bootå­¦ä¹ ç¬”è®° 07"></a>Spring Bootå­¦ä¹ ç¬”è®° 07</h1><h2 id="0x01-SpringMVC-å¸¸ç”¨æ³¨è§£"><a href="#0x01-SpringMVC-å¸¸ç”¨æ³¨è§£" class="headerlink" title="0x01 SpringMVC å¸¸ç”¨æ³¨è§£"></a>0x01 SpringMVC å¸¸ç”¨æ³¨è§£</h2><p><strong>@GetMapping</strong>ç­‰ä»·äº<em>å•ç‹¬ä½¿ç”¨Getæ–¹æ³•</em>çš„**@RequestMapping**ï¼Œæ¯”å¦‚ä¸‹é¢ä»£ç ï¼š</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(value = &quot;/queryStudentById2&quot;,method = RequestMethod.GET)</span></span><br><span class="line"><span class="comment">//è¯¥æ³¨è§£é€šè¿‡åœ¨æŸ¥è¯¢æ•°æ®çš„æ—¶å€™ä½¿ç”¨ -&gt; æŸ¥è¯¢</span></span><br><span class="line"><span class="keyword">public</span> Object <span class="title function_">queryStudentById2</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;Ony GET Method&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯ä»¥å†™æˆï¼š</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@GetMapping(value = &quot;/queryStudentById2&quot;)</span> <span class="comment">//ç›¸å½“äºä¸Šä¸€å¥è¯,åªæ¥æ”¶GETè¯·æ±‚,å¦‚æœè¯·æ±‚æ–¹å¼ä¸å¯¹ä¼šæŠ¥405é”™è¯¯</span></span><br><span class="line">   <span class="comment">//è¯¥æ³¨è§£é€šè¿‡åœ¨æŸ¥è¯¢æ•°æ®çš„æ—¶å€™ä½¿ç”¨ -&gt; æŸ¥è¯¢</span></span><br><span class="line">   <span class="keyword">public</span> Object <span class="title function_">queryStudentById2</span><span class="params">()</span> &#123;</span><br><span class="line">       <span class="keyword">return</span> <span class="string">&quot;Ony GET Method&quot;</span>;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><p>ç›¸å½“äºä¸Šä¸€å¥è¯,åªæ¥æ”¶GETè¯·æ±‚,å¦‚æœè¯·æ±‚æ–¹å¼ä¸å¯¹ä¼šæŠ¥405é”™è¯¯ã€‚</p><p>åŒç†çš„è¿˜æœ‰**@PostMapping**ï¼Œæ¯”å¦‚ä¸‹é¢çš„ä»£ç ï¼š</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(value = &quot;/insert&quot;,method = RequestMethod.POST)</span></span><br><span class="line"><span class="comment">//è¯¥æ³¨è§£é€šå¸¸åœ¨æ–°å¢æ•°æ®çš„æ—¶å€™ä½¿ç”¨ -&gt; æ–°å¢</span></span><br><span class="line"><span class="keyword">public</span> Object <span class="title function_">insert</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;Insert success&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åˆ™å¯ä»¥å†™æˆï¼š</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@PostMapping(value = &quot;/insert&quot;)</span> </span><br><span class="line">   <span class="comment">//è¯¥æ³¨è§£é€šå¸¸åœ¨æ–°å¢æ•°æ®çš„æ—¶å€™ä½¿ç”¨ -&gt; æ–°å¢</span></span><br><span class="line">   <span class="keyword">public</span> Object <span class="title function_">insert</span><span class="params">()</span> &#123;</span><br><span class="line">       <span class="keyword">return</span> <span class="string">&quot;Insert success&quot;</span>;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><p>é™¤æ­¤ä¹‹å¤–è¿˜æœ‰**@DeleteMapping** ,<strong>@PutMapping</strong>:</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//    @RequestMapping(value = &quot;/delete&quot;,method = RequestMethod.DELETE)</span></span><br><span class="line"><span class="meta">@DeleteMapping(value = &quot;/delete&quot;)</span><span class="comment">//ç›¸å½“äºä¸Šä¸€å¥è¯</span></span><br><span class="line"><span class="comment">//è¯¥æ³¨è§£é€šå¸¸åœ¨åˆ é™¤æ•°æ®çš„æ—¶å€™ä½¿ç”¨ -&gt; åˆ é™¤</span></span><br><span class="line"><span class="keyword">public</span> Object <span class="title function_">delete</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;delete Student&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//    @RequestMapping(value = &quot;/update&quot;,method = RequestMethod.PUT)</span></span><br><span class="line"><span class="meta">@PutMapping(value = &quot;/update&quot;)</span> <span class="comment">//ç›¸å½“äºä¸Šä¸€å¥è¯</span></span><br><span class="line"><span class="comment">//è¯¥æ³¨è§£é€šå¸¸åœ¨ä¿®æ”¹æ•°æ®çš„æ—¶å€™ä½¿ç”¨ -&gt; æ›´æ–°</span></span><br><span class="line"><span class="keyword">public</span> Object <span class="title function_">update</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;update student info1&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ ·æå¤§çš„ç®€åŒ–äº†æˆ‘ä»¬çš„ä»£ç ã€‚</p><h2 id="0x02-RESTFul"><a href="#0x02-RESTFul" class="headerlink" title="0x02 RESTFul"></a>0x02 RESTFul</h2><p><strong>REST</strong>ï¼ˆè‹±æ–‡ï¼š<em>Representational State Transfer</em>ï¼Œç®€ç§° RESTï¼‰ ä¸€ç§äº’è”ç½‘è½¯ä»¶æ¶æ„è®¾è®¡çš„é£æ ¼ï¼Œä½†å®ƒå¹¶ä¸æ˜¯æ ‡å‡†ï¼Œå®ƒåªæ˜¯æå‡ºäº†ä¸€ç»„å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ äº¤äº’æ—¶çš„æ¶æ„ç†å¿µå’Œè®¾è®¡åŸåˆ™ï¼ŒåŸºäºè¿™ç§ç†å¿µå’ŒåŸåˆ™è®¾è®¡çš„æ¥å£å¯ä»¥æ›´ç®€æ´ï¼Œæ›´æœ‰å±‚æ¬¡ï¼ŒREST è¿™ä¸ªè¯ï¼Œæ˜¯ Roy Thomas Fielding åœ¨ä»– 2000 å¹´çš„åšå£«è®ºæ–‡ä¸­æå‡ºçš„ã€‚ ä»»ä½•çš„æŠ€æœ¯éƒ½å¯ä»¥å®ç°è¿™ç§ç†å¿µï¼Œå¦‚æœä¸€ä¸ªæ¶æ„ç¬¦åˆ REST åŸåˆ™ï¼Œå°±ç§°å®ƒä¸º <strong>RESTFul æ¶ æ„</strong></p><p>Spring boot å¼€å‘ RESTFul ä¸»è¦æ˜¯å‡ ä¸ªæ³¨è§£å®ç°<br>ï¼ˆ1ï¼‰ @PathVariable ï¼šè·å– url ä¸­çš„æ•°æ® ï¼Œè¯¥æ³¨è§£æ˜¯å®ç° RESTFul æœ€ä¸»è¦çš„ä¸€ä¸ªæ³¨è§£<br>ï¼ˆ2ï¼‰ @PostMapping ï¼šæ¥æ”¶å’Œå¤„ç† Post æ–¹å¼çš„è¯·æ±‚<br>ï¼ˆ3ï¼‰ @DeleteMapping ï¼šæ¥æ”¶ delete æ–¹å¼çš„è¯·æ±‚ï¼Œå¯ä»¥ä½¿ç”¨ GetMapping ä»£æ›¿<br>ï¼ˆ4ï¼‰ @PutMapping ï¼šæ¥æ”¶ put æ–¹å¼çš„è¯·æ±‚ï¼Œå¯ä»¥ç”¨ PostMapping ä»£æ›¿<br>ï¼ˆ5ï¼‰ @GetMapping ï¼šæ¥æ”¶ get æ–¹å¼çš„è¯·æ±‚</p><p>RESTFulé£æ ¼çš„ä»£ç å¥½å¤„æœ‰ï¼š<br>â¢ ä¼ é€’å‚æ•°å˜ç®€å•äº†<br>â¢ æœåŠ¡æä¾›è€…å¯¹å¤–åªæä¾›äº†ä¸€ä¸ªæ¥å£æœåŠ¡ï¼Œè€Œä¸æ˜¯ä¼ ç»Ÿçš„ CRUD å››ä¸ªæ¥å£</p><p>ä¸‹é¢æˆ‘ä»¬çœ‹ä»£ç ï¼Œæ¥å®ç°RESTFulï¼š</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//    @RequestMapping(value = &quot;/student/detail/&#123;id&#125;/&#123;age&#125;&quot;)</span></span><br><span class="line">    <span class="meta">@GetMapping(value = &quot;/student/detail/&#123;id&#125;/&#123;age&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">student1</span><span class="params">(<span class="meta">@PathVariable(&quot;id&quot;)</span> Integer id,</span></span><br><span class="line"><span class="params">                           <span class="meta">@PathVariable(&quot;age&quot;)</span> Integer age)</span> &#123;</span><br><span class="line">        Map&lt;String,Object&gt; retMap = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        retMap.put(<span class="string">&quot;id&quot;</span>,id);</span><br><span class="line">        retMap.put(<span class="string">&quot;age&quot;</span>,age);</span><br><span class="line">        <span class="keyword">return</span> retMap;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬åœ¨è·¯å¾„é‡Œé¢æ·»åŠ äº†**{id}<strong>å’Œ</strong>{age}<strong>è¿™ä¸¤ä¸ªå˜é‡ï¼Œç„¶ååœ¨ä¸‹æ–¹é€šè¿‡æ³¨é‡Š</strong>@PathVariable<strong>æ¥è°ƒç”¨å‚æ•°åœ¨è·¯å¾„ä¸­è·å–çš„å€¼ï¼Œä¼ ç»™å˜é‡idå’Œageï¼Œç„¶åå°±èƒ½åœ¨æ–¹æ³•ä¸­ä½¿ç”¨æ‰€è·å–çš„å€¼äº†ã€‚<br>è¿™æ ·æˆ‘ä»¬åœ¨æµè§ˆå™¨è¾“å…¥</strong><a target="_blank" rel="noopener" href="http://localhost:8080/student/0101/28">http://localhost:8080/student/0101/28</a> **<br>å°±èƒ½æŠŠ<strong>0101</strong> å’Œ <strong>28</strong>è¿™ä¸¤ä¸ªå€¼ä¼ å…¥æ–¹æ³•ä¸­è¿›è¡Œè°ƒç”¨ã€‚</p><p>å’Œä¹‹å‰çš„å†™æ³•è¿›è¡Œå¯¹æ¯”ï¼š</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(value = &quot;/student&quot;)</span></span><br><span class="line"><span class="keyword">public</span> Object <span class="title function_">student</span><span class="params">(Integer id,Integer age)</span> &#123;</span><br><span class="line">    <span class="type">Student</span> <span class="variable">student</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>();</span><br><span class="line">    student.setId(id);</span><br><span class="line">    student.setAge(age);</span><br><span class="line">    <span class="keyword">return</span> student;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é€šè¿‡è¿™ç§æ–¹æ³•çš„urlå†™æ³•ä¸º**<a target="_blank" rel="noopener" href="http://localhost:8080/student?id=0101&amp;age=28">http://localhost:8080/student?id=0101&amp;age=28</a>  **<br>æ˜¾ç„¶å‰è€…æ›´å…·æœ‰è§‚èµæ€§å’Œå®ç”¨æ€§ï¼ˆè€Œä¸”æ›´å®‰å…¨ï¼‰ã€‚</p><p>ä½†æ˜¯è¿™ç§æ–¹å¼ä¹Ÿä¼šå‡ºç°å†²çªï¼Œå› ä¸ºåœ¨è·¯å¾„çš„å¡«å†™æ—¶ï¼Œå¹¶ä¸èƒ½çŸ¥é“å“ªä¸ªæ˜¯idå“ªä¸ªæ˜¯ageï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨è®¾è®¡çš„æ—¶å€™ï¼Œé€šå¸¸åœ¨RESTfulé£æ ¼ä¸­æ–¹æ³•çš„è¯·æ±‚æ–¹å¼ä¼šæŒ‰<strong>å¢åˆ æ”¹æŸ¥</strong>çš„è¯·æ±‚æ–¹å¼æ¥åŒºåˆ†ï¼Œæ¯”å¦‚å¦‚ä¸‹ä»£ç ï¼š</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(value = &quot;/student/detail/&#123;id&#125;/&#123;age&#125;&quot;)</span></span><br><span class="line"><span class="keyword">public</span> Object <span class="title function_">student1</span><span class="params">(<span class="meta">@PathVariable(&quot;id&quot;)</span> Integer id,</span></span><br><span class="line"><span class="params">                       <span class="meta">@PathVariable(&quot;age&quot;)</span> Integer age)</span> &#123;</span><br><span class="line">    Map&lt;String,Object&gt; retMap = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    retMap.put(<span class="string">&quot;id&quot;</span>,id);</span><br><span class="line">    retMap.put(<span class="string">&quot;age&quot;</span>,age);</span><br><span class="line">    <span class="keyword">return</span> retMap;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RequestMapping(value = &quot;/student/detail/&#123;id&#125;/&#123;status&#125;&quot;)</span></span><br><span class="line"><span class="keyword">public</span> Object <span class="title function_">student2</span><span class="params">(<span class="meta">@PathVariable(&quot;id&quot;)</span> Integer id,</span></span><br><span class="line"><span class="params">                       <span class="meta">@PathVariable(&quot;status&quot;)</span> Integer status)</span> &#123;</span><br><span class="line">    Map&lt;String,Object&gt; retMap = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    retMap.put(<span class="string">&quot;id&quot;</span>,id);</span><br><span class="line">    retMap.put(<span class="string">&quot;status&quot;</span>,status);</span><br><span class="line">    <span class="keyword">return</span> retMap;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Student1å’ŒStudent2æ–¹æ³•è°ƒç”¨è·¯å¾„æ—¶ä¼šæŠ¥é”™ï¼ŒåŸå› æ˜¯å‘ç”Ÿå†²çªï¼Œå› ä¸ºè·¯å¾„ä¼ è¿›æ¥çš„æ—¶å€™æ— æ³•åŒºåˆ†æœ€åæ˜¯{age}è¿˜æ˜¯{status}ï¼Œé‚£æ€ä¹ˆåŠå‘¢ï¼Ÿ</p><p><strong>æ–¹æ³•ä¸€ï¼š</strong><br>æˆ‘ä»¬åªéœ€è¦åœ¨è®¾è®¡çš„æ—¶å€™é¿å…è¿™ç§æƒ…å†µå‘ç”Ÿï¼Œæ¯”å¦‚å¯ä»¥æ”¹æˆå¦‚ä¸‹ä»£ç ï¼š</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">@RequestMapping(value = &quot;/student/&#123;id&#125;/detail/&#123;city&#125;&quot;)</span></span><br><span class="line"><span class="keyword">public</span> Object <span class="title function_">student3</span><span class="params">(<span class="meta">@PathVariable(&quot;id&quot;)</span> Integer id,</span></span><br><span class="line"><span class="params">                       <span class="meta">@PathVariable(&quot;city&quot;)</span> Integer city)</span> &#123;</span><br><span class="line">    Map&lt;String,Object&gt; retMap = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    retMap.put(<span class="string">&quot;id&quot;</span>,id);</span><br><span class="line">    retMap.put(<span class="string">&quot;city&quot;</span>,city);</span><br><span class="line">    <span class="keyword">return</span> retMap;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ ·å°±èƒ½é¿å…ä¸¤ç§æ–¹æ³•è°ƒç”¨çš„è·¯å¾„ç›¸åŒè€Œå‘ç”Ÿå†²çªäº†ï¼</p><p><strong>æ–¹æ³•äºŒï¼š</strong><br>è¿˜æœ‰ä¸€ç§æ–¹æ³•å°±æ˜¯é€šè¿‡æ”¹å˜æ³¨é‡Šæ¥é¿å…ç›¸åŒæ³¨é‡Šçš„å†²çªï¼š</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//    @RequestMapping(value = &quot;/student/detail/&#123;id&#125;/&#123;age&#125;&quot;)</span></span><br><span class="line">    <span class="meta">@GetMapping(value = &quot;/student/detail/&#123;id&#125;/&#123;age&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">student1</span><span class="params">(<span class="meta">@PathVariable(&quot;id&quot;)</span> Integer id,</span></span><br><span class="line"><span class="params">                           <span class="meta">@PathVariable(&quot;age&quot;)</span> Integer age)</span> &#123;</span><br><span class="line">        Map&lt;String,Object&gt; retMap = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        retMap.put(<span class="string">&quot;id&quot;</span>,id);</span><br><span class="line">        retMap.put(<span class="string">&quot;age&quot;</span>,age);</span><br><span class="line">        <span class="keyword">return</span> retMap;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//    @RequestMapping(value = &quot;/student/detail/&#123;id&#125;/&#123;status&#125;&quot;)</span></span><br><span class="line">    <span class="meta">@DeleteMapping(value = &quot;/student/detail/&#123;id&#125;/&#123;status&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">student2</span><span class="params">(<span class="meta">@PathVariable(&quot;id&quot;)</span> Integer id,</span></span><br><span class="line"><span class="params">                           <span class="meta">@PathVariable(&quot;status&quot;)</span> Integer status)</span> &#123;</span><br><span class="line">        Map&lt;String,Object&gt; retMap = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        retMap.put(<span class="string">&quot;id&quot;</span>,id);</span><br><span class="line">        retMap.put(<span class="string">&quot;status&quot;</span>,status);</span><br><span class="line">        <span class="keyword">return</span> retMap;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä»ä»£ç ä¸­æˆ‘ä»¬å‘ç°ï¼Œè™½ç„¶è·¯å¾„æ˜¯ä¸€æ ·çš„ï¼Œä½†æ˜¯æ³¨é‡Šä¸ä¸€æ ·ï¼ŒæŠŠåŸæ¥çš„@RequestMappingæ¢æˆäº†@GetMappingå’Œ@DeleteMappingï¼Œæ‰€ä»¥å½“è·¯å¾„ä¸€æ ·æ—¶ï¼ŒGetæ–¹æ³•å’ŒDeleteæ–¹æ³•æ‰€è¯·æ±‚çš„è·¯å¾„æ˜¯ä¸ä¸€æ ·çš„ï¼Œè¿™æ ·ä¹Ÿèƒ½é¿å…å†²çªï¼Œä½†æ˜¯ç›¸æ¯”äºæ–¹æ³•ä¸€è¿˜æ˜¯ä¸å¤Ÿå¥½ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> åç«¯å­¦ä¹  </category>
          
          <category> SpringBoot </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åç«¯ </tag>
            
            <tag> Java </tag>
            
            <tag> Spring </tag>
            
            <tag> SpringBoot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring Boot å­¦ä¹ ç¬”è®° 06</title>
      <link href="/2021/08/09/893e8b53eb77-q1jun/"/>
      <url>/2021/08/09/893e8b53eb77-q1jun/</url>
      
        <content type="html"><![CDATA[<h1 id="Spring-Boot-å­¦ä¹ ç¬”è®°-06"><a href="#Spring-Boot-å­¦ä¹ ç¬”è®°-06" class="headerlink" title="Spring Boot å­¦ä¹ ç¬”è®° 06"></a>Spring Boot å­¦ä¹ ç¬”è®° 06</h1><h2 id="0x01-MybatisæœåŠ¡æ¥å£åŠè°ƒç”¨"><a href="#0x01-MybatisæœåŠ¡æ¥å£åŠè°ƒç”¨" class="headerlink" title="0x01 MybatisæœåŠ¡æ¥å£åŠè°ƒç”¨"></a>0x01 MybatisæœåŠ¡æ¥å£åŠè°ƒç”¨</h2><p>åœ¨æˆ‘ä»¬å·²ç»é€šè¿‡é€†å‘ç”Ÿæˆäº†Mapperæ¥å£ç±»ã€æ˜ å°„æ–‡ä»¶ä»¥åŠJAVAæ¨¡å‹çš„ä¹‹åï¼Œæˆ‘ä»¬è¿˜éœ€è¦é€šè¿‡ä¸šåŠ¡å±‚çš„æœåŠ¡æ¥è°ƒç”¨æ•°æ®ã€‚</p><p>æˆ‘ä»¬é¦–å…ˆåœ¨æ§åˆ¶å±‚@Controlleræ³¨è§£çš„æ–¹æ³•ä¸‹æ·»åŠ @Autowiredæ³¨è§£æ¥æ³¨å…¥ä¸šåŠ¡å±‚æå–çš„æ•°æ®ï¼š</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StudentController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> StudentService studentService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(value = &quot;/student&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="meta">@ResponseBody</span> Object <span class="title function_">student</span><span class="params">(Integer id)</span> &#123;</span><br><span class="line">        <span class="type">Student</span> <span class="variable">student</span> <span class="operator">=</span> studentService.queryStudentById(id);</span><br><span class="line">        <span class="keyword">return</span> student;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¹¶ä¸”åœ¨ä¸‹æ–¹çš„@RequestMappingæ³¨è§£ä¸­è°ƒç”¨è¯¥æœåŠ¡æ³¨å…¥çš„æ•°æ®å­˜æ”¾åˆ°Studentç±»ä¸­ã€‚</p><p>è¿™æ—¶å€™è‚¯å®šè¿˜æ˜¯ä¸å¤Ÿçš„ï¼Œå› ä¸ºæˆ‘ä»¬åœ¨è¿™é‡Œåˆ›å»ºäº†ä¸€ä¸ªå«åšStudentServiceçš„ç±»ï¼Œé‚£æˆ‘ä»¬å°±åœ¨Application.javaåŒçº§ç›®å½•æˆ–ä¸‹çº§ç›®å½•ä¸­åˆ›å»ºè¿™ä¸ªæœåŠ¡ç±»å’Œæ¥å£ã€‚<br>åœ¨Application.javaåŒçº§ç›®å½•æ–°å¢ä¸€ä¸ªåŒ…ï¼ŒåŒ…åä¸ºserviceï¼ŒåŒ…å†…æ–°å»ºä¸€ä¸ªæ¥å£ç±»ï¼Œæ¥å£åä¸ºStudentService:</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bjpowernode.springboot.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.bjpowernode.springboot.model.Student;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">StudentService</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ ¹æ®å­¦ç”ŸIDæŸ¥è¯¢è¯¦æƒ…</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> id</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    Student <span class="title function_">queryStudentById</span><span class="params">(Integer id)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è¯¥æ¥å£çš„åŠŸèƒ½ä¸ºæ ¹æ®å­¦ç”ŸIDæŸ¥è¯¢å­¦ç”Ÿè¯¦æƒ…æ•°æ®ã€‚</p><p>å¯¹åº”è¿™ä¸ªæ¥å£ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ä¸€ä¸ªå®ç°ç±»ï¼Œæˆ‘ä»¬åœ¨è¿™ä¸ªæ¥å£åŒçº§ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªåŒ…ï¼ŒåŒ…åä¸ºImplï¼ŒåŒ…å†…æ–°å»ºjavaæ–‡ä»¶StudentServiceImpl.javaæ¥å®ç°æ¥å£çš„åŠŸèƒ½ã€‚</p><p>è€Œä¸”æˆ‘ä»¬çš„ä¸šåŠ¡æ¥å£å®ç°ç±»è¿˜å¾—é€šè¿‡__@Service__æ³¨è§£æ”¾å…¥Springå®¹å™¨ä¸­ï¼š</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bjpowernode.springboot.service.impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.bjpowernode.springboot.mapper.StudentMapper;</span><br><span class="line"><span class="keyword">import</span> com.bjpowernode.springboot.model.Student;</span><br><span class="line"><span class="keyword">import</span> com.bjpowernode.springboot.service.StudentService;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StudentServiceImpl</span> <span class="keyword">implements</span> <span class="title class_">StudentService</span> &#123;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ªä¸šåŠ¡å±‚ï¼Œéœ€è¦è°ƒç”¨æ•°æ®æŒä¹…å±‚ï¼Œå°±é€šè¿‡@Autowiredè¿™ä¸ªæ³¨è§£æ³¨å…¥è¿›æ¥,è¿™é‡Œæˆ‘ä»¬å°±å°†StudentMapperæ³¨å…¥è¿›æ¥</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">@Autowired</span></span><br><span class="line"><span class="keyword">private</span> StudentMapper studentMapper;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>é‚£æˆ‘ä»¬æ³¨å…¥çš„studentMapperå°±è¦ç»™æˆ‘ä»¬æä¾›ä¸€ä¸ªæ–¹æ³•ï¼Œé‚£å°±æ˜¯é€šè¿‡ä¹‹å‰Mybatisé€†å‘ç”Ÿæˆçš„selectByPrimaryKey()æ–¹æ³•ã€‚</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Student <span class="title function_">queryStudentById</span><span class="params">(Integer id)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> studentMapper.selectByPrimaryKey(id);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åˆ°è¿™é‡Œè¿˜ä¸å¤Ÿï¼Œæˆ‘ä»¬è¿˜å¿…é¡»æ·»åŠ ä¸€ä¸ªæ‰«æå™¨ï¼Œæ¥æ‰«æDAOæ¥å£åˆ°Springå®¹å™¨ï¼Œæˆ‘ä»¬æ‰èƒ½åœ¨<strong>ä¸šåŠ¡æ¥å£å®ç°ç±»</strong>ä¸­å®ç°studentMapperçš„æ³¨å…¥ï¼š</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bjpowernode.springboot.mapper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.bjpowernode.springboot.model.Student;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.annotations.Mapper;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Mapper</span> <span class="comment">//æ‰«æDAOæ¥å£åˆ°springå®¹å™¨</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">StudentMapper</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="title function_">deleteByPrimaryKey</span><span class="params">(Integer id)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> <span class="title function_">insert</span><span class="params">(Student record)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> <span class="title function_">insertSelective</span><span class="params">(Student record)</span>;</span><br><span class="line"></span><br><span class="line">    Student <span class="title function_">selectByPrimaryKey</span><span class="params">(Integer id)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> <span class="title function_">updateByPrimaryKeySelective</span><span class="params">(Student record)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> <span class="title function_">updateByPrimaryKey</span><span class="params">(Student record)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½†æ˜¯ç°åœ¨è¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œé‚£å°±æ˜¯xmlæ–‡ä»¶åœ¨srcé‡Œé¢æ˜¯ä¸èƒ½è¢«é¡¹ç›®ç¼–è¯‘æ‰§è¡Œçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¿…é¡»åœ¨pom.xmlä¸­çš„<build>æ·»åŠ resourcesé¡¹æ¥è®©é¡¹ç›®ç¼–è¯‘xmlæ–‡ä»¶ï¼š</p><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--æ‰‹åŠ¨æŒ‡å®šæ–‡ä»¶å¤¹ä¸ºresources--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/java<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">includes</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.xml<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">includes</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è¿™æ ·å½“æˆ‘ä»¬åœ¨æµè§ˆå™¨è¾“å…¥<a target="_blank" rel="noopener" href="http://localhost:8080/student?id=1%E6%97%B6%EF%BC%8C%E6%88%91%E4%BB%AC%E5%B0%B1%E8%83%BD%E8%8E%B7%E5%BE%97id=1%E7%9A%84%E5%AD%A6%E7%94%9F%E4%BF%A1%E6%81%AF%E4%BA%86%E3%80%82">http://localhost:8080/student?id=1æ—¶ï¼Œæˆ‘ä»¬å°±èƒ½è·å¾—id=1çš„å­¦ç”Ÿä¿¡æ¯äº†ã€‚</a></p><p>æ•°æ®åº“ä¸­çš„è¡¨çš„ä¿¡æ¯å¦‚ä¸‹ï¼š<br>id,name,age<br>1,zhangsan,25<br>2,lisi,28<br>3,wangwu,23<br>4,Tom,21<br>5,Jck,55<br>6,Lucy,27<br>7,zhaoliu,75</p><p>æµè§ˆå™¨è¿”å›{â€œidâ€:1,â€nameâ€:â€zhangsanâ€,â€ageâ€:25}</p><p>è¯´æ˜æˆ‘ä»¬é…ç½®æˆåŠŸï¼</p><h2 id="0x02-Mybatisæ‰«æå¤šä¸ªMapperæ¥å£åŠå­ç›®å½•"><a href="#0x02-Mybatisæ‰«æå¤šä¸ªMapperæ¥å£åŠå­ç›®å½•" class="headerlink" title="0x02 Mybatisæ‰«æå¤šä¸ªMapperæ¥å£åŠå­ç›®å½•"></a>0x02 Mybatisæ‰«æå¤šä¸ªMapperæ¥å£åŠå­ç›®å½•</h2><p>åœ¨ä¸Šé¢æˆ‘ä»¬è¯´åˆ°äº†æ‰«æå™¨**@Mapper<strong>ï¼Œä½†æ˜¯å¦‚æœæˆ‘ä»¬æœ‰å¤šä¸ªMapperæ¥å£ç±»å’Œæ˜ å°„æ–‡ä»¶å‘¢ï¼Ÿè¿™é‡Œæˆ‘ä»¬å°±ä¸å†ä½¿ç”¨</strong>@Mapper**è¿™ä¸ªå•ä¸€æ‰«æå™¨äº†ã€‚</p><p>æˆ‘ä»¬åœ¨Application.javaè¿™ä¸ªå…¥å£ç±»çš„**@SpringBootApplication<strong>æ³¨é‡Šæ—æ·»åŠ ä¸€ä¸ªæ³¨é‡Š:</strong>@MapperScan(â€œâ€)** ï¼Œæ¥å¼€å¯æ‰«æMapperæ¥å£çš„åŒ…ä»¥åŠå­ç›®å½•ï¼š</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bjpowernode.springboot;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.mybatis.spring.annotation.MapperScan;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.SpringApplication;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;</span><br><span class="line"></span><br><span class="line"><span class="meta">@SpringBootApplication</span>  <span class="comment">//å¼€å¯springé…ç½®</span></span><br><span class="line"><span class="meta">@MapperScan(&quot;com.bjpowernode.springboot.mapper&quot;)</span> <span class="comment">//å¼€å¯æ‰«æMapperæ¥å£çš„åŒ…ä»¥åŠå­ç›®å½•</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Application</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        SpringApplication.run(Application.class, args);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è¿™æ ·æˆ‘ä»¬å°±ä¸ç”¨å†é¢å¤–æ·»åŠ **@Mapper<strong>è¿™ä¸ªæ³¨é‡Šäº†ï¼</strong>(â€œâ€)** å†…å†™çš„æ˜¯Mapperæ¥å£çš„åŒ…æ‰€åœ¨è·¯å¾„ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> åç«¯å­¦ä¹  </category>
          
          <category> SpringBoot </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åç«¯ </tag>
            
            <tag> Java </tag>
            
            <tag> Spring </tag>
            
            <tag> SpringBoot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring Boot å­¦ä¹ ç¬”è®° 05</title>
      <link href="/2021/08/08/4b359cf9184b-q1jun/"/>
      <url>/2021/08/08/4b359cf9184b-q1jun/</url>
      
        <content type="html"><![CDATA[<h1 id="Spring-Bootå­¦ä¹ ç¬”è®°-05"><a href="#Spring-Bootå­¦ä¹ ç¬”è®°-05" class="headerlink" title="Spring Bootå­¦ä¹ ç¬”è®° 05"></a>Spring Bootå­¦ä¹ ç¬”è®° 05</h1><h2 id="0x01-Mybatis-æ˜ å°„æ–‡ä»¶è½¬ç§»åˆ°resourcesæ–‡ä»¶å¤¹ä¸‹"><a href="#0x01-Mybatis-æ˜ å°„æ–‡ä»¶è½¬ç§»åˆ°resourcesæ–‡ä»¶å¤¹ä¸‹" class="headerlink" title="0x01 Mybatis æ˜ å°„æ–‡ä»¶è½¬ç§»åˆ°resourcesæ–‡ä»¶å¤¹ä¸‹"></a>0x01 Mybatis æ˜ å°„æ–‡ä»¶è½¬ç§»åˆ°resourcesæ–‡ä»¶å¤¹ä¸‹</h2><p>å…³äºMapperæ˜ å°„æ–‡ä»¶çš„å­˜æ”¾ä½ç½®çš„å†™æ³•æœ‰ä¸¤ç§ï¼š</p><ol><li>å°†mapperæ¥å£å’Œmapperæ˜ å°„æ–‡ä»¶å­˜æ”¾åˆ°src&#x2F;main&#x2F;javaåŒä¸€ç›®å½•ä¸‹ï¼Œè¿˜éœ€è¦åœ¨pom.xmlæ–‡ä»¶ä¸­æ‰‹åŠ¨æŒ‡å®šèµ„æºæ–‡ä»¶å¤¹è·¯å¾„resourcesã€‚</li><li>å°†mapperæ¥å£å’Œæ˜ å°„æ–‡ä»¶å¤¹åˆ†å¼€å­˜æ”¾ï¼Œmapperæ¥å£ç±»å­˜æ”¾åˆ°src&#x2F;main&#x2F;javaç›®å½•ä¸‹ï¼Œmapperæ˜ å°„æ–‡ä»¶å­˜æ”¾åˆ°resourcesï¼ˆç±»è·¯å¾„ï¼‰ï¼Œåœ¨springbootæ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­æŒ‡å®šmapperæ˜ å°„æ–‡ä»¶çš„å­˜æ”¾ä½ç½®ã€‚</li></ol><p>å°†srcä¸‹çš„XMLæ˜ å°„æ–‡ä»¶ç§»åŠ¨åˆ°resourcesæ–‡ä»¶å¤¹Mapperä¸­ï¼Œè¿™æ ·æœ‰åŠ©äºæˆ‘ä»¬ç®¡ç†xmlæ˜ å°„æ–‡ä»¶ã€‚</p><p>ç„¶ååœ¨application.propertiesä¸­æ·»åŠ :</p><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">mybatis.mapper-locations=classpath:mapper/*.xml</span><br></pre></td></tr></table></figure><p>è¿™æ ·æˆ‘ä»¬å°±ä¸ç”¨åƒä¸Šä¸€æ¬¡åœ¨pom.xmlé‡Œçš„<build>ä¸­æ·»åŠ <resources>è¿™ä¸€é¡¹äº†</p><blockquote><p> å› ä¸ºmavenåªç¼–è¯‘srcä¸­çš„<code>.java</code>æ–‡ä»¶</p></blockquote><h2 id="0x02-SpringBooté›†æˆMybatisæœ€ä¸»è¦çš„æ˜¯ä¸¤ä¸ªæ³¨è§£"><a href="#0x02-SpringBooté›†æˆMybatisæœ€ä¸»è¦çš„æ˜¯ä¸¤ä¸ªæ³¨è§£" class="headerlink" title="0x02 SpringBooté›†æˆMybatisæœ€ä¸»è¦çš„æ˜¯ä¸¤ä¸ªæ³¨è§£"></a>0x02 SpringBooté›†æˆMybatisæœ€ä¸»è¦çš„æ˜¯ä¸¤ä¸ªæ³¨è§£</h2><ul><li>@Mapper éœ€è¦åœ¨æ¯ä¸€ä¸ªMapperæ¥å£ç±»ä¸Šæ·»åŠ ï¼Œä½œç”¨æ‰«ædaoæ¥å£</li><li>@MapperScan æ˜¯åœ¨Springbootå¯åŠ¨å…¥å£ç±»ä¸Šæ·»åŠ çš„ï¼Œå®ƒæ˜¯ä¸€æ¬¡æ‰«ææ‰€æœ‰çš„åŒ…</li></ul><h2 id="0x03-SpringBootä¸‹ä½¿ç”¨äº‹åŠ¡"><a href="#0x03-SpringBootä¸‹ä½¿ç”¨äº‹åŠ¡" class="headerlink" title="0x03 SpringBootä¸‹ä½¿ç”¨äº‹åŠ¡"></a>0x03 SpringBootä¸‹ä½¿ç”¨äº‹åŠ¡</h2><p>äº‹åŠ¡æ˜¯ä¸€ä¸ªå®Œæ•´çš„åŠŸèƒ½ï¼Œä¹Ÿå«åšæ˜¯ä¸€ä¸ªå®Œæ•´çš„ä¸šåŠ¡ã€‚</p><p>äº‹åŠ¡åªè·Ÿä»€ä¹ˆSQLè¯­å¥æœ‰å…³ç³»ï¼Ÿ<br>äº‹åŠ¡åªè·ŸDMLè¯­å¥æœ‰å…³ç³»ï¼šå¢åˆ æ”¹</p><p>SQLè¯­å¥ï¼šDML,DQL,DDL,TCL,DCL</p><p>ä½¿ç”¨äº‹åŠ¡åŠŸèƒ½çš„æ—¶å€™åªéœ€è¦åœ¨javaä»£ç æ·»åŠ æ³¨è§£ï¼š</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Transactional</span></span><br></pre></td></tr></table></figure><p>è¿™æ ·æ‰§è¡Œè¯¥æ–¹æ³•çš„æ—¶å€™ä¼šçœ‹æˆäº‹åŠ¡æ¥è¿ä½œã€‚</p><p>å½“äº‹åŠ¡å…¶ä¸­ä¸€éƒ¨åˆ†å¤±æ•ˆæ—¶ä¼šå›é€€åˆ°å¼€å§‹é˜¶æ®µã€‚</p><p>åœ¨å…¥å£ç±»Application.javaä¸­å¯ä»¥æ·»åŠ :</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@EnableTransactionManagement</span></span><br></pre></td></tr></table></figure><p>è¿™ä¸ªæ³¨è§£æ¥å¼€å¯äº‹åŠ¡åŠŸèƒ½ã€‚</p><h2 id="0x04-SpringBootæ³¨è§£-RestController"><a href="#0x04-SpringBootæ³¨è§£-RestController" class="headerlink" title="0x04 SpringBootæ³¨è§£@RestController"></a>0x04 SpringBootæ³¨è§£@RestController</h2><p>@RestCOntrollerç›¸å½“äºæ§åˆ¶å±‚ç±»ä¸ŠåŠ <code>@Controller</code> + æ–¹æ³•ä¸ŠåŠ <code>@ResponseBody</code></p><p>æ„å‘³ç€å½“å‰æ§åˆ¶å±‚ç±»ä¸­æ‰€æœ‰æ–¹æ³•è¿”è¿˜çš„éƒ½æ˜¯JSONå¯¹è±¡ã€‚</p><p>å¦‚ä»¥ä¸‹xxxController.javaä»£ç ï¼š</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.springboot.springboot002.web;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.ResponseBody;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">IndexController</span> &#123;</span><br><span class="line">    <span class="meta">@RequestMapping(value = &quot;/springboot/say&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="meta">@ResponseBody</span> String <span class="title function_">say</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Hello ,Springboot!&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ç­‰åŒäº:(ä¸éœ€è¦@ResponseBody)</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.springboot.springboot002.web;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.ResponseBody;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">IndexController</span> &#123;</span><br><span class="line">    <span class="meta">@RequestMapping(value = &quot;/springboot/say&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">say</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Hello ,Springboot!&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> åç«¯å­¦ä¹  </category>
          
          <category> SpringBoot </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åç«¯ </tag>
            
            <tag> Java </tag>
            
            <tag> Spring </tag>
            
            <tag> SpringBoot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring Boot å­¦ä¹ ç¬”è®° 04</title>
      <link href="/2021/08/06/9f999f2edeca-q1jun/"/>
      <url>/2021/08/06/9f999f2edeca-q1jun/</url>
      
        <content type="html"><![CDATA[<h1 id="Spring-Bootå­¦ä¹ ç¬”è®°-04"><a href="#Spring-Bootå­¦ä¹ ç¬”è®°-04" class="headerlink" title="Spring Bootå­¦ä¹ ç¬”è®° 04"></a>Spring Bootå­¦ä¹ ç¬”è®° 04</h1><h2 id="xxxMapper-xmlå†…å®¹åˆ†æ"><a href="#xxxMapper-xmlå†…å®¹åˆ†æ" class="headerlink" title="xxxMapper.xmlå†…å®¹åˆ†æ"></a>xxxMapper.xmlå†…å®¹åˆ†æ</h2><blockquote><p>Mybatisé€†å‘ç”Ÿæˆçš„æ–‡ä»¶åªæœ‰å•è¡¨æ“ä½œã€‚</p></blockquote><p>æ–‡ä»¶å¤´(UTF-8)ç¼–ç :</p><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br></pre></td></tr></table></figure><p>ç”Ÿæˆçš„xxxMapper.xmlå†…å®¹ï¼š</p><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">mapper</span> <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span> <span class="string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;com.springboot.springboot012mybatis.mapper.StudentMapper&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><p>resultMapä½œç”¨ï¼š</p><ol><li>å½“æ•°æ®åº“ä¸­å­—æ®µåç§°ä¸å®ä½“ç±»å¯¹è±¡çš„å±æ€§åä¸ä¸€æ ·æ—¶ï¼Œå¯ä»¥è¿›è¡Œè½¬æ¢</li><li>å½“æŸ¥è¯¢çš„ç»“æœæ²¡æœ‰å¯¹åº”ä¸€ä¸ªè¡¨çš„æ—¶å€™ï¼Œå¯ä»¥è‡ªå®šä¹‰ä¸€ä¸ªç»“æœé›†</li></ol><p>å…¶ä¸­ï¼š</p><ul><li>id æ ‡ç­¾åªèƒ½ä¿®æ”¹ä¸»é”®å­—æ®µ</li><li>result é™¤äº†ä¸»é”®ä»¥å¤–çš„å­—æ®µ</li><li>column æ•°æ®åº“ä¸­çš„å­—æ®µåç§°</li><li>property æ˜ å°„å¯¹è±¡çš„å±æ€§åç§°</li><li>jdbcType åˆ—ä¸­æ•°æ®åº“ä¸­å­—æ®µçš„ç±»å‹ï¼ˆå¯ä»¥å¿½ç•¥ä¸å†™ï¼‰</li></ul><blockquote><p>å¦‚æœæ•°æ®åº“ä¸­å­—æ®µåç§°ç”±å¤šä¸ªå•è¯æ„æˆï¼Œé€šè¿‡Mybatisé€†å‘å·¥ç¨‹ç”Ÿæˆçš„å¯¹è±¡å±æ€§åç§°<br>ä¼šæŒ‰ç…§é©¼å³°å‘½åæ³•è§„åˆ™ç”Ÿæˆå±æ€§åç§°ã€‚<br>å…¶ä¸­ï¼šæ•°æ®åº“ä¸­å­—æ®µåç§°ç”±å¤šä¸ªå•è¯æ„æˆæ—¶å€™å¿…é¡»ä½¿ç”¨ä¸‹åˆ’çº¿_åˆ†éš”</p></blockquote><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">&quot;BaseResultMap&quot;</span> <span class="attr">type</span>=<span class="string">&quot;com.springboot.springboot012mybatis.model.Student&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">id</span> <span class="attr">column</span>=<span class="string">&quot;id&quot;</span> <span class="attr">jdbcType</span>=<span class="string">&quot;INTEGER&quot;</span> <span class="attr">property</span>=<span class="string">&quot;id&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">id</span> <span class="attr">column</span>=<span class="string">&quot;name&quot;</span> <span class="attr">jdbcType</span>=<span class="string">&quot;VARCHAR&quot;</span> <span class="attr">property</span>=<span class="string">&quot;name&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">id</span> <span class="attr">column</span>=<span class="string">&quot;age&quot;</span> <span class="attr">jdbcType</span>=<span class="string">&quot;INTEGER&quot;</span> <span class="attr">property</span>=<span class="string">&quot;age&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>sqlè¯­å¥ç‰‡æ®µï¼Œå°†å…¬å…±çš„éƒ¨åˆ†æŠ½å–å‡ºæ¥,å¯ä»¥é€šè¿‡includeæ ‡ç­¾å¼•ç”¨çš„sqlè¯­å¥ç‰‡æ®µ:</p><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">sql</span> <span class="attr">id</span>=<span class="string">&quot;Base_Column_List&quot;</span>&gt;</span></span><br><span class="line">    id,name,age</span><br><span class="line"><span class="tag">&lt;/<span class="name">sql</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> åç«¯å­¦ä¹  </category>
          
          <category> SpringBoot </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åç«¯ </tag>
            
            <tag> Java </tag>
            
            <tag> Spring </tag>
            
            <tag> SpringBoot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring Boot å­¦ä¹ ç¬”è®° 03</title>
      <link href="/2021/08/04/54715f549ae4-q1jun/"/>
      <url>/2021/08/04/54715f549ae4-q1jun/</url>
      
        <content type="html"><![CDATA[<h1 id="Spring-Bootå­¦ä¹ ç¬”è®°-03"><a href="#Spring-Bootå­¦ä¹ ç¬”è®°-03" class="headerlink" title="Spring Bootå­¦ä¹ ç¬”è®° 03"></a>Spring Bootå­¦ä¹ ç¬”è®° 03</h1><p>â€‹        </p><h2 id="0x01-SpringBooté›†æˆJSP"><a href="#0x01-SpringBooté›†æˆJSP" class="headerlink" title="0x01 SpringBooté›†æˆJSP"></a>0x01 SpringBooté›†æˆJSP</h2><p>æ‰“å¼€IDEAåˆ›å»ºSpringBooté¡¹ç›®åï¼Œåœ¨srcæ–‡ä»¶å¤¹çš„mainä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„æ–‡ä»¶å¤¹webappæ¥å­˜æ”¾webèµ„æºï¼ˆå‡å¦‚åŸæ¥æ²¡æœ‰webappæ–‡ä»¶å¤¹ï¼‰ã€‚</p><p>åˆ›å»ºå¥½åœ¨æ¨¡å—è®¾ç½®ä¸­çš„æ¨¡å—-&gt;Web-&gt;Webèµ„æºç›®å½•æ·»åŠ ä¸Šé¢åˆ›å»ºçš„webappç›®å½•ï¼Œç›¸å¯¹ä¸éƒ¨ç½²æ ¹çš„è·¯å¾„ä¸º<code>/</code>,ç„¶åç‚¹å‡»åˆ›å»ºå·¥ä»¶ï¼Œæœ€åç‚¹å‡»åº”ç”¨ï¼Œå°±å®Œæˆäº†webappçš„è®¾ç½®ï¼Œå¾…ä¼šåœ¨é‡Œé¢åˆ›å»ºjspæ–‡ä»¶å°±è¡Œäº†ã€‚</p><p>ç”±äºé¡¹ç›®æœ¬èº«å¯¹jspçš„è§£æå¹¶ä¸æ”¯æŒï¼Œæ‰€ä»¥åœ¨pom.xmlæ–‡ä»¶é‡Œé¢è¦æ·»åŠ å¯¹jspè§£æçš„åŒ…çš„ä¾èµ–ï¼š</p><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--        å¼•å…¥SpringBootå†…åµŒTomcatå¯¹jspçš„è§£æåŒ…,ä¸æ·»åŠ è§£æä¸äº†jsp--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        ä»…ä»…åªæ˜¯å±•ç¤ºjspé¡µé¢ï¼Œåªæ·»åŠ ä»¥ä¸‹ä¸€ä¸ªä¾èµ–--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.tomcat.embed<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>tomcat-embed-jasper<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ç„¶åä¸ºäº†ä½¿jspæ­£å¸¸ç¼–è¯‘ï¼Œè¿˜è¦åœ¨pom.xmlçš„__<build>__ä¸­æ·»åŠ :</p><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--                æºæ–‡ä»¶å¤¹--&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/webapp<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--                æŒ‡å®šç¼–è¯‘åˆ°META-INF/resources--&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">targetPath</span>&gt;</span>META-INF/resources<span class="tag">&lt;/<span class="name">targetPath</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--                æŒ‡å®šæºæ–‡ä»¶å¤¹ä¸­çš„å“ªäº›èµ„æºè¦ç¼–è¯‘è¿›å»--&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">includes</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--                    æ‰€æœ‰ä¸œè¥¿ï¼š *.*--&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">include</span>&gt;</span>*.*<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">includes</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br></pre></td></tr></table></figure><p>åœ¨æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­æ·»åŠ è§†å›¾è§£æå™¨:</p><figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="comment">#é…ç½®è§†å›¾è§£æå™¨</span></span><br><span class="line"><span class="attr">spring.mvc.view.prefix</span>=<span class="string">/</span></span><br><span class="line"><span class="attr">spring.mvc.view.suffix</span>=<span class="string">.jsp</span></span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥æˆ‘ä»¬å°±è¦è®¾ç½®@Controlleräº†ï¼Œåœ¨Application.javaæ–‡ä»¶çš„åŒçº§ç›®å½•æˆ–ä¸‹çº§ç›®å½•åˆ›å»ºä¸€ä¸ªController&#x2F;IndexController.javaï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.springboot.springboot010jsp.web;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.ui.Model;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.ModelAndView;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">IndexController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(value = &quot;/say&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> ModelAndView <span class="title function_">say</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">ModelAndView</span> <span class="variable">mv</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ModelAndView</span>();</span><br><span class="line">        mv.addObject(<span class="string">&quot;message&quot;</span>, <span class="string">&quot;Hello Springboot!&quot;</span>);</span><br><span class="line">        mv.setViewName(<span class="string">&quot;say&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> mv;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(value = &quot;/index&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">index</span><span class="params">(Model model)</span> &#123;</span><br><span class="line">        model.addAttribute(<span class="string">&quot;message&quot;</span>, <span class="string">&quot;Hello world&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;say&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¶ååœ¨webappä¸Šåˆ›å»ºå¯¹åº”çš„say.jsp:</p><figure class="highlight jsp"><table><tr><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;h1&gt;$&#123;message&#125;&lt;/h1&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>æ¬¡jspç”¨æ¥æ˜¾ç¤º<code>$&#123;message&#125;</code>ç»“æœ:</p><p>æµè§ˆå™¨è¾“å…¥localhost:8080&#x2F;sayï¼Œè¾“å‡ºç»“æœä¸ºï¼š<strong>Hello Springboot!</strong></p><p>æµè§ˆå™¨è¾“å…¥localhost:8080&#x2F;indexï¼Œè¾“å‡ºç»“æœä¸ºï¼š<strong>Hello world</strong></p><p>åˆ†åˆ«å¯¹åº”@Controlleré‡Œé¢ä¸¤ä¸ªAttributeã€‚</p><blockquote><p> ä»¥ä¸Šæ­¥éª¤ç¼ºä¸€ä¸å¯ï¼</p></blockquote><h2 id="0x02-å¦‚ä½•åœ¨ä¸€ä¸ªå•çº¯çš„Mavenæ¡†æ¶ä¸Šæ‰‹åŠ¨é…ç½®SpringBoot"><a href="#0x02-å¦‚ä½•åœ¨ä¸€ä¸ªå•çº¯çš„Mavenæ¡†æ¶ä¸Šæ‰‹åŠ¨é…ç½®SpringBoot" class="headerlink" title="0x02 å¦‚ä½•åœ¨ä¸€ä¸ªå•çº¯çš„Mavenæ¡†æ¶ä¸Šæ‰‹åŠ¨é…ç½®SpringBoot"></a>0x02 å¦‚ä½•åœ¨ä¸€ä¸ªå•çº¯çš„Mavenæ¡†æ¶ä¸Šæ‰‹åŠ¨é…ç½®SpringBoot</h2><p>å‰é¢æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªSpringBooté¡¹ç›®éƒ½æ˜¯ç”¨ideaè‡ªå¸¦çš„Springbootæ¡†æ¶æ¥åˆ›å»ºï¼Œé‚£æˆ‘ä»¬å¦‚ä½•åœ¨ä¸€ä¸ªåªæœ‰pom.xmlå’ŒMevenæ–‡ä»¶ç»“æ„çš„é¡¹ç›®é‡Œé¢è‡ªå·±æ‰‹åŠ¨åˆ›å»ºä¸€ä¸ªSPringbooté¡¹ç›®å‘¢ï¼Œè¿™ä¸ªæ–¹æ³•é€‚ç”¨äºä¸€å¼€å§‹åˆ›å»ºSpringBooté¡¹ç›®æ—¶ç½‘ä¸å¥½çš„æƒ…å†µã€‚</p><p>é¦–å…ˆæˆ‘ä»¬åœ¨Pom.xmlæ–‡ä»¶é‡Œé¢æ·»åŠ å¯¹åº”çš„SpringBootä¾èµ–ï¼š</p><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"> <span class="comment">&lt;!--SpringBootçˆ¶å·¥ç¨‹GAVåæ ‡--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.5.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">relativePath</span>/&gt;</span> <span class="comment">&lt;!-- lookup parent from repository --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">java.version</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">java.version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--        SpringBootæ¡†æ¶Webé¡¹ç›®èµ·æ­¥ä¾èµ–--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--        SpringBootæ¡†æ¶æµ‹è¯•èµ·æ­¥ä¾èµ–--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--            SpringBooté¡¹ç›®æ‰“åŒ…ç¼–è¯‘çš„æ’ä»¶--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p> è¿™é‡Œåªç»™å‡ºéœ€è¦æ·»åŠ çš„éƒ¨åˆ†ï¼Œå¹¶ä¸æ˜¯è¦†ç›–çš„æ„æ€ã€‚</p></blockquote><p>ç„¶åæ–‡ä»¶ç»“æ„ä¹Ÿéœ€è¦æ”¹å˜ï¼š</p><p>åœ¨src&#x2F;main&#x2F;javaä¸­åˆ›å»ºåŒ…<code>com.auspic1ous.springboot</code></p><p>åœ¨å…¶ä¸­åˆ›å»ºä¸€ä¸ªApplication.java(åå­—éšæ„):</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.auspic1ous.springboot;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.SpringApplication;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;</span><br><span class="line"><span class="comment">//Springbooté¡¹ç›®å¯åŠ¨å…¥å£ç±»</span></span><br><span class="line"><span class="meta">@SpringBootApplication</span><span class="comment">//SpringBootæ ¸å¿ƒæ³¨è§£ï¼Œä¸»è¦ç”¨äºå¼€å¯springè‡ªåŠ¨é…ç½®</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Application</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        SpringApplication.run(Application.class, args);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æœ€åè¿˜è¦åœ¨src&#x2F;main&#x2F;resourcesä¸­åˆ›å»ºå¦‚ä¸‹æ–‡ä»¶ã€æ–‡ä»¶å¤¹ï¼š</p><ul><li>static(æ–‡ä»¶å¤¹)ï¼šå›¾æ ‡ç­‰é™æ€èµ„æºæ”¾å…¥æ­¤æ–‡ä»¶å¤¹</li><li>templates(æ–‡ä»¶å¤¹)ï¼šæ¨¡æ¿ï¼Œå‰ç«¯æ¨¡æ¿å¼•æ“æ”¾å…¥æ­¤æ–‡ä»¶å¤¹Thyme leaf.htmlï¼ˆç™¾å¶ç®±ï¼‰</li><li>application.propertiesï¼šSpringBootçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶</li></ul><h2 id="0x03-SpringBootç»§æ‰¿Mybatis"><a href="#0x03-SpringBootç»§æ‰¿Mybatis" class="headerlink" title="0x03 SpringBootç»§æ‰¿Mybatis"></a>0x03 SpringBootç»§æ‰¿Mybatis</h2><h3 id="0x0301-æ·»åŠ Mybatisä¾èµ–å’Œæ•°æ®åº“é©±åŠ¨-mysql"><a href="#0x0301-æ·»åŠ Mybatisä¾èµ–å’Œæ•°æ®åº“é©±åŠ¨-mysql" class="headerlink" title="0x0301 æ·»åŠ Mybatisä¾èµ–å’Œæ•°æ®åº“é©±åŠ¨(mysql)"></a>0x0301 æ·»åŠ <code>Mybatisä¾èµ–</code>å’Œ<code>æ•°æ®åº“é©±åŠ¨(mysql)</code></h3><p>Pom.xmlä¸­æ·»åŠ ä¾èµ–ï¼š</p><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--        Mysqlé©±åŠ¨--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        Mybatisæ•´åˆSpringBootæ¡†æ¶çš„èµ·æ­¥ä¾èµ–--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis.spring.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.2.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="0x0302-ä½¿ç”¨Mybatisæä¾›çš„é€†å‘å·¥ç¨‹ç”Ÿæˆå®ä½“Beanï¼Œæ˜ å°„æ–‡ä»¶ï¼ŒBAOæ¥å£ã€‚"><a href="#0x0302-ä½¿ç”¨Mybatisæä¾›çš„é€†å‘å·¥ç¨‹ç”Ÿæˆå®ä½“Beanï¼Œæ˜ å°„æ–‡ä»¶ï¼ŒBAOæ¥å£ã€‚" class="headerlink" title="0x0302 ä½¿ç”¨Mybatisæä¾›çš„é€†å‘å·¥ç¨‹ç”Ÿæˆå®ä½“Beanï¼Œæ˜ å°„æ–‡ä»¶ï¼ŒBAOæ¥å£ã€‚"></a>0x0302 ä½¿ç”¨Mybatisæä¾›çš„é€†å‘å·¥ç¨‹ç”Ÿæˆå®ä½“Beanï¼Œæ˜ å°„æ–‡ä»¶ï¼ŒBAOæ¥å£ã€‚</h3><p>pom.xmlæ·»åŠ ä¾èµ–å’Œæ’ä»¶ï¼š</p><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        Mybatisæ•´åˆSpringBootæ¡†æ¶çš„èµ·æ­¥ä¾èµ–--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.7<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis.spring.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.2.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis.generator<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-generator-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.3.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis.generator<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-generator-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.3.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--                Mybatis ä»£ç è‡ªåŠ¨ç”Ÿæˆæ’ä»¶--&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis.generator<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-generator-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.3.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line"> <span class="comment">&lt;!--                    é…ç½®æ–‡ä»¶çš„ä½ç½®--&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">configurationFile</span>&gt;</span>GeneratorMapper.xml<span class="tag">&lt;/<span class="name">configurationFile</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">verbose</span>&gt;</span>true<span class="tag">&lt;/<span class="name">verbose</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">overwrite</span>&gt;</span>true<span class="tag">&lt;/<span class="name">overwrite</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ ¹ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªxmlæ–‡ä»¶ï¼Œæ–‡ä»¶åä¸ºï¼š<code>GeneratorMapper</code>:</p><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">generatorConfiguration</span></span></span><br><span class="line"><span class="meta">        <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="string">&quot;http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">generatorConfiguration</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--    æŒ‡å®šè¿æ¥æ•°æ®åº“çš„JDBCé©±åŠ¨åŒ…æ‰€åœ¨ä½ç½®,æŒ‡å®šåˆ°ä½ æœ¬æœºçš„å®Œæ•´è·¯å¾„--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">classPathEntry</span> <span class="attr">location</span>=<span class="string">&quot;&quot;</span>/&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--    é…ç½®tableè¡¨ä¿¡æ¯å†…å®¹ä½“ï¼ŒtargetRuntime æŒ‡å®šé‡‡ç”¨Mybatis3çš„ç‰ˆæœ¬--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context</span> <span class="attr">id</span>=<span class="string">&quot;tables&quot;</span> <span class="attr">targetRuntime</span>=<span class="string">&quot;Mybatis3&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--        æŠ‘åˆ¶ç”Ÿæˆæ³¨é‡Šï¼Œç”±äºç”Ÿæˆçš„æ³¨é‡Šéƒ½æ˜¯è‹±æ–‡çš„ï¼Œå¯ä»¥ä¸è®©å®ƒç”Ÿæˆ--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">commentGenerator</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;suppressAllComments&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">commentGenerator</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--        é…ç½®æ•°æ®åº“è¿æ¥ä¿¡æ¯--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">jdbcConnection</span> <span class="attr">driverClass</span>=<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">connectionURL</span>=<span class="string">&quot;jdbc:mysql://localhost:3306/springboot&quot;</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">userId</span>=<span class="string">&quot;root&quot;</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">password</span>=<span class="string">&quot;admin123456&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">jdbcConnection</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--        ç”Ÿæˆmodelç±»ï¼ŒtargetPackageæŒ‡å®šmodelç±»çš„åŒ…å ï¼ŒtargetProjectæŒ‡å®šç”Ÿæˆçš„modelæ”¾åœ¨eclipseçš„å“ªä¸ªå·¥ç¨‹ä¸‹é¢--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">javaModelGenerator</span> <span class="attr">targetPackage</span>=<span class="string">&quot;com.auspic1ous.springboot.model&quot;</span></span></span><br><span class="line"><span class="tag">                            <span class="attr">targetProject</span>=<span class="string">&quot;src/main/java&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;enableSubPackages&quot;</span> <span class="attr">value</span>=<span class="string">&quot;false&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;trimStrings&quot;</span> <span class="attr">value</span>=<span class="string">&quot;false&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">javaModelGenerator</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--        ç”Ÿæˆ Mybatis çš„ Mapper.xmlæ–‡ä»¶ï¼ŒtargetPackageæŒ‡å®šmapper.xml æ–‡ä»¶çš„åŒ…åï¼Œ</span></span><br><span class="line"><span class="comment">        targetProjectæŒ‡å®šç”Ÿæˆçš„mapper.xmlæ”¾åœ¨eclipseçš„å“ªä¸ªå·¥ç¨‹ä¸‹é¢--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">sqlMapGenerator</span> <span class="attr">targetPackage</span>=<span class="string">&quot;com.auspic1ous.springboot.mapper&quot;</span></span></span><br><span class="line"><span class="tag">                         <span class="attr">targetProject</span>=<span class="string">&quot;src/main/java&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;enableSubPackages&quot;</span> <span class="attr">value</span>=<span class="string">&quot;false&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">sqlMapGenerator</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--        ç”ŸæˆMybatis çš„Mapperæ¥å£ç±»æ–‡ä»¶, targetPackage æŒ‡å®š Mapper æ¥å£ç±»çš„åŒ…å</span></span><br><span class="line"><span class="comment">        ,targetProject æŒ‡å®šç”Ÿæˆçš„Mapperæ¥å£æ”¾åœ¨eclipseçš„å“ªä¸ªå·¥ç¨‹ä¸‹é¢--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">javaClientGenerator</span> <span class="attr">type</span>=<span class="string">&quot;XMLMAPPER&quot;</span></span></span><br><span class="line"><span class="tag">                             <span class="attr">targetPackage</span>=<span class="string">&quot;com.auspic1ous.springboot.mapper&quot;</span></span></span><br><span class="line"><span class="tag">                             <span class="attr">targetProject</span>=<span class="string">&quot;src/main/java&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;enableSubPackages&quot;</span> <span class="attr">value</span>=<span class="string">&quot;false&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">javaClientGenerator</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--        æ•°æ®åº“è¡¨åä»¥åŠå¯¹åº”çš„Javaæ¨¡å‹ç±»å--&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--        tableNameæ•°æ®åº“è¡¨çš„åç§°ï¼ŒdomainObjectNameä¸ºjavaå®ä½“ç±»çš„åå­—--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">table</span> <span class="attr">tableName</span>=<span class="string">&quot;t_student&quot;</span> <span class="attr">domainObjectName</span>=<span class="string">&quot;Student&quot;</span></span></span><br><span class="line"><span class="tag">               <span class="attr">enableCountByExample</span>=<span class="string">&quot;false&quot;</span></span></span><br><span class="line"><span class="tag">               <span class="attr">enableUpdateByExample</span>=<span class="string">&quot;false&quot;</span></span></span><br><span class="line"><span class="tag">               <span class="attr">enableDeleteByExample</span>=<span class="string">&quot;false&quot;</span></span></span><br><span class="line"><span class="tag">               <span class="attr">enableSelectByExample</span>=<span class="string">&quot;false&quot;</span></span></span><br><span class="line"><span class="tag">               <span class="attr">selectByExampleQueryId</span>=<span class="string">&quot;false&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">context</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">generatorConfiguration</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ç„¶ååœ¨com.auspic1ous.springbootä¸‹åˆ›å»ºmapperå’Œmodelä¸¤ä¸ªåŒ…ã€‚</p><p>å½“æˆ‘ä»¬é‡æ–°æ„å»ºè¯¥é¡¹ç›®åï¼Œmapperä¸­å°±ä¼šæ ¹æ®æ•°æ®åº“è‡ªåŠ¨ç”Ÿæˆå¯¹åº”çš„æ¥å£ç±»å’Œæ˜ å°„æ–‡ä»¶xmlï¼Œmodelä¸­å°±ä¼šæ ¹æ®æ•°æ®åº“è‡ªåŠ¨ç”Ÿæˆå¯¹åº”çš„javaæ¨¡å‹ï¼Œè¿™æ ·å°±èŠ‚çœäº† æˆ‘ä»¬æ‰‹åŠ¨ç¼–å†™mapperå’Œmodelä¸¤ä¸ªæ–‡ä»¶å¤¹é‡Œé¢çš„å†…å®¹ï¼Œéå¸¸å¥½ç”¨~</p>]]></content>
      
      
      <categories>
          
          <category> åç«¯å­¦ä¹  </category>
          
          <category> SpringBoot </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åç«¯ </tag>
            
            <tag> Java </tag>
            
            <tag> Spring </tag>
            
            <tag> SpringBoot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring Boot å­¦ä¹ ç¬”è®° 02</title>
      <link href="/2021/08/03/5fffb9c70d6b-q1jun/"/>
      <url>/2021/08/03/5fffb9c70d6b-q1jun/</url>
      
        <content type="html"><![CDATA[<h1 id="Spring-Bootå­¦ä¹ ç¬”è®°-02"><a href="#Spring-Bootå­¦ä¹ ç¬”è®°-02" class="headerlink" title="Spring Bootå­¦ä¹ ç¬”è®° 02"></a>Spring Bootå­¦ä¹ ç¬”è®° 02</h1><p>â€‹        </p><h2 id="0x01-å¤šç¯å¢ƒä¸‹æ ¸å¿ƒé…ç½®æ–‡ä»¶çš„ä½¿ç”¨-properties"><a href="#0x01-å¤šç¯å¢ƒä¸‹æ ¸å¿ƒé…ç½®æ–‡ä»¶çš„ä½¿ç”¨-properties" class="headerlink" title="0x01 å¤šç¯å¢ƒä¸‹æ ¸å¿ƒé…ç½®æ–‡ä»¶çš„ä½¿ç”¨(properties)"></a>0x01 å¤šç¯å¢ƒä¸‹æ ¸å¿ƒé…ç½®æ–‡ä»¶çš„ä½¿ç”¨(properties)</h2><blockquote><p>éœ€è¦æ³¨æ„.propertiesä¸­çš„å±æ€§å€¼ä¸è¦å‡ºç°ç©ºæ ¼ï¼Œä¼šè¢«è¯†åˆ«å‡ºç°é—®é¢˜ï¼</p></blockquote><p>åœ¨å·¥ä½œä¸­çš„å¼€å‘ç¯å¢ƒæœ‰</p><ul><li>å¼€å‘ç¯å¢ƒ(dev)</li><li>æµ‹è¯•ç¯å¢ƒ(test)</li><li>å‡†ç”Ÿäº§ç¯å¢ƒ(pre)</li><li>ç”Ÿäº§ç¯å¢ƒ(product)</li></ul><p>è€æ ·å­ï¼Œæˆ‘ä»¬åœ¨åˆ›å»ºå·çš„SpringBootç¯å¢ƒä¸‹ï¼Œåœ¨Application.javaæ–‡ä»¶çš„åŒçº§ç›®å½•æˆ–ä¸‹çº§ç›®å½•åˆ›å»ºä¸€ä¸ªController&#x2F;IndexController.javaï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.springboot.springboot006multienvironment.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.ResponseBody;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">IndexController</span> &#123;</span><br><span class="line">    <span class="meta">@RequestMapping(value = &quot;/say&quot;)</span></span><br><span class="line">    <span class="meta">@ResponseBody</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">say</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Hello Multi-Environment!&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸‹é¢æˆ‘ä»¬åˆ†åˆ«å¯¹åº”ä¸Šé¢å››ä¸ªå¼€å‘ç¯å¢ƒåˆ›å»ºå¯¹åº”çš„æ ¸å¿ƒé…ç½®æ–‡ä»¶:</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">touch application.properties</span><br><span class="line">touch application-dev.properties</span><br><span class="line">touch application-test.properties</span><br><span class="line">touch application-pre.properties</span><br><span class="line">touch application-product.properties</span><br></pre></td></tr></table></figure><p>æ¯ä¸ªç¯å¢ƒçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶åçš„æ ¼å¼éƒ½æ˜¯ <code>application-XXXX.properties</code> å…¶ä¸­çš„<code>XXXX</code>ç”±è‡ªå·±å‘½åï¼Œå¹¶åœ¨ <strong>ä¸»æ ¸å¿ƒé…ç½®æ–‡ä»¶</strong> ä¸­è°ƒç”¨:</p><p>application.properties:</p><figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="comment">#Springbootä¸»æ ¸å¿ƒé…ç½®æ–‡ä»¶</span></span><br><span class="line"><span class="comment">#æ¿€æ´»ä½¿ç”¨çš„é…ç½®æ–‡ä»¶,XXXXå¯¹åº”æ–‡ä»¶åä¸­çš„XXXX</span></span><br><span class="line"><span class="attr">spring.profiles.active</span>=<span class="string">XXXX</span></span><br></pre></td></tr></table></figure><p>å…¶ä»–æ ¸å¿ƒé…ç½®æ–‡ä»¶åˆ™ä¸åŸæ¥å•æ ¸å¿ƒé…ç½®æ–‡ä»¶ç›¸åŒï¼š</p><p>application-dev.properties:</p><figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="attr">server.port</span>=<span class="string">8080</span></span><br><span class="line"><span class="attr">server.servlet.context-path</span>=<span class="string">/dev</span></span><br></pre></td></tr></table></figure><p>application-test.properties:</p><figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="attr">server.port</span>=<span class="string">8081</span></span><br><span class="line"><span class="attr">server.servlet.context-path</span>=<span class="string">/test</span></span><br></pre></td></tr></table></figure><p>application-pre.properties:</p><figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="attr">server.port</span>=<span class="string">8082</span></span><br><span class="line"><span class="attr">server.servlet.context-path</span>=<span class="string">/pre</span></span><br></pre></td></tr></table></figure><p>application-product.properties:</p><figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="attr">server.port</span>=<span class="string">8083</span></span><br><span class="line"><span class="attr">server.servlet.context-path</span>=<span class="string">/product</span></span><br></pre></td></tr></table></figure><p>è¿™æ ·æˆ‘ä»¬å°±å®Œæˆäº†åœ¨ä¸åŒç¯å¢ƒä¸‹çš„æ ¸å¿ƒé…ç½®æ–‡ä»¶é…ç½®ï¼Œæµè§ˆå™¨URLæ¡†è¾“å…¥æ—¶åŒºåˆ†é»˜è®¤è·¯å¾„å³å¯ã€‚</p><p>æ¯”å¦‚è¾“å…¥<a target="_blank" rel="noopener" href="http://localhost:8081/test/say">http://localhost:8081/test/say</a> å°±ä¼šæ˜¾ç¤ºå‡ºæˆ‘ä»¬åœ¨IndexControllerä¸­åˆ›å»ºçš„å‡½æ•°sayè¿”å›çš„å†…å®¹â€Hello Multi-Environment!â€ã€‚</p><h2 id="0x02-å¤šç¯å¢ƒä¸‹çš„æ ¸å¿ƒé…ç½®æ–‡ä»¶çš„ä½¿ç”¨-yml"><a href="#0x02-å¤šç¯å¢ƒä¸‹çš„æ ¸å¿ƒé…ç½®æ–‡ä»¶çš„ä½¿ç”¨-yml" class="headerlink" title="0x02 å¤šç¯å¢ƒä¸‹çš„æ ¸å¿ƒé…ç½®æ–‡ä»¶çš„ä½¿ç”¨(yml)"></a>0x02 å¤šç¯å¢ƒä¸‹çš„æ ¸å¿ƒé…ç½®æ–‡ä»¶çš„ä½¿ç”¨(yml)</h2><p>yml(æˆ–è€…yaml)ä¸propertiesæ–‡ä»¶çš„é…ç½®æ–¹æ³•å¤§åŒå°å¼‚ï¼Œåªæœ‰æ–‡ä»¶å†…å®¹æ ¼å¼ä¸Šçš„å·®å¼‚ï¼Œå…¶ä»–åŸºæœ¬ä¸€æ ·ã€‚</p><p>æ‰€ä»¥è¿™é‡Œåªç»™å‡ºé…ç½®åçš„æ ¸å¿ƒæ–‡ä»¶çš„å†…å®¹ï¼š</p><p>application.yml:</p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">profiles:</span></span><br><span class="line">    <span class="attr">active:</span> <span class="string">dev</span></span><br></pre></td></tr></table></figure><p>application-dev.yml:</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8080</span></span><br><span class="line">  <span class="attr">servlet:</span></span><br><span class="line">    <span class="attr">context-path:</span> <span class="string">/dev</span></span><br></pre></td></tr></table></figure><p>application-test.yml:</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8081</span></span><br><span class="line">  <span class="attr">servlet:</span></span><br><span class="line">    <span class="attr">context-path:</span> <span class="string">/test</span></span><br></pre></td></tr></table></figure><p>application-product.yml:</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8082</span></span><br><span class="line">  <span class="attr">servlet:</span></span><br><span class="line">    <span class="attr">context-path:</span> <span class="string">/product</span></span><br></pre></td></tr></table></figure><p>application-pre.yml:</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8083</span></span><br><span class="line">  <span class="attr">servlet:</span></span><br><span class="line">    <span class="attr">context-path:</span> <span class="string">/pre</span></span><br></pre></td></tr></table></figure><h2 id="0x03-è·å–application-properties-yml-è‡ªå®šä¹‰é…ç½®"><a href="#0x03-è·å–application-properties-yml-è‡ªå®šä¹‰é…ç½®" class="headerlink" title="0x03 è·å–application.properties(.yml)è‡ªå®šä¹‰é…ç½®"></a>0x03 è·å–application.properties(.yml)è‡ªå®šä¹‰é…ç½®</h2><p>ä¸Šé¢æˆ‘ä»¬ç”¨çš„é…ç½®è¯¸å¦‚<code>server.port=</code> <code>server.servlet.context-path=</code> ç­‰ç­‰éƒ½æ˜¯SpringBooté¡¹ç›®è‡ªå¸¦çš„é…ç½®é¡¹ï¼Œå¦‚ä½•è‡ªå·±åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰é…ç½®å¹¶è·å–å®ƒå‘¢ï¼Ÿ</p><p>è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨åˆ°__@Value__</p><p>åœ¨Application.javaæ–‡ä»¶çš„åŒçº§ç›®å½•æˆ–ä¸‹çº§ç›®å½•åˆ›å»ºä¸€ä¸ªController&#x2F;IndexController.javaï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.spring.springboot008customerconfiguration.Controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Value;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.ResponseBody;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">IndexController</span> &#123;</span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;school.name&#125;&quot;)</span><span class="comment">//åˆ›å»ºschool.nameé…ç½®é¡¹ï¼Œå­˜æ”¾åˆ°Stringç±»å‹çš„å˜é‡ä¸­</span></span><br><span class="line">    <span class="keyword">private</span> String schoolName;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;website&#125;&quot;)</span><span class="comment">//åˆ›å»ºwebsiteé…ç½®é¡¹ï¼Œå­˜æ”¾åˆ°Stringç±»å‹çš„å˜é‡ä¸­</span></span><br><span class="line">    <span class="keyword">private</span> String website;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(value = &quot;/say&quot;)</span></span><br><span class="line">    <span class="meta">@ResponseBody</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">say</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//è¾“å‡ºè·å¾—çš„è‡ªå®šä¹‰é…ç½®</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;hello :&quot;</span> + schoolName + <span class="string">&quot; Website : http://&quot;</span> + website;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>é…ç½®æ–‡ä»¶application.propertiesä¸­:</p><figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="comment">#è®¾ç½®å†…åµŒtomcat ç«¯å£å·</span></span><br><span class="line"><span class="attr">server.port</span>=<span class="string">8080</span></span><br><span class="line"><span class="comment">#è®¾ç½®ä¸Šä¸‹æ–‡æ ¹</span></span><br><span class="line"><span class="attr">server.servlet.context-path</span>=<span class="string">/</span></span><br><span class="line"><span class="comment">#è‡ªå®šä¹‰</span></span><br><span class="line"><span class="attr">school.name</span>=<span class="string">ECJTU</span></span><br><span class="line"><span class="attr">website</span>=<span class="string">www.ecjtu.jx.cn</span></span><br></pre></td></tr></table></figure><p>è¿è¡Œé¡¹ç›®åæˆ‘ä»¬æ‰“å¼€æµè§ˆå™¨è¾“å…¥<a target="_blank" rel="noopener" href="http://localhost:8080/say,%E6%B5%8F%E8%A7%88%E5%99%A8%E6%98%BE%E7%A4%BA">http://localhost:8080/say,æµè§ˆå™¨æ˜¾ç¤º</a></p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line">hello :ECJTU Website : http://www.ecjtu.jx.cn</span><br></pre></td></tr></table></figure><p>è¯´æ˜æˆ‘ä»¬è·å–æˆåŠŸã€‚</p><h2 id="0x04-æˆç»„è·å–è‡ªå®šä¹‰é…ç½®å¯¹è±¡"><a href="#0x04-æˆç»„è·å–è‡ªå®šä¹‰é…ç½®å¯¹è±¡" class="headerlink" title="0x04 æˆç»„è·å–è‡ªå®šä¹‰é…ç½®å¯¹è±¡"></a>0x04 æˆç»„è·å–è‡ªå®šä¹‰é…ç½®å¯¹è±¡</h2><p>ä¸Šä¸€ä¸ªéƒ¨åˆ†0x03ä¸­ï¼Œæˆ‘ä»¬è·å–è‡ªå®šä¹‰é…ç½®æ˜¯ä¸€ä¸ªä¸€ä¸ªè·å–çš„ï¼Œæˆ‘ä»¬å¦‚ä½•ä¸€ç»„ä¸€ç»„çš„è·å–å‘¢ï¼Œæ¯”å¦‚æˆ‘ä»¬ç°åœ¨åˆ›å»ºçš„application.propertiesæ–‡ä»¶å¦‚ä¸‹ï¼š</p><figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="comment">#è®¾ç½®å†…åµŒtomcat ç«¯å£å·</span></span><br><span class="line"><span class="attr">server.port</span>=<span class="string">8080</span></span><br><span class="line"><span class="comment">#è®¾ç½®ä¸Šä¸‹æ–‡æ ¹</span></span><br><span class="line"><span class="attr">server.servlet.context-path</span>=<span class="string">/</span></span><br><span class="line"></span><br><span class="line"><span class="attr">school.name</span>=<span class="string">ECJTU</span></span><br><span class="line"><span class="attr">school.website</span>=<span class="string">www.ecjtu.jx.cn</span></span><br><span class="line"></span><br><span class="line"><span class="attr">department.name</span>=<span class="string">ECJTU1</span></span><br><span class="line"><span class="attr">department.website</span>=<span class="string">www.ecjtu1.jx.cn</span></span><br></pre></td></tr></table></figure><p>å¦‚ä½•æŠŠschoolå’Œdepartmentçš„nameå’Œwebsiteå±æ€§åˆ†åˆ«å­˜åˆ°ä»–ä»¬å¯¹åº”çš„æ„é€ ä½“é‡Œé¢å‘¢ã€‚</p><p>æˆ‘ä»¬åœ¨application.javaåŒçº§ç›®å½•æˆ–ä¸‹çº§ç›®å½•ä¸­åˆ†åˆ«åˆ›å»ºschool.javaå’Œdepartment.java</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.spring.springboot008customerconfiguration.Controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.context.properties.ConfigurationProperties;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span><span class="comment">//å°†æ­¤ç±»äº¤ç»™Springå®¹å™¨è¿›è¡Œç®¡ç†</span></span><br><span class="line"><span class="meta">@ConfigurationProperties(prefix = &quot;school&quot;)</span><span class="comment">//æ ¸å¿ƒé…ç½®æ–‡ä»¶é‡Œé¢çš„å‰ç¼€</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">School</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> String website;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getWebsite</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> website;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setWebsite</span><span class="params">(String website)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.website = website;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.spring.springboot008customerconfiguration.Controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.context.properties.ConfigurationProperties;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@ConfigurationProperties(prefix = &quot;department&quot;)</span><span class="comment">//æ ¸å¿ƒé…ç½®æ–‡ä»¶é‡Œé¢çš„å‰ç¼€</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Department</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> String website;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getWebsite</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> website;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setWebsite</span><span class="params">(String website)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.website = website;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ç„¶åå†åˆ›å»ºä¸€ä¸ªIndexController.java æ¥è¾“å‡ºç»“æœã€‚</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.spring.springboot008customerconfiguration.Controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.ResponseBody;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">IndexController</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> School school;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> Department department;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(value = &quot;/say&quot;)</span></span><br><span class="line">    <span class="meta">@ResponseBody</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">say</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">hello1</span> <span class="operator">=</span> <span class="string">&quot;hello :&quot;</span> + department.getName() + <span class="string">&quot; Website : http://&quot;</span> + department.getWebsite();</span><br><span class="line">        <span class="type">String</span> <span class="variable">hello2</span> <span class="operator">=</span> <span class="string">&quot;hello :&quot;</span> + school.getName() + <span class="string">&quot; Website : http://&quot;</span> + school.getWebsite();</span><br><span class="line">        <span class="keyword">return</span> hello2 + <span class="string">&quot;&lt;br&gt;&quot;</span> + hello1;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è¿™æ ·æˆ‘ä»¬åœ¨æµè§ˆå™¨è¾“å…¥<a target="_blank" rel="noopener" href="http://localhost:8080/say">http://localhost:8080/say</a> å°±å¯ä»¥å¾—åˆ°å¦‚ä¸‹ç»“æœï¼š</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line">hello :ECJTU Website : http://www.ecjtu.jx.cn</span><br><span class="line">hello :ECJTU1 Website : http://www.ecjtu1.jx.cn</span><br></pre></td></tr></table></figure><blockquote><p>æ­¤æ–¹æ³•åªèƒ½è·å–æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­æœ‰å‰ç¼€çš„å±æ€§ï¼Œè‹¥æ²¡æœ‰å‰ç¼€çš„å•ç‹¬å±æ€§å¿…é¡»è¦ç”¨0x03çš„æ–¹æ³•ï¼ï¼</p></blockquote><h3 id="0x0401-ä½¿ç”¨-ConfigurationPropertiesæ³¨è§£å‡ºç°è­¦å‘Šå¤„ç†"><a href="#0x0401-ä½¿ç”¨-ConfigurationPropertiesæ³¨è§£å‡ºç°è­¦å‘Šå¤„ç†" class="headerlink" title="0x0401 ä½¿ç”¨@ConfigurationPropertiesæ³¨è§£å‡ºç°è­¦å‘Šå¤„ç†:"></a>0x0401 ä½¿ç”¨@ConfigurationPropertiesæ³¨è§£å‡ºç°è­¦å‘Šå¤„ç†:</h3><p>å½“æˆ‘ä»¬é…ç½®å¥½School.javaå’ŒDepartment.javaè¿™ä¸¤ä¸ªæ–‡ä»¶çš„æ—¶å€™IDEAä¸Šæ–¹ä¼šå‡ºç°çº¢è‰²è­¦å‘Šï¼š</p><p><strong>æœªé…ç½®Spring Bootæ³¨è§£å¤„ç†å™¨</strong></p><p>ä½†æ˜¯è¿™ä¸ªå¹¶ä¸å½±å“æˆ‘ä»¬ä»£ç çš„æ‰§è¡Œï¼Œå¦‚æœè¦æ¶ˆé™¤è¯¥è­¦å‘Šï¼Œåªéœ€è¦åœ¨pom.xmlé…ç½®æ–‡ä»¶ä¸­æ·»åŠ ä¸€ä¸ªä¾èµ–ï¼š</p><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-configuration-processor<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">optional</span>&gt;</span>true<span class="tag">&lt;/<span class="name">optional</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è¿™æ ·å°±æ²¡æœ‰ä¸Šè¿°çš„è­¦å‘Šäº†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> åç«¯å­¦ä¹  </category>
          
          <category> SpringBoot </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åç«¯ </tag>
            
            <tag> Java </tag>
            
            <tag> Spring </tag>
            
            <tag> SpringBoot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring Boot å­¦ä¹ ç¬”è®° 01</title>
      <link href="/2021/08/01/cfb2a88933dc-q1jun/"/>
      <url>/2021/08/01/cfb2a88933dc-q1jun/</url>
      
        <content type="html"><![CDATA[<h1 id="Spring-Bootå­¦ä¹ ç¬”è®°-01"><a href="#Spring-Bootå­¦ä¹ ç¬”è®°-01" class="headerlink" title="Spring Bootå­¦ä¹ ç¬”è®° 01"></a>Spring Bootå­¦ä¹ ç¬”è®° 01</h1><p>è¿™æ˜¯æš‘æœŸå­¦ä¹ ç¬¬äºŒå¤©ï¼Œä»ä»Šå¤©èµ·æˆ‘å¼€å§‹å­¦ä¹ å…³äºSpringBootçš„æ¡†æ¶ï¼Œå¹¶å°†å­¦ä¹ çš„å†…å®¹å†™åˆ°åšå®¢ä¸Šï¼Œä¾›å¤§å®¶ä¸€èµ·å­¦ä¹ ï¼</p><h2 id="0x01-Spring-Bootç®€ä»‹"><a href="#0x01-Spring-Bootç®€ä»‹" class="headerlink" title="0x01 Spring Bootç®€ä»‹"></a>0x01 Spring Bootç®€ä»‹</h2><p>â€‹    Spring Bootæ˜¯Springå®¶æ—ä¸­çš„ä¸€ä¸ªå…¨æ–°çš„æ¡†æ¶ï¼Œå®ƒç”¨æ¥ç®€åŒ–Springåº”ç”¨ç¨‹åºçš„åˆ›å»ºå’Œå¼€å‘è¿‡ç¨‹ï¼Œä¹Ÿå¯ä»¥è¯´Spring Bootèƒ½ç®€åŒ–æˆ‘ä»¬ä¹‹å‰é‡‡ç”¨ï¼ˆSSMï¼‰Spring+SpringMVC+Mybatisæ¡†æ¶è¿›è¡Œå¼€å‘çš„è¿‡ç¨‹ã€‚</p><p>â€‹    åœ¨ä»¥å¾€æˆ‘ä»¬é‡‡ç”¨SSMæ¡†æ¶è¿›è¡Œå¼€å‘çš„æ—¶å€™ï¼Œæ­å»ºå’Œæ•´åˆä¸‰å¤§æ¡†æ¶ï¼Œæˆ‘ä»¬éœ€è¦åšå¾ˆå¤šå·¥ä½œï¼Œæ¯”å¦‚é…ç½®web.xmlï¼Œé…ç½®Springï¼Œé…ç½®mybatisï¼Œå¹¶å°†ä»–ä»¬æ•´åˆåœ¨ä¸€èµ·ï¼Œè€ŒSpringBootæ¡†æ¶å¯¹æ­¤å¼€å‘è¿‡ç¨‹è¿›è¡Œäº†é©å‘½æ€§çš„é¢ è¦†ï¼Œå®Œå…¨æŠ›å¼ƒäº†ç¹ççš„xmlé…ç½®è¿‡ç¨‹ï¼Œé‡‡ç”¨äº†å¤§é‡çš„é»˜è®¤é…ç½®ç®€åŒ–æˆ‘ä»¬çš„å¼€å‘è¿‡ç¨‹ã€‚</p><p>â€‹    æ‰€ä»¥é‡‡ç”¨SpringBootå¯ä»¥éå¸¸å®¹æ˜“å’Œå¿«é€Ÿåœ°åˆ›å»ºåŸºäºSpringæ¡†æ¶çš„åº”ç”¨ç¨‹åºï¼Œå®ƒè®©ç¼–ç å˜ç®€å•äº†ï¼Œé…ç½®å˜ç®€å•äº†ï¼Œéƒ¨ç½²å˜ç®€å•äº†ï¼Œç›‘æ§å˜ç®€å•äº†ã€‚æ­£å› ä¸ºSpring BootåŒ–ç¹ä¸ºç®€ï¼Œè®©å¼€å‘å˜å¾—æå…¶ç®€å•å’Œå¿«é€Ÿï¼Œæ‰€ä»¥åœ¨ä¸šç•Œå˜å¾—å¤‡å—å…³æ³¨ã€‚</p><h2 id="0x02-Spring-Bootçš„ç‰¹æ€§"><a href="#0x02-Spring-Bootçš„ç‰¹æ€§" class="headerlink" title="0x02 Spring Bootçš„ç‰¹æ€§"></a>0x02 Spring Bootçš„ç‰¹æ€§</h2><ul><li>èƒ½å¤Ÿå¿«é€Ÿåˆ›å»ºåŸºäºSpringçš„åº”ç”¨ç¨‹åº</li><li>èƒ½å¤Ÿç›´æ¥ä½¿ç”¨Java Mainæ–¹æ³•å¯åŠ¨å†…åµŒçš„Tomcat æœåŠ¡å™¨è¿è¡ŒSpring Bootç¨‹åºï¼Œä¸éœ€è¦éƒ¨ç½²WaråŒ…æ–‡ä»¶</li><li>æä¾›çº¦å®šçš„starter POMæ¥ç®€åŒ– Maven é…ç½®ï¼Œè®©Mavené…ç½®å˜å¾—ç®€å•</li><li>è‡ªåŠ¨åŒ–é…ç½®ï¼Œæ ¹æ®é¡¹ç›®çš„Mavenä¾èµ–é…ç½®ï¼ŒSpringBootè‡ªåŠ¨é…ç½®Springã€SpringMVCç­‰ç­‰</li><li>æä¾›äº†ç¨‹åºçš„å¥åº·æ£€æŸ¥ç­‰åŠŸèƒ½</li><li>åŸºæœ¬å¯ä»¥å®Œå…¨ä¸ä½¿ç”¨XMLé…ç½®æ–‡ä»¶ï¼Œé‡‡ç”¨æ³¨è§£é…ç½®</li></ul><h2 id="0x03-Spring-Boot-å››å¤§æ ¸å¿ƒ"><a href="#0x03-Spring-Boot-å››å¤§æ ¸å¿ƒ" class="headerlink" title="0x03 Spring Boot å››å¤§æ ¸å¿ƒ"></a>0x03 Spring Boot å››å¤§æ ¸å¿ƒ</h2><ul><li><p>è‡ªåŠ¨é…ç½®</p></li><li><p>èµ·æ­¥ä¾èµ–</p></li><li><p>Actuatorï¼ˆå¥åº·æ£€æµ‹ï¼‰</p></li><li><p>å‘½ä»¤è¡Œç•Œé¢</p></li></ul><h2 id="0x04-åˆ›å»ºSpringBooté¡¹ç›®"><a href="#0x04-åˆ›å»ºSpringBooté¡¹ç›®" class="headerlink" title="0x04 åˆ›å»ºSpringBooté¡¹ç›®"></a>0x04 åˆ›å»ºSpringBooté¡¹ç›®</h2><p>IDEAæ–°å»ºSpringBooté¡¹ç›®ï¼Œå‹¾é€‰Spring Webã€‚</p><p>åˆ›å»ºåSpringBooté¡¹ç›®ä¸­çš„POM.xmlæ–‡ä»¶ï¼š</p><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--SpringBootçˆ¶å·¥ç¨‹GAVåæ ‡--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.5.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">relativePath</span>/&gt;</span> <span class="comment">&lt;!-- lookup parent from repository --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--å½“å‰é¡¹ç›®çš„GAVåæ ‡--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.example.springboot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>springboot001<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.0.1-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>springboot001<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">description</span>&gt;</span>Demo project for Spring Boot<span class="tag">&lt;/<span class="name">description</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--ç¼–è¯‘çº§åˆ«--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">java.version</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">java.version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    ä¾èµ–--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        SpringBootæ¡†æ¶Webé¡¹ç›®èµ·æ­¥ä¾èµ–--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        SpringBootæ¡†æ¶æµ‹è¯•èµ·æ­¥ä¾èµ–--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--            SpringBooté¡¹ç›®æ‰“åŒ…ç¼–è¯‘çš„æ’ä»¶--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure><p>SpringBooté¡¹ç›®å¯åŠ¨å…¥å£ç±»ï¼š</p><p>src\main\java\com.example.springboot.springbootfirst\Springboot001Application.java:</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.springboot.springbootfirst;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.SpringApplication;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;</span><br><span class="line"><span class="comment">//Springbooté¡¹ç›®å¯åŠ¨å…¥å£ç±»</span></span><br><span class="line"><span class="meta">@SpringBootApplication</span><span class="comment">//SpringBootæ ¸å¿ƒæ³¨è§£ï¼Œä¸»è¦ç”¨äºå¼€å¯springè‡ªåŠ¨é…ç½®</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Springboot001Application</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        SpringApplication.run(Springboot001Application.class, args);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>src\main\resources<ul><li>static(æ–‡ä»¶å¤¹)ï¼šå›¾æ ‡ç­‰é™æ€èµ„æºæ”¾å…¥æ­¤æ–‡ä»¶å¤¹</li><li>templates(æ–‡ä»¶å¤¹)ï¼šæ¨¡æ¿ï¼Œå‰ç«¯æ¨¡æ¿å¼•æ“æ”¾å…¥æ­¤æ–‡ä»¶å¤¹Thyme leaf.htmlï¼ˆç™¾å¶ç®±ï¼‰</li><li>application.propertiesï¼šSpringBootçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶</li></ul></li></ul><blockquote><p>  Springbooté¡¹ç›®ä»£ç å¿…é¡»æ”¾åˆ°Application(Springboot001Application)ç±»æ‰€åœ¨çš„åŒçº§ç›®å½•æˆ–è€…ä¸‹çº§ç›®å½•</p></blockquote><p>æˆ‘ä»¬åœ¨com.example.springboot.springbootfirstä¸‹åˆ›å»ºä¸€ä¸ªpackage Webï¼Œå†åœ¨webè¿™ä¸ªåŒ…é‡Œé¢åˆ›å»ºä¸€ä¸ªjavaç±»IndexControllerï¼š</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.springboot.springbootfirst.web;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.ResponseBody;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">IndexController</span> &#123;</span><br><span class="line">    <span class="meta">@RequestMapping(value = &quot;/springboot/say&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="meta">@ResponseBody</span> String <span class="title function_">say</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Hello ,Springboot!&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å®Œæˆä¹‹åæˆ‘ä»¬ç¼–è¯‘Springboot001Applicationè¿™ä¸ªå…¥å£ï¼Œè§‚å¯Ÿæ§åˆ¶å°è¾“å‡ºï¼š</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">  .   ____          _            __ _ _</span><br><span class="line"> /\\ / ___&#x27;_ __ _ _(_)_ __  __ _ \ \ \ \</span><br><span class="line">( ( )\___ | &#x27;_ | &#x27;_| | &#x27;_ \/ _` | \ \ \ \</span><br><span class="line"> \\/  ___)| |_)| | | | | || (_| |  ) ) ) )</span><br><span class="line">  &#x27;  |____| .__|_| |_|_| |_\__, | / / / /</span><br><span class="line"> =========|_|==============|___/=/_/_/_/</span><br><span class="line"> :: Spring Boot ::                (v2.5.2)</span><br><span class="line"></span><br><span class="line">2021-07-21 17:09:53.836  INFO 10616 --- [           main] c.s.s.Springboot002SpringMvcApplication  : Starting Springboot002SpringMvcApplication using Java 11.0.10 on LAPTOP-47F3TRCJ with PID 10616 (C:\Users\æ®µé›…å©·\Desktop\SpringBoot\springboot002-springMVC\target\classes started by æ®µé›…å©· in C:\Users\æ®µé›…å©·\Desktop\SpringBoot)</span><br><span class="line">2021-07-21 17:09:53.836  INFO 10616 --- [           main] c.s.s.Springboot002SpringMvcApplication  : No active profile set, falling back to default profiles: default</span><br><span class="line">2021-07-21 17:09:54.634  INFO 10616 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)</span><br><span class="line">2021-07-21 17:09:54.650  INFO 10616 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]</span><br><span class="line">2021-07-21 17:09:54.650  INFO 10616 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.48]</span><br><span class="line">2021-07-21 17:09:54.697  INFO 10616 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext</span><br><span class="line">2021-07-21 17:09:54.697  INFO 10616 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 830 ms</span><br><span class="line">2021-07-21 17:09:54.931  INFO 10616 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#x27;&#x27;</span><br><span class="line">2021-07-21 17:09:54.931  INFO 10616 --- [           main] c.s.s.Springboot002SpringMvcApplication  : Started Springboot002SpringMvcApplication in 1.409 seconds (JVM running for 2.861)</span><br><span class="line">2021-07-21 17:10:38.256  INFO 10616 --- [nio-8080-exec-1] o.apache.tomcat.util.http.parser.Cookie  : A cookie header was received [1626485908,1626487413,1626505943] that contained an invalid cookie. That cookie will be ignored.</span><br><span class="line"> Note: further occurrences of this error will be logged at DEBUG level.</span><br><span class="line">2021-07-21 17:10:38.261  INFO 10616 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#x27;dispatcherServlet&#x27;</span><br><span class="line">2021-07-21 17:10:38.261  INFO 10616 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#x27;dispatcherServlet&#x27;</span><br><span class="line">2021-07-21 17:10:38.261  INFO 10616 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms</span><br><span class="line"></span><br></pre></td></tr></table></figure><p> å…¶ä¸­æˆ‘ä»¬å‘ç°ä¸€æ¡æç¤ºä¿¡æ¯Tomcat started on port(s): 8080 (http) with context path â€˜â€™</p><p>æ‰“å¼€æµè§ˆå™¨è¾“å…¥localhost:8080&#x2F;springboot&#x2F;sayï¼Œè§‚å¯Ÿåˆ°æµè§ˆå™¨ç•Œé¢è·³è½¬åˆ°è¾“å‡ºå­—ç¬¦ä¸²â€œHello ,Springboot!â€ã€‚</p><p>è¿™é‡Œæˆ‘ä»¬å®Œæˆäº†SpringBooté¡¹ç›®çš„æ­å»ºã€‚</p><h2 id="0x05-ä½¿ç”¨SpringBootçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶"><a href="#0x05-ä½¿ç”¨SpringBootçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶" class="headerlink" title="0x05 ä½¿ç”¨SpringBootçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶"></a>0x05 ä½¿ç”¨SpringBootçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶</h2><p>ä¸Šé¢æˆ‘ä»¬è¯´ï¼Œå…¶ä¸­ä¸€æ¡ä¿¡æ¯ä¸ºTomcat started on port(s): 8080 (http) with context path â€˜â€™ï¼Œæˆ‘ä»¬è¦å¦‚ä½•ä¿®æ”¹è¿™é‡Œçš„ç«¯å£å·å’Œä¸Šä¸‹æ–‡é»˜è®¤è·¯å¾„å‘¢ï¼Ÿ</p><p>æˆ‘ä»¬æ‰“å¼€src\main\resourcesä¸­çš„<code>application.properties</code>æ–‡ä»¶å¹¶æ·»åŠ ï¼š</p><figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="comment">#è®¾ç½®å†…åµŒTomcatç«¯å£å·</span></span><br><span class="line"><span class="attr">server.port</span>=<span class="string">8081</span></span><br><span class="line"><span class="comment">#è®¾ç½®ä¸Šä¸‹æ–‡æ ¹</span></span><br><span class="line"><span class="attr">server.servlet.context-path</span>=<span class="string">/springboot</span></span><br></pre></td></tr></table></figure><p>å†é‡å¯Springbooté¡¹ç›®ï¼Œè§‚å¯Ÿæ§åˆ¶å°è¾“å‡ºï¼š</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">  .   ____          _            __ _ _</span><br><span class="line"> /\\ / ___&#x27;_ __ _ _(_)_ __  __ _ \ \ \ \</span><br><span class="line">( ( )\___ | &#x27;_ | &#x27;_| | &#x27;_ \/ _` | \ \ \ \</span><br><span class="line"> \\/  ___)| |_)| | | | | || (_| |  ) ) ) )</span><br><span class="line">  &#x27;  |____| .__|_| |_|_| |_\__, | / / / /</span><br><span class="line"> =========|_|==============|___/=/_/_/_/</span><br><span class="line"> :: Spring Boot ::                (v2.5.2)</span><br><span class="line"></span><br><span class="line">2021-07-21 17:32:42.607  INFO 15028 --- [           main] .s.s.Springboot003ContextPathApplication : Starting Springboot003ContextPathApplication using Java 1.8.0_181 on LAPTOP-47F3TRCJ with PID 15028 (C:\Users\æ®µé›…å©·\Desktop\SpringBoot\springboot003-context-path\target\classes started by æ®µé›…å©· in C:\Users\æ®µé›…å©·\Desktop\SpringBoot)</span><br><span class="line">2021-07-21 17:32:42.610  INFO 15028 --- [           main] .s.s.Springboot003ContextPathApplication : No active profile set, falling back to default profiles: default</span><br><span class="line">2021-07-21 17:32:43.477  INFO 15028 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)</span><br><span class="line">2021-07-21 17:32:43.493  INFO 15028 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]</span><br><span class="line">2021-07-21 17:32:43.493  INFO 15028 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.48]</span><br><span class="line">2021-07-21 17:32:43.554  INFO 15028 --- [           main] o.a.c.c.C.[.[localhost].[/springboot]    : Initializing Spring embedded WebApplicationContext</span><br><span class="line">2021-07-21 17:32:43.554  INFO 15028 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 893 ms</span><br><span class="line">2021-07-21 17:32:43.775  INFO 15028 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path &#x27;/springboot&#x27;</span><br><span class="line">2021-07-21 17:32:43.775  INFO 15028 --- [           main] .s.s.Springboot003ContextPathApplication : Started Springboot003ContextPathApplication in 1.607 seconds (JVM running for 2.537)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°<code> Tomcat started on port(s): 8081 (http) with context path &#39;/springboot&#39;</code> ä¿®æ”¹ç«¯å£å·å’Œé»˜è®¤è·¯å¾„æˆåŠŸã€‚</p><p>å¦‚æœæˆ‘ä»¬è¦è®¿é—®<a target="_blank" rel="noopener" href="http://localhost:8080/springboot/say">http://localhost:8080/springboot/say</a> åˆ™è¦æ”¹æˆ <a target="_blank" rel="noopener" href="http://localhost:8080/springboot/springboot/say">http://localhost:8080/springboot/springboot/say</a> ï¼Œå› ä¸ºæ·»åŠ äº†é»˜è®¤è·¯å¾„ã€‚</p><blockquote><p>æ ¸å¿ƒé…ç½®æ–‡ä»¶åªèƒ½æœ‰ä¸€ä¸ª</p></blockquote><h3 id="0x0501-ä½¿ç”¨-ymlæˆ–-yamlçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶"><a href="#0x0501-ä½¿ç”¨-ymlæˆ–-yamlçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶" class="headerlink" title="0x0501 ä½¿ç”¨.ymlæˆ–.yamlçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶"></a>0x0501 ä½¿ç”¨.ymlæˆ–.yamlçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶</h3><p>å°†application.propertiesæ¢æˆapplication.yml:</p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8081</span></span><br><span class="line">  <span class="attr">servlet:</span></span><br><span class="line">    <span class="attr">context-path:</span> <span class="string">/</span></span><br></pre></td></tr></table></figure><p>å°†application.propertiesæ¢æˆapplication.yaml:</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8081</span></span><br><span class="line">  <span class="attr">servlet:</span></span><br><span class="line">    <span class="attr">context-path:</span> <span class="string">/</span></span><br></pre></td></tr></table></figure><p>ä¸‰ç§æ ¼å¼çš„é…ç½®æ–‡ä»¶éƒ½èƒ½ä½¿ç”¨ï¼Œä½†æ˜¯åªèƒ½å­˜åœ¨ä¸€ä¸ª</p>]]></content>
      
      
      <categories>
          
          <category> åç«¯å­¦ä¹  </category>
          
          <category> SpringBoot </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åç«¯ </tag>
            
            <tag> Java </tag>
            
            <tag> Spring </tag>
            
            <tag> SpringBoot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>phpå­¦ä¹ ç¬”è®° 01</title>
      <link href="/2021/03/19/444faf94523a-q1jun/"/>
      <url>/2021/03/19/444faf94523a-q1jun/</url>
      
        <content type="html"><![CDATA[<h1 id="phpå­¦ä¹ ç¬”è®°-01"><a href="#phpå­¦ä¹ ç¬”è®°-01" class="headerlink" title="phpå­¦ä¹ ç¬”è®° 01"></a>phpå­¦ä¹ ç¬”è®° 01</h1><blockquote><p>å°çŸ¥è¯†ï¼š<code>PHPæ˜¯ä¸–ç•Œä¸Šæœ€å¥½çš„è¯­è¨€</code>è¿™å¥è¯æ˜¯æ€ä¹ˆæ¥çš„ï¼Ÿ<br>PHPæ˜¯ä¸–ç•Œä¸Šæœ€å¥½çš„è¯­è¨€è¿™å¥è¯ï¼Œæœ€æ—©å‡ºç°åœ¨2001å¹´7æœˆçš„PHPå®˜æ–¹æ–‡æ¡£ä¸­<br>åŸå› å¾ˆæ˜ç¡®ï¼Œåªæ˜¯è¯´PHPæ˜¯webå¼€å‘ä¸­çš„æœ€å¥½çš„è¯­è¨€ï¼Œä½†ç»è¿‡æµä¼ ä¹‹åå°±å˜æˆäº†PHPæ˜¯ä¸–ç•Œä¸Šæœ€å¥½çš„è¯­è¨€äº†</p></blockquote><h2 id="0x01-phpçš„è¾“å‡º"><a href="#0x01-phpçš„è¾“å‡º" class="headerlink" title="0x01 phpçš„è¾“å‡º"></a>0x01 phpçš„è¾“å‡º</h2><p>phpçš„è¾“å‡ºæœ‰ä»¥ä¸‹å‡ ä¸ªè¯­å¥ï¼š</p><ul><li>echo()</li><li>print()</li><li>print_r()</li><li>var_dunp()</li></ul><h3 id="0x0101-echo"><a href="#0x0101-echo" class="headerlink" title="0x0101 echo() :"></a>0x0101 echo() :</h3><p>å¯ä»¥ä¸€æ¬¡è¾“å‡ºå¤šä¸ªå€¼ï¼Œå¤šä¸ªå€¼ä¹‹é—´ç”¨é€—å·åˆ†éš”ã€‚ä½†æ˜¯echo()æ˜¯è¯­è¨€ç»“æ„(<em>language construct</em>)ï¼Œå¹¶__ä¸æ˜¯çœŸæ­£çš„å‡½æ•°__ï¼Œå› æ­¤ä¸èƒ½ä½œä¸ºè¡¨è¾¾å¼çš„ä¸€éƒ¨åˆ†æ¥ä½¿ç”¨ã€‚echo()æ˜¯phpçš„å†…éƒ¨æŒ‡ä»¤ï¼Œä¸æ˜¯å‡½æ•°ï¼Œä¸”__æ— è¿”å›å€¼__ã€‚</p><h3 id="0x0102-print"><a href="#0x0102-print" class="headerlink" title="0x0102 print():"></a>0x0102 print():</h3><p>å‡½æ•°print()æ‰“å°ä¸€ä¸ªå€¼(å®ƒçš„å‚æ•°)ï¼Œå¦‚æœå­—ç¬¦ä¸²æˆåŠŸæ˜¾ç¤ºåˆ™è¿”å›trueï¼Œå¦åˆ™è¿”å›falseã€‚åªèƒ½æ‰“å°å‡ºç®€å•ç±»å‹å˜é‡çš„å€¼ï¼ˆå¦‚intã€stringï¼‰ï¼Œ__æœ‰è¿”å›å€¼__ã€‚</p><h3 id="0x0103-print-r-å’Œvar-dump"><a href="#0x0103-print-r-å’Œvar-dump" class="headerlink" title="0x0103 print_r()å’Œvar_dump():"></a>0x0103 print_r()å’Œvar_dump():</h3><p>print_r()å¯ä»¥æŠŠå­—ç¬¦ä¸²å’Œæ•°å­—ç®€å•åœ°æ‰“å°å‡ºæ¥ï¼Œè€Œæ•°ç»„åˆ™ä»¥æ‹¬èµ·æ¥çš„é”®å’Œå€¼å¾—åˆ—è¡¨å½¢å¼æ˜¾ç¤ºï¼Œå¹¶ä»¥Arrayå¼€å¤´ã€‚ä½†print_r()è¾“å‡ºå¸ƒå°”å€¼å’ŒNULLçš„ç»“æœæ²¡æœ‰æ„ä¹‰ï¼Œå› ä¸ºéƒ½æ˜¯æ‰“å°â€\nâ€ã€‚å› æ­¤ç”¨var_dump()å‡½æ•°æ›´é€‚åˆè°ƒè¯•ã€‚print_ræ˜¯å‡½æ•°ï¼Œå¯ä»¥æ‰“å°å‡ºæ¯”è¾ƒå¤æ‚çš„å˜é‡ï¼ˆå¦‚æ•°ç»„ã€å¯¹è±¡ï¼‰ï¼Œæœ‰è¿”å›å€¼ã€‚</p><h2 id="0x02-phpçš„æ³¨é‡Š"><a href="#0x02-phpçš„æ³¨é‡Š" class="headerlink" title="0x02 phpçš„æ³¨é‡Š"></a>0x02 phpçš„æ³¨é‡Š</h2><p>phpçš„æ³¨é‡Šæœ‰ä¸‰ç§ï¼š<code>//å†…å®¹</code>ï¼Œ<code>/*å†…å®¹*/</code>ï¼Œ<code>#å†…å®¹</code>ã€‚</p><blockquote><p>phpçš„æ³¨é‡Šä¸ä¼šåœ¨å‰ç«¯é¡µé¢çš„æºä»£ç ä¸­æ˜¾ç¤ºï¼ŒHTMLçš„æ³¨é‡Šåˆ™ä¼šæ˜¾ç¤ºåœ¨å‰ç«¯é¡µé¢çš„æºä»£ç ä¸­(å› ä¸ºå‰ç«¯é¡µé¢å°±æ˜¯htmlğŸ˜‚)ã€‚</p></blockquote><h3 id="0x0201-å•è¡Œæ³¨é‡Šï¼š"><a href="#0x0201-å•è¡Œæ³¨é‡Šï¼š" class="headerlink" title="0x0201 å•è¡Œæ³¨é‡Šï¼š"></a>0x0201 å•è¡Œæ³¨é‡Šï¼š</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="comment">// è¿™æ˜¯phpçš„å•è¡Œæ³¨é‡Š</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿™ä¹Ÿæ˜¯phpçš„å•è¡Œæ³¨é‡Š(ä¸å»ºè®®ä½¿ç”¨)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="0x0202-å¤šè¡Œæ³¨é‡Šï¼š"><a href="#0x0202-å¤šè¡Œæ³¨é‡Šï¼š" class="headerlink" title="0x0202 å¤šè¡Œæ³¨é‡Šï¼š"></a>0x0202 å¤šè¡Œæ³¨é‡Šï¼š</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">è¿™æ˜¯</span></span><br><span class="line"><span class="comment">php</span></span><br><span class="line"><span class="comment">çš„å¤šè¡Œæ³¨é‡Š</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><h3 id="0x03-phpçš„æ•°æ®ç±»å‹"><a href="#0x03-phpçš„æ•°æ®ç±»å‹" class="headerlink" title="0x03 phpçš„æ•°æ®ç±»å‹"></a>0x03 phpçš„æ•°æ®ç±»å‹</h3><p>phpæœ‰å…«å¤§æ•°æ®ç±»å‹ï¼Œå¦‚ä¸‹ï¼š</p><ul><li>å››ç§æ ‡é‡ç±»å‹ï¼šå¸ƒå°”ç±»å‹ã€æ•´å‹ã€æµ®ç‚¹å‹ã€å­—ç¬¦ä¸²å‹ã€‚</li><li>ä¸¤ç§å¤åˆç±»å‹ï¼šæ•°ç»„ã€å¯¹è±¡ã€‚</li><li>ä¸¤ç§ç‰¹æ®Šç±»å‹ï¼šèµ„æºã€NULLã€‚</li></ul><h2 id="phpçš„å˜é‡"><a href="#phpçš„å˜é‡" class="headerlink" title="phpçš„å˜é‡"></a>phpçš„å˜é‡</h2><ol><li>phpä¸­çš„å˜é‡å¤§å°å†™æ•æ„Ÿ</li><li>å˜é‡çš„å‘½ååªèƒ½ä»¥ä¸‹åˆ’çº¿å¼€å¤´æˆ–è€…å­—æ¯å¼€å¤´ï¼Œä¸èƒ½ä»¥æ•°å­—å¼€å¤´ä¸”ä¸åŒ…å«ç‰¹æ®Šå­—ç¬¦ã€‚</li></ol><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="comment">// phpçš„å˜é‡å‘½å</span></span><br><span class="line"><span class="variable">$_test</span></span><br><span class="line"><span class="variable">$hello</span></span><br><span class="line"><span class="variable">$_123</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>phpæœ‰ä¹å¤§è¶…å…¨å±€å˜é‡(<strong>ç³»ç»Ÿå˜é‡</strong>):</p><ul><li><strong>$GLOBALS</strong></li><li><strong>$_SERVER</strong></li><li><strong>$_GET</strong></li><li><strong>$_POST</strong></li><li><strong>$_REQUEST</strong></li><li><strong>$_COOKIE</strong></li><li><strong>$_SESSION</strong></li><li><strong>$_FILES</strong></li><li><strong>$_ENV</strong></li></ul><p>PHP å˜é‡ä½œç”¨åŸŸ<br>å˜é‡çš„ä½œç”¨åŸŸæ˜¯è„šæœ¬ä¸­å˜é‡å¯è¢«å¼•ç”¨&#x2F;ä½¿ç”¨çš„éƒ¨åˆ†ã€‚</p><p>PHP æœ‰å››ç§ä¸åŒçš„å˜é‡ä½œç”¨åŸŸï¼š</p><ul><li>local</li><li>global</li><li>static</li><li>parameter</li></ul>]]></content>
      
      
      <categories>
          
          <category> åç«¯å­¦ä¹  </category>
          
          <category> PHP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åç«¯ </tag>
            
            <tag> php </tag>
            
            <tag> è¶…æ–‡æœ¬é¢„å¤„ç†å™¨ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>phpè¶…æ–‡æœ¬é¢„å¤„ç†å™¨</title>
      <link href="/2021/03/18/762f1d5327cf-q1jun/"/>
      <url>/2021/03/18/762f1d5327cf-q1jun/</url>
      
        <content type="html"><![CDATA[<h1 id="PHPè¶…æ–‡æœ¬é¢„å¤„ç†å™¨"><a href="#PHPè¶…æ–‡æœ¬é¢„å¤„ç†å™¨" class="headerlink" title="PHPè¶…æ–‡æœ¬é¢„å¤„ç†å™¨"></a>PHPè¶…æ–‡æœ¬é¢„å¤„ç†å™¨</h1><h2 id="0x01-PHP-å˜é‡"><a href="#0x01-PHP-å˜é‡" class="headerlink" title="0x01 PHP å˜é‡"></a>0x01 PHP å˜é‡</h2><p>ä¸ä»£æ•°ç±»ä¼¼ï¼Œå¯ä»¥ç»™ PHP å˜é‡èµ‹äºˆæŸä¸ªå€¼ï¼ˆx&#x3D;5ï¼‰æˆ–è€…è¡¨è¾¾å¼ï¼ˆz&#x3D;x+yï¼‰ã€‚</p><p>å˜é‡å¯ä»¥æ˜¯å¾ˆçŸ­çš„åç§°ï¼ˆå¦‚ x å’Œ yï¼‰æˆ–è€…æ›´å…·æè¿°æ€§çš„åç§°ï¼ˆå¦‚ ageã€carnameã€totalvolumeï¼‰ã€‚</p><p>PHP å˜é‡è§„åˆ™ï¼š</p><ul><li>å˜é‡ä»¥ $ ç¬¦å·å¼€å§‹ï¼Œåé¢è·Ÿç€å˜é‡çš„åç§°</li><li>å˜é‡åå¿…é¡»ä»¥å­—æ¯æˆ–è€…ä¸‹åˆ’çº¿å­—ç¬¦å¼€å§‹</li><li>å˜é‡ååªèƒ½åŒ…å«å­—æ¯æ•°å­—å­—ç¬¦ä»¥åŠä¸‹åˆ’çº¿ï¼ˆA-zã€0-9 å’Œ _ ï¼‰</li><li>å˜é‡åä¸èƒ½åŒ…å«ç©ºæ ¼</li><li>å˜é‡åæ˜¯åŒºåˆ†å¤§å°å†™çš„ï¼ˆ$y å’Œ $Y æ˜¯ä¸¤ä¸ªä¸åŒçš„å˜é‡ï¼‰</li></ul><h2 id="0x02-åˆ›å»ºï¼ˆå£°æ˜ï¼‰PHP-å˜é‡"><a href="#0x02-åˆ›å»ºï¼ˆå£°æ˜ï¼‰PHP-å˜é‡" class="headerlink" title="0x02 åˆ›å»ºï¼ˆå£°æ˜ï¼‰PHP å˜é‡"></a>0x02 åˆ›å»ºï¼ˆå£°æ˜ï¼‰PHP å˜é‡</h2><p>PHP æ²¡æœ‰å£°æ˜å˜é‡çš„å‘½ä»¤ã€‚</p><p>å˜é‡åœ¨æ‚¨ç¬¬ä¸€æ¬¡èµ‹å€¼ç»™å®ƒçš„æ—¶å€™è¢«åˆ›å»º</p><blockquote><p>ä¸Pythonç±»ä¼¼</p></blockquote><p><strong>PHP æ˜¯ä¸€é—¨å¼±ç±»å‹è¯­è¨€</strong></p><p>ä¸å¿…å‘ PHP å£°æ˜è¯¥å˜é‡çš„æ•°æ®ç±»å‹ã€‚<br>PHP ä¼šæ ¹æ®å˜é‡çš„å€¼ï¼Œè‡ªåŠ¨æŠŠå˜é‡è½¬æ¢ä¸ºæ­£ç¡®çš„æ•°æ®ç±»å‹ã€‚<br>åœ¨å¼ºç±»å‹çš„ç¼–ç¨‹è¯­è¨€ä¸­ï¼Œæˆ‘ä»¬å¿…é¡»åœ¨ä½¿ç”¨å˜é‡å‰å…ˆå£°æ˜ï¼ˆå®šä¹‰ï¼‰å˜é‡çš„ç±»å‹å’Œåç§°ã€‚</p><h2 id="0x03-PHP-å˜é‡ä½œç”¨åŸŸ"><a href="#0x03-PHP-å˜é‡ä½œç”¨åŸŸ" class="headerlink" title="0x03 PHP å˜é‡ä½œç”¨åŸŸ"></a>0x03 PHP å˜é‡ä½œç”¨åŸŸ</h2><p>å˜é‡çš„ä½œç”¨åŸŸæ˜¯è„šæœ¬ä¸­å˜é‡å¯è¢«å¼•ç”¨&#x2F;ä½¿ç”¨çš„éƒ¨åˆ†ã€‚</p><p>PHP æœ‰å››ç§ä¸åŒçš„å˜é‡ä½œç”¨åŸŸï¼š</p><ul><li>local</li><li>global</li><li>static</li><li>parameter</li></ul><blockquote><p>å¯ä»¥åœ¨ä¸åŒå‡½æ•°ä¸­ä½¿ç”¨ç›¸åŒçš„å˜é‡åç§°ï¼Œå› ä¸ºè¿™äº›å‡½æ•°å†…å®šä¹‰çš„å˜é‡åæ˜¯å±€éƒ¨å˜é‡ï¼Œåªä½œç”¨äºè¯¥å‡½æ•°å†…ã€‚</p></blockquote><h3 id="0x0301-PHP-global-å…³é”®å­—"><a href="#0x0301-PHP-global-å…³é”®å­—" class="headerlink" title="0x0301 PHP global å…³é”®å­—"></a>0x0301 PHP global å…³é”®å­—</h3><p>global å…³é”®å­—ç”¨äºå‡½æ•°å†…è®¿é—®å…¨å±€å˜é‡ã€‚</p><p>åœ¨å‡½æ•°å†…è°ƒç”¨å‡½æ•°å¤–å®šä¹‰çš„å…¨å±€å˜é‡ï¼Œæˆ‘ä»¬éœ€è¦åœ¨å‡½æ•°ä¸­çš„å˜é‡å‰åŠ ä¸Š global å…³é”®å­—ï¼š</p><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$x</span>=<span class="number">5</span>;</span><br><span class="line"><span class="variable">$y</span>=<span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myTest</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">global</span> <span class="variable">$x</span>,<span class="variable">$y</span>;</span><br><span class="line">    <span class="variable">$y</span>=<span class="variable">$x</span>+<span class="variable">$y</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_ invoke__">myTest</span>();</span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$y</span>; <span class="comment">// è¾“å‡º 15</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>PHP å°†æ‰€æœ‰å…¨å±€å˜é‡å­˜å‚¨åœ¨ä¸€ä¸ªåä¸º $GLOBALS[<em>index</em>] çš„æ•°ç»„ä¸­ã€‚ <em>index</em> ä¿å­˜å˜é‡çš„åç§°ã€‚è¿™ä¸ªæ•°ç»„å¯ä»¥åœ¨å‡½æ•°å†…éƒ¨è®¿é—®ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ç”¨æ¥æ›´æ–°å…¨å±€å˜é‡ã€‚</p><p>ä¸Šé¢çš„å®ä¾‹å¯ä»¥å†™æˆè¿™æ ·ï¼š</p><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$x</span>=<span class="number">5</span>;</span><br><span class="line"><span class="variable">$y</span>=<span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myTest</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="variable">$GLOBALS</span>[<span class="string">&#x27;y&#x27;</span>]=<span class="variable">$GLOBALS</span>[<span class="string">&#x27;x&#x27;</span>]+<span class="variable">$GLOBALS</span>[<span class="string">&#x27;y&#x27;</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_ invoke__">myTest</span>();</span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$y</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><h3 id="0x0302-Static-ä½œç”¨åŸŸ"><a href="#0x0302-Static-ä½œç”¨åŸŸ" class="headerlink" title="0x0302 Static ä½œç”¨åŸŸ"></a>0x0302 Static ä½œç”¨åŸŸ</h3><p>å½“ä¸€ä¸ªå‡½æ•°å®Œæˆæ—¶ï¼Œå®ƒçš„æ‰€æœ‰å˜é‡é€šå¸¸éƒ½ä¼šè¢«åˆ é™¤ã€‚ç„¶è€Œï¼Œæœ‰æ—¶å€™æ‚¨å¸Œæœ›æŸä¸ªå±€éƒ¨å˜é‡ä¸è¦è¢«åˆ é™¤ã€‚</p><p>è¦åšåˆ°è¿™ä¸€ç‚¹ï¼Œè¯·åœ¨æ‚¨ç¬¬ä¸€æ¬¡å£°æ˜å˜é‡æ—¶ä½¿ç”¨ <strong>static</strong> å…³é”®å­—ï¼š</p><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myTest</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">static</span> <span class="variable">$x</span>=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$x</span>;</span><br><span class="line"><span class="variable">$x</span>++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_ invoke__">myTest</span>();</span><br><span class="line"><span class="title function_ invoke__">myTest</span>();</span><br><span class="line"><span class="title function_ invoke__">myTest</span>();</span><br><span class="line"></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><h3 id="0x0303-PHP-echo-å’Œ-print-è¯­å¥"><a href="#0x0303-PHP-echo-å’Œ-print-è¯­å¥" class="headerlink" title="0x0303 PHP echo å’Œ print è¯­å¥"></a>0x0303 PHP echo å’Œ print è¯­å¥</h3><p>echo å’Œ print åŒºåˆ«:</p><ul><li>echo - å¯ä»¥è¾“å‡ºä¸€ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ä¸²</li><li>print - åªå…è®¸è¾“å‡ºä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¿”å›å€¼æ€»ä¸º 1</li></ul><p><strong>æç¤ºï¼š</strong>echo è¾“å‡ºçš„é€Ÿåº¦æ¯” print å¿«ï¼Œ echo æ²¡æœ‰è¿”å›å€¼ï¼Œprintæœ‰è¿”å›å€¼1ã€‚</p><h2 id="0x04-PHP-æ•°æ®ç±»å‹"><a href="#0x04-PHP-æ•°æ®ç±»å‹" class="headerlink" title="0x04 PHP æ•°æ®ç±»å‹"></a>0x04 PHP æ•°æ®ç±»å‹</h2><p>Stringï¼ˆå­—ç¬¦ä¸²ï¼‰, Integerï¼ˆæ•´å‹ï¼‰, Floatï¼ˆæµ®ç‚¹å‹ï¼‰, Booleanï¼ˆå¸ƒå°”å‹ï¼‰, Arrayï¼ˆæ•°ç»„ï¼‰, Objectï¼ˆå¯¹è±¡ï¼‰, NULLï¼ˆç©ºå€¼ï¼‰</p><p>ä¸€ä¸ª<strong>å­—ç¬¦ä¸²</strong>æ˜¯ä¸€ä¸²å­—ç¬¦çš„åºåˆ—ï¼Œå°±åƒ â€œHello world!â€ã€‚</p><p><strong>æ•´æ•°</strong>æ˜¯ä¸€ä¸ªæ²¡æœ‰å°æ•°çš„æ•°å­—ã€‚</p><p>æ•´æ•°è§„åˆ™:</p><ul><li>æ•´æ•°å¿…é¡»è‡³å°‘æœ‰ä¸€ä¸ªæ•°å­— (0-9)</li><li>æ•´æ•°ä¸èƒ½åŒ…å«é€—å·æˆ–ç©ºæ ¼</li><li>æ•´æ•°æ˜¯æ²¡æœ‰å°æ•°ç‚¹çš„</li><li>æ•´æ•°å¯ä»¥æ˜¯æ­£æ•°æˆ–è´Ÿæ•°</li><li>æ•´å‹å¯ä»¥ç”¨ä¸‰ç§æ ¼å¼æ¥æŒ‡å®šï¼šåè¿›åˆ¶ï¼Œ åå…­è¿›åˆ¶ï¼ˆ ä»¥ 0x ä¸ºå‰ç¼€ï¼‰æˆ–å…«è¿›åˆ¶ï¼ˆå‰ç¼€ä¸º 0ï¼‰ã€‚</li></ul><p><strong>æµ®ç‚¹æ•°</strong>æ˜¯å¸¦å°æ•°éƒ¨åˆ†çš„æ•°å­—ï¼Œæˆ–æ˜¯æŒ‡æ•°å½¢å¼ã€‚</p><p><strong>å¸ƒå°”å‹</strong>å¯ä»¥æ˜¯ TRUE æˆ– FALSEã€‚</p><p>$x&#x3D;true;<br>$y&#x3D;false;</p><p>å¸ƒå°”å‹é€šå¸¸ç”¨äºæ¡ä»¶åˆ¤æ–­ã€‚åœ¨æ¥ä¸‹æ¥çš„ç« èŠ‚ä¸­ä½ ä¼šå­¦åˆ°æ›´å¤šå…³äºæ¡ä»¶æ§åˆ¶çš„æ•™ç¨‹ã€‚</p><p><strong>æ•°ç»„</strong>å¯ä»¥åœ¨ä¸€ä¸ªå˜é‡ä¸­å­˜å‚¨å¤šä¸ªå€¼ã€‚</p><p>åœ¨ä»¥ä¸‹å®ä¾‹ä¸­åˆ›å»ºäº†ä¸€ä¸ªæ•°ç»„ï¼Œ ç„¶åä½¿ç”¨ PHP var_dump() å‡½æ•°è¿”å›æ•°ç»„çš„æ•°æ®ç±»å‹å’Œå€¼ï¼š</p><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line"><span class="variable">$cars</span>=<span class="keyword">array</span>(<span class="string">&quot;Volvo&quot;</span>,<span class="string">&quot;BMW&quot;</span>,<span class="string">&quot;Toyota&quot;</span>);</span><br><span class="line"><span class="title function_ invoke__">var_dump</span>(<span class="variable">$cars</span>);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœï¼š</p><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="keyword">array</span>(<span class="number">3</span>) &#123; [<span class="number">0</span>]=&gt; <span class="keyword">string</span>(<span class="number">5</span>) <span class="string">&quot;Volvo&quot;</span> [<span class="number">1</span>]=&gt; <span class="keyword">string</span>(<span class="number">3</span>) <span class="string">&quot;BMW&quot;</span> [<span class="number">2</span>]=&gt; <span class="keyword">string</span>(<span class="number">6</span>) <span class="string">&quot;Toyota&quot;</span> &#125;</span><br></pre></td></tr></table></figure><p><strong>å¯¹è±¡</strong> æ•°æ®ç±»å‹ä¹Ÿå¯ä»¥ç”¨äºå­˜å‚¨æ•°æ®ã€‚</p><p>åœ¨ PHP ä¸­ï¼Œå¯¹è±¡å¿…é¡»å£°æ˜ã€‚</p><p>é¦–å…ˆï¼Œä½ å¿…é¡»ä½¿ç”¨classå…³é”®å­—å£°æ˜ç±»å¯¹è±¡ã€‚ç±»æ˜¯å¯ä»¥åŒ…å«å±æ€§å’Œæ–¹æ³•çš„ç»“æ„ã€‚</p><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Car</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">  <span class="keyword">var</span> <span class="variable">$color</span>;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">Car</span>(<span class="params"><span class="variable">$color</span>=<span class="string">&quot;green&quot;</span></span>) </span>&#123;</span><br><span class="line">    <span class="variable language_">$this</span>-&gt;color = <span class="variable">$color</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">what_color</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">$this</span>-&gt;color;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p><strong>NULL å€¼</strong>è¡¨ç¤ºå˜é‡æ²¡æœ‰å€¼ã€‚NULL æ˜¯æ•°æ®ç±»å‹ä¸º NULL çš„å€¼ã€‚</p><p>NULL å€¼æŒ‡æ˜ä¸€ä¸ªå˜é‡æ˜¯å¦ä¸ºç©ºå€¼ã€‚ åŒæ ·å¯ç”¨äºæ•°æ®ç©ºå€¼å’ŒNULLå€¼çš„åŒºåˆ«ã€‚</p><p>å¯ä»¥é€šè¿‡è®¾ç½®å˜é‡å€¼ä¸º NULL æ¥æ¸…ç©ºå˜é‡æ•°æ®</p>]]></content>
      
      
      <categories>
          
          <category> åç«¯å­¦ä¹  </category>
          
          <category> php </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åç«¯ </tag>
            
            <tag> php </tag>
            
            <tag> è¶…æ–‡æœ¬é¢„å¤„ç†å™¨ </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
